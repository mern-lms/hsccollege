var Ly=t=>{throw TypeError(t)};var fh=(t,e,n)=>e.has(t)||Ly("Cannot "+n);var z=(t,e,n)=>(fh(t,e,"read from private field"),n?n.call(t):e.get(t)),be=(t,e,n)=>e.has(t)?Ly("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),de=(t,e,n,r)=>(fh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),St=(t,e,n)=>(fh(t,e,"access private method"),n);var nu=(t,e,n,r)=>({set _(i){de(t,e,i,n)},get _(){return z(t,e,r)}});function Jb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function n_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r_={exports:{}},td={},i_={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _l=Symbol.for("react.element"),Zb=Symbol.for("react.portal"),eA=Symbol.for("react.fragment"),tA=Symbol.for("react.strict_mode"),nA=Symbol.for("react.profiler"),rA=Symbol.for("react.provider"),iA=Symbol.for("react.context"),sA=Symbol.for("react.forward_ref"),oA=Symbol.for("react.suspense"),aA=Symbol.for("react.memo"),lA=Symbol.for("react.lazy"),Fy=Symbol.iterator;function uA(t){return t===null||typeof t!="object"?null:(t=Fy&&t[Fy]||t["@@iterator"],typeof t=="function"?t:null)}var s_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o_=Object.assign,a_={};function ko(t,e,n){this.props=t,this.context=e,this.refs=a_,this.updater=n||s_}ko.prototype.isReactComponent={};ko.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ko.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function l_(){}l_.prototype=ko.prototype;function Kp(t,e,n){this.props=t,this.context=e,this.refs=a_,this.updater=n||s_}var qp=Kp.prototype=new l_;qp.constructor=Kp;o_(qp,ko.prototype);qp.isPureReactComponent=!0;var zy=Array.isArray,u_=Object.prototype.hasOwnProperty,Gp={current:null},c_={key:!0,ref:!0,__self:!0,__source:!0};function d_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)u_.call(e,r)&&!c_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:_l,type:t,key:s,ref:o,props:i,_owner:Gp.current}}function cA(t,e){return{$$typeof:_l,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qp(t){return typeof t=="object"&&t!==null&&t.$$typeof===_l}function dA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Uy=/\/+/g;function ph(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dA(""+t.key):e.toString(36)}function Mu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _l:case Zb:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ph(o,0):r,zy(i)?(n="",t!=null&&(n=t.replace(Uy,"$&/")+"/"),Mu(i,e,n,"",function(c){return c})):i!=null&&(Qp(i)&&(i=cA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Uy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",zy(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+ph(s,a);o+=Mu(s,e,n,u,i)}else if(u=uA(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+ph(s,a++),o+=Mu(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ru(t,e,n){if(t==null)return t;var r=[],i=0;return Mu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function hA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ut={current:null},ju={transition:null},fA={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:ju,ReactCurrentOwner:Gp};function h_(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:ru,forEach:function(t,e,n){ru(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ru(t,function(){e++}),e},toArray:function(t){return ru(t,function(e){return e})||[]},only:function(t){if(!Qp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=ko;me.Fragment=eA;me.Profiler=nA;me.PureComponent=Kp;me.StrictMode=tA;me.Suspense=oA;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fA;me.act=h_;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=o_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Gp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)u_.call(e,u)&&!c_.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:_l,type:t.type,key:i,ref:s,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:iA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rA,_context:t},t.Consumer=t};me.createElement=d_;me.createFactory=function(t){var e=d_.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:sA,render:t}};me.isValidElement=Qp;me.lazy=function(t){return{$$typeof:lA,_payload:{_status:-1,_result:t},_init:hA}};me.memo=function(t,e){return{$$typeof:aA,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=ju.transition;ju.transition={};try{t()}finally{ju.transition=e}};me.unstable_act=h_;me.useCallback=function(t,e){return Ut.current.useCallback(t,e)};me.useContext=function(t){return Ut.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Ut.current.useDeferredValue(t)};me.useEffect=function(t,e){return Ut.current.useEffect(t,e)};me.useId=function(){return Ut.current.useId()};me.useImperativeHandle=function(t,e,n){return Ut.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Ut.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Ut.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Ut.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Ut.current.useReducer(t,e,n)};me.useRef=function(t){return Ut.current.useRef(t)};me.useState=function(t){return Ut.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Ut.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Ut.current.useTransition()};me.version="18.3.1";i_.exports=me;var w=i_.exports;const K=n_(w),f_=Jb({__proto__:null,default:K},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pA=w,mA=Symbol.for("react.element"),gA=Symbol.for("react.fragment"),yA=Object.prototype.hasOwnProperty,vA=pA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wA={key:!0,ref:!0,__self:!0,__source:!0};function p_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)yA.call(e,r)&&!wA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:mA,type:t,key:s,ref:o,props:i,_owner:vA.current}}td.Fragment=gA;td.jsx=p_;td.jsxs=p_;r_.exports=td;var g=r_.exports,m_={exports:{}},un={},g_={exports:{}},y_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,$){var Y=j.length;j.push($);e:for(;0<Y;){var q=Y-1>>>1,J=j[q];if(0<i(J,$))j[q]=$,j[Y]=J,Y=q;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var $=j[0],Y=j.pop();if(Y!==$){j[0]=Y;e:for(var q=0,J=j.length,ee=J>>>1;q<ee;){var Se=2*(q+1)-1,Fe=j[Se],fe=Se+1,Z=j[fe];if(0>i(Fe,Y))fe<J&&0>i(Z,Fe)?(j[q]=Z,j[fe]=Y,q=fe):(j[q]=Fe,j[Se]=Y,q=Se);else if(fe<J&&0>i(Z,Y))j[q]=Z,j[fe]=Y,q=fe;else break e}}return $}function i(j,$){var Y=j.sortIndex-$.sortIndex;return Y!==0?Y:j.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,p=null,h=3,m=!1,x=!1,v=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(j){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=j)r(c),$.sortIndex=$.expirationTime,e(u,$);else break;$=n(c)}}function N(j){if(v=!1,S(j),!x)if(n(u)!==null)x=!0,X(k);else{var $=n(c);$!==null&&ne(N,$.startTime-j)}}function k(j,$){x=!1,v&&(v=!1,E(C),C=-1),m=!0;var Y=h;try{for(S($),p=n(u);p!==null&&(!(p.expirationTime>$)||j&&!D());){var q=p.callback;if(typeof q=="function"){p.callback=null,h=p.priorityLevel;var J=q(p.expirationTime<=$);$=t.unstable_now(),typeof J=="function"?p.callback=J:p===n(u)&&r(u),S($)}else r(u);p=n(u)}if(p!==null)var ee=!0;else{var Se=n(c);Se!==null&&ne(N,Se.startTime-$),ee=!1}return ee}finally{p=null,h=Y,m=!1}}var V=!1,b=null,C=-1,I=5,R=-1;function D(){return!(t.unstable_now()-R<I)}function O(){if(b!==null){var j=t.unstable_now();R=j;var $=!0;try{$=b(!0,j)}finally{$?P():(V=!1,b=null)}}else V=!1}var P;if(typeof _=="function")P=function(){_(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,re=H.port2;H.port1.onmessage=O,P=function(){re.postMessage(null)}}else P=function(){T(O,0)};function X(j){b=j,V||(V=!0,P())}function ne(j,$){C=T(function(){j(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){x||m||(x=!0,X(k))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(j){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var Y=h;h=$;try{return j()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Y=h;h=j;try{return $()}finally{h=Y}},t.unstable_scheduleCallback=function(j,$,Y){var q=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?q+Y:q):Y=q,j){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Y+J,j={id:d++,callback:$,priorityLevel:j,startTime:Y,expirationTime:J,sortIndex:-1},Y>q?(j.sortIndex=Y,e(c,j),n(u)===null&&j===n(c)&&(v?(E(C),C=-1):v=!0,ne(N,Y-q))):(j.sortIndex=J,e(u,j),x||m||(x=!0,X(k))),j},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(j){var $=h;return function(){var Y=h;h=$;try{return j.apply(this,arguments)}finally{h=Y}}}})(y_);g_.exports=y_;var _A=g_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EA=w,an=_A;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v_=new Set,Ua={};function ps(t,e){go(t,e),go(t+"Capture",e)}function go(t,e){for(Ua[t]=e,t=0;t<e.length;t++)v_.add(e[t])}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cf=Object.prototype.hasOwnProperty,xA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$y={},By={};function TA(t){return cf.call(By,t)?!0:cf.call($y,t)?!1:xA.test(t)?By[t]=!0:($y[t]=!0,!1)}function SA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function CA(t,e,n,r){if(e===null||typeof e>"u"||SA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $t(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wt[t]=new $t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wt[e]=new $t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wt[t]=new $t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wt[t]=new $t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wt[t]=new $t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wt[t]=new $t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wt[t]=new $t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wt[t]=new $t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wt[t]=new $t(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yp=/[\-:]([a-z])/g;function Xp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yp,Xp);wt[e]=new $t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yp,Xp);wt[e]=new $t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yp,Xp);wt[e]=new $t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wt[t]=new $t(t,1,!1,t.toLowerCase(),null,!1,!1)});wt.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wt[t]=new $t(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jp(t,e,n,r){var i=wt.hasOwnProperty(e)?wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(CA(e,n,i,r)&&(n=null),r||i===null?TA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Tr=EA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,iu=Symbol.for("react.element"),ks=Symbol.for("react.portal"),Ds=Symbol.for("react.fragment"),Zp=Symbol.for("react.strict_mode"),df=Symbol.for("react.profiler"),w_=Symbol.for("react.provider"),__=Symbol.for("react.context"),em=Symbol.for("react.forward_ref"),hf=Symbol.for("react.suspense"),ff=Symbol.for("react.suspense_list"),tm=Symbol.for("react.memo"),jr=Symbol.for("react.lazy"),E_=Symbol.for("react.offscreen"),Hy=Symbol.iterator;function la(t){return t===null||typeof t!="object"?null:(t=Hy&&t[Hy]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,mh;function va(t){if(mh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mh=e&&e[1]||""}return`
`+mh+t}var gh=!1;function yh(t,e){if(!t||gh)return"";gh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{gh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?va(t):""}function bA(t){switch(t.tag){case 5:return va(t.type);case 16:return va("Lazy");case 13:return va("Suspense");case 19:return va("SuspenseList");case 0:case 2:case 15:return t=yh(t.type,!1),t;case 11:return t=yh(t.type.render,!1),t;case 1:return t=yh(t.type,!0),t;default:return""}}function pf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ds:return"Fragment";case ks:return"Portal";case df:return"Profiler";case Zp:return"StrictMode";case hf:return"Suspense";case ff:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case __:return(t.displayName||"Context")+".Consumer";case w_:return(t._context.displayName||"Context")+".Provider";case em:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tm:return e=t.displayName||null,e!==null?e:pf(t.type)||"Memo";case jr:e=t._payload,t=t._init;try{return pf(t(e))}catch{}}return null}function AA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pf(e);case 8:return e===Zp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function x_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function IA(t){var e=x_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function su(t){t._valueTracker||(t._valueTracker=IA(t))}function T_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=x_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mf(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Wy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ci(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function S_(t,e){e=e.checked,e!=null&&Jp(t,"checked",e,!1)}function gf(t,e){S_(t,e);var n=ci(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yf(t,e.type,n):e.hasOwnProperty("defaultValue")&&yf(t,e.type,ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ky(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yf(t,e,n){(e!=="number"||sc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var wa=Array.isArray;function qs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ci(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function vf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(wa(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ci(n)}}function C_(t,e){var n=ci(e.value),r=ci(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Gy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function b_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?b_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ou,A_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ou=ou||document.createElement("div"),ou.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ou.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $a(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RA=["Webkit","ms","Moz","O"];Object.keys(ba).forEach(function(t){RA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ba[e]=ba[t]})});function I_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ba.hasOwnProperty(t)&&ba[t]?(""+e).trim():e+"px"}function R_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=I_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var PA=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _f(t,e){if(e){if(PA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Ef(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xf=null;function nm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tf=null,Gs=null,Qs=null;function Qy(t){if(t=Tl(t)){if(typeof Tf!="function")throw Error(B(280));var e=t.stateNode;e&&(e=od(e),Tf(t.stateNode,t.type,e))}}function P_(t){Gs?Qs?Qs.push(t):Qs=[t]:Gs=t}function N_(){if(Gs){var t=Gs,e=Qs;if(Qs=Gs=null,Qy(t),e)for(t=0;t<e.length;t++)Qy(e[t])}}function k_(t,e){return t(e)}function D_(){}var vh=!1;function O_(t,e,n){if(vh)return t(e,n);vh=!0;try{return k_(t,e,n)}finally{vh=!1,(Gs!==null||Qs!==null)&&(D_(),N_())}}function Ba(t,e){var n=t.stateNode;if(n===null)return null;var r=od(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Sf=!1;if(pr)try{var ua={};Object.defineProperty(ua,"passive",{get:function(){Sf=!0}}),window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{Sf=!1}function NA(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Aa=!1,oc=null,ac=!1,Cf=null,kA={onError:function(t){Aa=!0,oc=t}};function DA(t,e,n,r,i,s,o,a,u){Aa=!1,oc=null,NA.apply(kA,arguments)}function OA(t,e,n,r,i,s,o,a,u){if(DA.apply(this,arguments),Aa){if(Aa){var c=oc;Aa=!1,oc=null}else throw Error(B(198));ac||(ac=!0,Cf=c)}}function ms(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function V_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Yy(t){if(ms(t)!==t)throw Error(B(188))}function VA(t){var e=t.alternate;if(!e){if(e=ms(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Yy(i),t;if(s===r)return Yy(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function M_(t){return t=VA(t),t!==null?j_(t):null}function j_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=j_(t);if(e!==null)return e;t=t.sibling}return null}var L_=an.unstable_scheduleCallback,Xy=an.unstable_cancelCallback,MA=an.unstable_shouldYield,jA=an.unstable_requestPaint,Je=an.unstable_now,LA=an.unstable_getCurrentPriorityLevel,rm=an.unstable_ImmediatePriority,F_=an.unstable_UserBlockingPriority,lc=an.unstable_NormalPriority,FA=an.unstable_LowPriority,z_=an.unstable_IdlePriority,nd=null,qn=null;function zA(t){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(nd,t,void 0,(t.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:BA,UA=Math.log,$A=Math.LN2;function BA(t){return t>>>=0,t===0?32:31-(UA(t)/$A|0)|0}var au=64,lu=4194304;function _a(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function uc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=_a(a):(s&=o,s!==0&&(r=_a(s)))}else o=n&~i,o!==0?r=_a(o):s!==0&&(r=_a(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rn(e),i=1<<n,r|=t[n],e&=~i;return r}function HA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Rn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=HA(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function bf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function U_(){var t=au;return au<<=1,!(au&4194240)&&(au=64),t}function wh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function El(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rn(e),t[e]=n}function KA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Rn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function im(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Re=0;function $_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var B_,sm,H_,W_,K_,Af=!1,uu=[],Yr=null,Xr=null,Jr=null,Ha=new Map,Wa=new Map,Fr=[],qA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jy(t,e){switch(t){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Ha.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wa.delete(e.pointerId)}}function ca(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Tl(e),e!==null&&sm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function GA(t,e,n,r,i){switch(e){case"focusin":return Yr=ca(Yr,t,e,n,r,i),!0;case"dragenter":return Xr=ca(Xr,t,e,n,r,i),!0;case"mouseover":return Jr=ca(Jr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ha.set(s,ca(Ha.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Wa.set(s,ca(Wa.get(s)||null,t,e,n,r,i)),!0}return!1}function q_(t){var e=$i(t.target);if(e!==null){var n=ms(e);if(n!==null){if(e=n.tag,e===13){if(e=V_(n),e!==null){t.blockedOn=e,K_(t.priority,function(){H_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=If(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xf=r,n.target.dispatchEvent(r),xf=null}else return e=Tl(n),e!==null&&sm(e),t.blockedOn=n,!1;e.shift()}return!0}function Zy(t,e,n){Lu(t)&&n.delete(e)}function QA(){Af=!1,Yr!==null&&Lu(Yr)&&(Yr=null),Xr!==null&&Lu(Xr)&&(Xr=null),Jr!==null&&Lu(Jr)&&(Jr=null),Ha.forEach(Zy),Wa.forEach(Zy)}function da(t,e){t.blockedOn===e&&(t.blockedOn=null,Af||(Af=!0,an.unstable_scheduleCallback(an.unstable_NormalPriority,QA)))}function Ka(t){function e(i){return da(i,t)}if(0<uu.length){da(uu[0],t);for(var n=1;n<uu.length;n++){var r=uu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yr!==null&&da(Yr,t),Xr!==null&&da(Xr,t),Jr!==null&&da(Jr,t),Ha.forEach(e),Wa.forEach(e),n=0;n<Fr.length;n++)r=Fr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fr.length&&(n=Fr[0],n.blockedOn===null);)q_(n),n.blockedOn===null&&Fr.shift()}var Ys=Tr.ReactCurrentBatchConfig,cc=!0;function YA(t,e,n,r){var i=Re,s=Ys.transition;Ys.transition=null;try{Re=1,om(t,e,n,r)}finally{Re=i,Ys.transition=s}}function XA(t,e,n,r){var i=Re,s=Ys.transition;Ys.transition=null;try{Re=4,om(t,e,n,r)}finally{Re=i,Ys.transition=s}}function om(t,e,n,r){if(cc){var i=If(t,e,n,r);if(i===null)Rh(t,e,r,dc,n),Jy(t,r);else if(GA(i,t,e,n,r))r.stopPropagation();else if(Jy(t,r),e&4&&-1<qA.indexOf(t)){for(;i!==null;){var s=Tl(i);if(s!==null&&B_(s),s=If(t,e,n,r),s===null&&Rh(t,e,r,dc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Rh(t,e,r,null,n)}}var dc=null;function If(t,e,n,r){if(dc=null,t=nm(r),t=$i(t),t!==null)if(e=ms(t),e===null)t=null;else if(n=e.tag,n===13){if(t=V_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return dc=t,null}function G_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LA()){case rm:return 1;case F_:return 4;case lc:case FA:return 16;case z_:return 536870912;default:return 16}default:return 16}}var Kr=null,am=null,Fu=null;function Q_(){if(Fu)return Fu;var t,e=am,n=e.length,r,i="value"in Kr?Kr.value:Kr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Fu=i.slice(t,1<r?1-r:void 0)}function zu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cu(){return!0}function ev(){return!1}function cn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?cu:ev,this.isPropagationStopped=ev,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cu)},persist:function(){},isPersistent:cu}),e}var Do={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lm=cn(Do),xl=We({},Do,{view:0,detail:0}),JA=cn(xl),_h,Eh,ha,rd=We({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:um,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ha&&(ha&&t.type==="mousemove"?(_h=t.screenX-ha.screenX,Eh=t.screenY-ha.screenY):Eh=_h=0,ha=t),_h)},movementY:function(t){return"movementY"in t?t.movementY:Eh}}),tv=cn(rd),ZA=We({},rd,{dataTransfer:0}),eI=cn(ZA),tI=We({},xl,{relatedTarget:0}),xh=cn(tI),nI=We({},Do,{animationName:0,elapsedTime:0,pseudoElement:0}),rI=cn(nI),iI=We({},Do,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sI=cn(iI),oI=We({},Do,{data:0}),nv=cn(oI),aI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uI[t])?!!e[t]:!1}function um(){return cI}var dI=We({},xl,{key:function(t){if(t.key){var e=aI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:um,charCode:function(t){return t.type==="keypress"?zu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hI=cn(dI),fI=We({},rd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rv=cn(fI),pI=We({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:um}),mI=cn(pI),gI=We({},Do,{propertyName:0,elapsedTime:0,pseudoElement:0}),yI=cn(gI),vI=We({},rd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wI=cn(vI),_I=[9,13,27,32],cm=pr&&"CompositionEvent"in window,Ia=null;pr&&"documentMode"in document&&(Ia=document.documentMode);var EI=pr&&"TextEvent"in window&&!Ia,Y_=pr&&(!cm||Ia&&8<Ia&&11>=Ia),iv=" ",sv=!1;function X_(t,e){switch(t){case"keyup":return _I.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Os=!1;function xI(t,e){switch(t){case"compositionend":return J_(e);case"keypress":return e.which!==32?null:(sv=!0,iv);case"textInput":return t=e.data,t===iv&&sv?null:t;default:return null}}function TI(t,e){if(Os)return t==="compositionend"||!cm&&X_(t,e)?(t=Q_(),Fu=am=Kr=null,Os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Y_&&e.locale!=="ko"?null:e.data;default:return null}}var SI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ov(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SI[t.type]:e==="textarea"}function Z_(t,e,n,r){P_(r),e=hc(e,"onChange"),0<e.length&&(n=new lm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ra=null,qa=null;function CI(t){c1(t,0)}function id(t){var e=js(t);if(T_(e))return t}function bI(t,e){if(t==="change")return e}var e1=!1;if(pr){var Th;if(pr){var Sh="oninput"in document;if(!Sh){var av=document.createElement("div");av.setAttribute("oninput","return;"),Sh=typeof av.oninput=="function"}Th=Sh}else Th=!1;e1=Th&&(!document.documentMode||9<document.documentMode)}function lv(){Ra&&(Ra.detachEvent("onpropertychange",t1),qa=Ra=null)}function t1(t){if(t.propertyName==="value"&&id(qa)){var e=[];Z_(e,qa,t,nm(t)),O_(CI,e)}}function AI(t,e,n){t==="focusin"?(lv(),Ra=e,qa=n,Ra.attachEvent("onpropertychange",t1)):t==="focusout"&&lv()}function II(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return id(qa)}function RI(t,e){if(t==="click")return id(e)}function PI(t,e){if(t==="input"||t==="change")return id(e)}function NI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kn=typeof Object.is=="function"?Object.is:NI;function Ga(t,e){if(kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cf.call(e,i)||!kn(t[i],e[i]))return!1}return!0}function uv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cv(t,e){var n=uv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uv(n)}}function n1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?n1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function r1(){for(var t=window,e=sc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sc(t.document)}return e}function dm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kI(t){var e=r1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&n1(n.ownerDocument.documentElement,n)){if(r!==null&&dm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=cv(n,s);var o=cv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var DI=pr&&"documentMode"in document&&11>=document.documentMode,Vs=null,Rf=null,Pa=null,Pf=!1;function dv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pf||Vs==null||Vs!==sc(r)||(r=Vs,"selectionStart"in r&&dm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pa&&Ga(Pa,r)||(Pa=r,r=hc(Rf,"onSelect"),0<r.length&&(e=new lm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vs)))}function du(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ms={animationend:du("Animation","AnimationEnd"),animationiteration:du("Animation","AnimationIteration"),animationstart:du("Animation","AnimationStart"),transitionend:du("Transition","TransitionEnd")},Ch={},i1={};pr&&(i1=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function sd(t){if(Ch[t])return Ch[t];if(!Ms[t])return t;var e=Ms[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in i1)return Ch[t]=e[n];return t}var s1=sd("animationend"),o1=sd("animationiteration"),a1=sd("animationstart"),l1=sd("transitionend"),u1=new Map,hv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(t,e){u1.set(t,e),ps(e,[t])}for(var bh=0;bh<hv.length;bh++){var Ah=hv[bh],OI=Ah.toLowerCase(),VI=Ah[0].toUpperCase()+Ah.slice(1);Ti(OI,"on"+VI)}Ti(s1,"onAnimationEnd");Ti(o1,"onAnimationIteration");Ti(a1,"onAnimationStart");Ti("dblclick","onDoubleClick");Ti("focusin","onFocus");Ti("focusout","onBlur");Ti(l1,"onTransitionEnd");go("onMouseEnter",["mouseout","mouseover"]);go("onMouseLeave",["mouseout","mouseover"]);go("onPointerEnter",["pointerout","pointerover"]);go("onPointerLeave",["pointerout","pointerover"]);ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ea));function fv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,OA(r,e,void 0,t),t.currentTarget=null}function c1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;fv(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;fv(i,a,c),s=u}}}if(ac)throw t=Cf,ac=!1,Cf=null,t}function je(t,e){var n=e[Vf];n===void 0&&(n=e[Vf]=new Set);var r=t+"__bubble";n.has(r)||(d1(e,t,2,!1),n.add(r))}function Ih(t,e,n){var r=0;e&&(r|=4),d1(n,t,r,e)}var hu="_reactListening"+Math.random().toString(36).slice(2);function Qa(t){if(!t[hu]){t[hu]=!0,v_.forEach(function(n){n!=="selectionchange"&&(MI.has(n)||Ih(n,!1,t),Ih(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hu]||(e[hu]=!0,Ih("selectionchange",!1,e))}}function d1(t,e,n,r){switch(G_(e)){case 1:var i=YA;break;case 4:i=XA;break;default:i=om}n=i.bind(null,e,n,t),i=void 0,!Sf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Rh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=$i(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}O_(function(){var c=s,d=nm(n),p=[];e:{var h=u1.get(t);if(h!==void 0){var m=lm,x=t;switch(t){case"keypress":if(zu(n)===0)break e;case"keydown":case"keyup":m=hI;break;case"focusin":x="focus",m=xh;break;case"focusout":x="blur",m=xh;break;case"beforeblur":case"afterblur":m=xh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=tv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=eI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=mI;break;case s1:case o1:case a1:m=rI;break;case l1:m=yI;break;case"scroll":m=JA;break;case"wheel":m=wI;break;case"copy":case"cut":case"paste":m=sI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=rv}var v=(e&4)!==0,T=!v&&t==="scroll",E=v?h!==null?h+"Capture":null:h;v=[];for(var _=c,S;_!==null;){S=_;var N=S.stateNode;if(S.tag===5&&N!==null&&(S=N,E!==null&&(N=Ba(_,E),N!=null&&v.push(Ya(_,N,S)))),T)break;_=_.return}0<v.length&&(h=new m(h,x,null,n,d),p.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==xf&&(x=n.relatedTarget||n.fromElement)&&($i(x)||x[mr]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=c,x=x?$i(x):null,x!==null&&(T=ms(x),x!==T||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=c),m!==x)){if(v=tv,N="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=rv,N="onPointerLeave",E="onPointerEnter",_="pointer"),T=m==null?h:js(m),S=x==null?h:js(x),h=new v(N,_+"leave",m,n,d),h.target=T,h.relatedTarget=S,N=null,$i(d)===c&&(v=new v(E,_+"enter",x,n,d),v.target=S,v.relatedTarget=T,N=v),T=N,m&&x)t:{for(v=m,E=x,_=0,S=v;S;S=Ss(S))_++;for(S=0,N=E;N;N=Ss(N))S++;for(;0<_-S;)v=Ss(v),_--;for(;0<S-_;)E=Ss(E),S--;for(;_--;){if(v===E||E!==null&&v===E.alternate)break t;v=Ss(v),E=Ss(E)}v=null}else v=null;m!==null&&pv(p,h,m,v,!1),x!==null&&T!==null&&pv(p,T,x,v,!0)}}e:{if(h=c?js(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var k=bI;else if(ov(h))if(e1)k=PI;else{k=II;var V=AI}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=RI);if(k&&(k=k(t,c))){Z_(p,k,n,d);break e}V&&V(t,h,c),t==="focusout"&&(V=h._wrapperState)&&V.controlled&&h.type==="number"&&yf(h,"number",h.value)}switch(V=c?js(c):window,t){case"focusin":(ov(V)||V.contentEditable==="true")&&(Vs=V,Rf=c,Pa=null);break;case"focusout":Pa=Rf=Vs=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,dv(p,n,d);break;case"selectionchange":if(DI)break;case"keydown":case"keyup":dv(p,n,d)}var b;if(cm)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Os?X_(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Y_&&n.locale!=="ko"&&(Os||C!=="onCompositionStart"?C==="onCompositionEnd"&&Os&&(b=Q_()):(Kr=d,am="value"in Kr?Kr.value:Kr.textContent,Os=!0)),V=hc(c,C),0<V.length&&(C=new nv(C,t,null,n,d),p.push({event:C,listeners:V}),b?C.data=b:(b=J_(n),b!==null&&(C.data=b)))),(b=EI?xI(t,n):TI(t,n))&&(c=hc(c,"onBeforeInput"),0<c.length&&(d=new nv("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=b))}c1(p,e)})}function Ya(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ba(t,n),s!=null&&r.unshift(Ya(t,s,i)),s=Ba(t,e),s!=null&&r.push(Ya(t,s,i))),t=t.return}return r}function Ss(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=Ba(n,s),u!=null&&o.unshift(Ya(n,u,a))):i||(u=Ba(n,s),u!=null&&o.push(Ya(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var jI=/\r\n?/g,LI=/\u0000|\uFFFD/g;function mv(t){return(typeof t=="string"?t:""+t).replace(jI,`
`).replace(LI,"")}function fu(t,e,n){if(e=mv(e),mv(t)!==e&&n)throw Error(B(425))}function fc(){}var Nf=null,kf=null;function Df(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Of=typeof setTimeout=="function"?setTimeout:void 0,FI=typeof clearTimeout=="function"?clearTimeout:void 0,gv=typeof Promise=="function"?Promise:void 0,zI=typeof queueMicrotask=="function"?queueMicrotask:typeof gv<"u"?function(t){return gv.resolve(null).then(t).catch(UI)}:Of;function UI(t){setTimeout(function(){throw t})}function Ph(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ka(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ka(e)}function Zr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Oo,Xa="__reactProps$"+Oo,mr="__reactContainer$"+Oo,Vf="__reactEvents$"+Oo,$I="__reactListeners$"+Oo,BI="__reactHandles$"+Oo;function $i(t){var e=t[Hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mr]||n[Hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yv(t);t!==null;){if(n=t[Hn])return n;t=yv(t)}return e}t=n,n=t.parentNode}return null}function Tl(t){return t=t[Hn]||t[mr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function js(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function od(t){return t[Xa]||null}var Mf=[],Ls=-1;function Si(t){return{current:t}}function Le(t){0>Ls||(t.current=Mf[Ls],Mf[Ls]=null,Ls--)}function De(t,e){Ls++,Mf[Ls]=t.current,t.current=e}var di={},kt=Si(di),Gt=Si(!1),es=di;function yo(t,e){var n=t.type.contextTypes;if(!n)return di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qt(t){return t=t.childContextTypes,t!=null}function pc(){Le(Gt),Le(kt)}function vv(t,e,n){if(kt.current!==di)throw Error(B(168));De(kt,e),De(Gt,n)}function h1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,AA(t)||"Unknown",i));return We({},n,r)}function mc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||di,es=kt.current,De(kt,t),De(Gt,Gt.current),!0}function wv(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=h1(t,e,es),r.__reactInternalMemoizedMergedChildContext=t,Le(Gt),Le(kt),De(kt,t)):Le(Gt),De(Gt,n)}var cr=null,ad=!1,Nh=!1;function f1(t){cr===null?cr=[t]:cr.push(t)}function HI(t){ad=!0,f1(t)}function Ci(){if(!Nh&&cr!==null){Nh=!0;var t=0,e=Re;try{var n=cr;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}cr=null,ad=!1}catch(i){throw cr!==null&&(cr=cr.slice(t+1)),L_(rm,Ci),i}finally{Re=e,Nh=!1}}return null}var Fs=[],zs=0,gc=null,yc=0,pn=[],mn=0,ts=null,dr=1,hr="";function Li(t,e){Fs[zs++]=yc,Fs[zs++]=gc,gc=t,yc=e}function p1(t,e,n){pn[mn++]=dr,pn[mn++]=hr,pn[mn++]=ts,ts=t;var r=dr;t=hr;var i=32-Rn(r)-1;r&=~(1<<i),n+=1;var s=32-Rn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,dr=1<<32-Rn(e)+i|n<<i|r,hr=s+t}else dr=1<<s|n<<i|r,hr=t}function hm(t){t.return!==null&&(Li(t,1),p1(t,1,0))}function fm(t){for(;t===gc;)gc=Fs[--zs],Fs[zs]=null,yc=Fs[--zs],Fs[zs]=null;for(;t===ts;)ts=pn[--mn],pn[mn]=null,hr=pn[--mn],pn[mn]=null,dr=pn[--mn],pn[mn]=null}var sn=null,nn=null,Ue=!1,In=null;function m1(t,e){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function _v(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,sn=t,nn=Zr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,sn=t,nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ts!==null?{id:dr,overflow:hr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,sn=t,nn=null,!0):!1;default:return!1}}function jf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Lf(t){if(Ue){var e=nn;if(e){var n=e;if(!_v(t,e)){if(jf(t))throw Error(B(418));e=Zr(n.nextSibling);var r=sn;e&&_v(t,e)?m1(r,n):(t.flags=t.flags&-4097|2,Ue=!1,sn=t)}}else{if(jf(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ue=!1,sn=t}}}function Ev(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sn=t}function pu(t){if(t!==sn)return!1;if(!Ue)return Ev(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Df(t.type,t.memoizedProps)),e&&(e=nn)){if(jf(t))throw g1(),Error(B(418));for(;e;)m1(t,e),e=Zr(e.nextSibling)}if(Ev(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){nn=Zr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}nn=null}}else nn=sn?Zr(t.stateNode.nextSibling):null;return!0}function g1(){for(var t=nn;t;)t=Zr(t.nextSibling)}function vo(){nn=sn=null,Ue=!1}function pm(t){In===null?In=[t]:In.push(t)}var WI=Tr.ReactCurrentBatchConfig;function fa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function mu(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xv(t){var e=t._init;return e(t._payload)}function y1(t){function e(E,_){if(t){var S=E.deletions;S===null?(E.deletions=[_],E.flags|=16):S.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function i(E,_){return E=ri(E,_),E.index=0,E.sibling=null,E}function s(E,_,S){return E.index=S,t?(S=E.alternate,S!==null?(S=S.index,S<_?(E.flags|=2,_):S):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,_,S,N){return _===null||_.tag!==6?(_=Lh(S,E.mode,N),_.return=E,_):(_=i(_,S),_.return=E,_)}function u(E,_,S,N){var k=S.type;return k===Ds?d(E,_,S.props.children,N,S.key):_!==null&&(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===jr&&xv(k)===_.type)?(N=i(_,S.props),N.ref=fa(E,_,S),N.return=E,N):(N=qu(S.type,S.key,S.props,null,E.mode,N),N.ref=fa(E,_,S),N.return=E,N)}function c(E,_,S,N){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Fh(S,E.mode,N),_.return=E,_):(_=i(_,S.children||[]),_.return=E,_)}function d(E,_,S,N,k){return _===null||_.tag!==7?(_=Zi(S,E.mode,N,k),_.return=E,_):(_=i(_,S),_.return=E,_)}function p(E,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Lh(""+_,E.mode,S),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case iu:return S=qu(_.type,_.key,_.props,null,E.mode,S),S.ref=fa(E,null,_),S.return=E,S;case ks:return _=Fh(_,E.mode,S),_.return=E,_;case jr:var N=_._init;return p(E,N(_._payload),S)}if(wa(_)||la(_))return _=Zi(_,E.mode,S,null),_.return=E,_;mu(E,_)}return null}function h(E,_,S,N){var k=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return k!==null?null:a(E,_,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case iu:return S.key===k?u(E,_,S,N):null;case ks:return S.key===k?c(E,_,S,N):null;case jr:return k=S._init,h(E,_,k(S._payload),N)}if(wa(S)||la(S))return k!==null?null:d(E,_,S,N,null);mu(E,S)}return null}function m(E,_,S,N,k){if(typeof N=="string"&&N!==""||typeof N=="number")return E=E.get(S)||null,a(_,E,""+N,k);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case iu:return E=E.get(N.key===null?S:N.key)||null,u(_,E,N,k);case ks:return E=E.get(N.key===null?S:N.key)||null,c(_,E,N,k);case jr:var V=N._init;return m(E,_,S,V(N._payload),k)}if(wa(N)||la(N))return E=E.get(S)||null,d(_,E,N,k,null);mu(_,N)}return null}function x(E,_,S,N){for(var k=null,V=null,b=_,C=_=0,I=null;b!==null&&C<S.length;C++){b.index>C?(I=b,b=null):I=b.sibling;var R=h(E,b,S[C],N);if(R===null){b===null&&(b=I);break}t&&b&&R.alternate===null&&e(E,b),_=s(R,_,C),V===null?k=R:V.sibling=R,V=R,b=I}if(C===S.length)return n(E,b),Ue&&Li(E,C),k;if(b===null){for(;C<S.length;C++)b=p(E,S[C],N),b!==null&&(_=s(b,_,C),V===null?k=b:V.sibling=b,V=b);return Ue&&Li(E,C),k}for(b=r(E,b);C<S.length;C++)I=m(b,E,C,S[C],N),I!==null&&(t&&I.alternate!==null&&b.delete(I.key===null?C:I.key),_=s(I,_,C),V===null?k=I:V.sibling=I,V=I);return t&&b.forEach(function(D){return e(E,D)}),Ue&&Li(E,C),k}function v(E,_,S,N){var k=la(S);if(typeof k!="function")throw Error(B(150));if(S=k.call(S),S==null)throw Error(B(151));for(var V=k=null,b=_,C=_=0,I=null,R=S.next();b!==null&&!R.done;C++,R=S.next()){b.index>C?(I=b,b=null):I=b.sibling;var D=h(E,b,R.value,N);if(D===null){b===null&&(b=I);break}t&&b&&D.alternate===null&&e(E,b),_=s(D,_,C),V===null?k=D:V.sibling=D,V=D,b=I}if(R.done)return n(E,b),Ue&&Li(E,C),k;if(b===null){for(;!R.done;C++,R=S.next())R=p(E,R.value,N),R!==null&&(_=s(R,_,C),V===null?k=R:V.sibling=R,V=R);return Ue&&Li(E,C),k}for(b=r(E,b);!R.done;C++,R=S.next())R=m(b,E,C,R.value,N),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?C:R.key),_=s(R,_,C),V===null?k=R:V.sibling=R,V=R);return t&&b.forEach(function(O){return e(E,O)}),Ue&&Li(E,C),k}function T(E,_,S,N){if(typeof S=="object"&&S!==null&&S.type===Ds&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case iu:e:{for(var k=S.key,V=_;V!==null;){if(V.key===k){if(k=S.type,k===Ds){if(V.tag===7){n(E,V.sibling),_=i(V,S.props.children),_.return=E,E=_;break e}}else if(V.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===jr&&xv(k)===V.type){n(E,V.sibling),_=i(V,S.props),_.ref=fa(E,V,S),_.return=E,E=_;break e}n(E,V);break}else e(E,V);V=V.sibling}S.type===Ds?(_=Zi(S.props.children,E.mode,N,S.key),_.return=E,E=_):(N=qu(S.type,S.key,S.props,null,E.mode,N),N.ref=fa(E,_,S),N.return=E,E=N)}return o(E);case ks:e:{for(V=S.key;_!==null;){if(_.key===V)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(E,_.sibling),_=i(_,S.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=Fh(S,E.mode,N),_.return=E,E=_}return o(E);case jr:return V=S._init,T(E,_,V(S._payload),N)}if(wa(S))return x(E,_,S,N);if(la(S))return v(E,_,S,N);mu(E,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(E,_.sibling),_=i(_,S),_.return=E,E=_):(n(E,_),_=Lh(S,E.mode,N),_.return=E,E=_),o(E)):n(E,_)}return T}var wo=y1(!0),v1=y1(!1),vc=Si(null),wc=null,Us=null,mm=null;function gm(){mm=Us=wc=null}function ym(t){var e=vc.current;Le(vc),t._currentValue=e}function Ff(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xs(t,e){wc=t,mm=Us=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qt=!0),t.firstContext=null)}function wn(t){var e=t._currentValue;if(mm!==t)if(t={context:t,memoizedValue:e,next:null},Us===null){if(wc===null)throw Error(B(308));Us=t,wc.dependencies={lanes:0,firstContext:t}}else Us=Us.next=t;return e}var Bi=null;function vm(t){Bi===null?Bi=[t]:Bi.push(t)}function w1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vm(e)):(n.next=i.next,i.next=n),e.interleaved=n,gr(t,r)}function gr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Lr=!1;function wm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,gr(t,n)}return i=r.interleaved,i===null?(e.next=e,vm(r)):(e.next=i.next,i.next=e),r.interleaved=e,gr(t,n)}function Uu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,im(t,n)}}function Tv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _c(t,e,n,r){var i=t.updateQueue;Lr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,d=c=u=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,v=a;switch(h=e,m=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){p=x.call(m,p,h);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,h=typeof x=="function"?x.call(m,p,h):x,h==null)break e;p=We({},p,h);break e;case 2:Lr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,u=p):d=d.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);rs|=o,t.lanes=o,t.memoizedState=p}}function Sv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var Sl={},Gn=Si(Sl),Ja=Si(Sl),Za=Si(Sl);function Hi(t){if(t===Sl)throw Error(B(174));return t}function _m(t,e){switch(De(Za,e),De(Ja,t),De(Gn,Sl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wf(e,t)}Le(Gn),De(Gn,e)}function _o(){Le(Gn),Le(Ja),Le(Za)}function E1(t){Hi(Za.current);var e=Hi(Gn.current),n=wf(e,t.type);e!==n&&(De(Ja,t),De(Gn,n))}function Em(t){Ja.current===t&&(Le(Gn),Le(Ja))}var Be=Si(0);function Ec(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kh=[];function xm(){for(var t=0;t<kh.length;t++)kh[t]._workInProgressVersionPrimary=null;kh.length=0}var $u=Tr.ReactCurrentDispatcher,Dh=Tr.ReactCurrentBatchConfig,ns=0,He=null,st=null,dt=null,xc=!1,Na=!1,el=0,KI=0;function Ct(){throw Error(B(321))}function Tm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kn(t[n],e[n]))return!1;return!0}function Sm(t,e,n,r,i,s){if(ns=s,He=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$u.current=t===null||t.memoizedState===null?YI:XI,t=n(r,i),Na){s=0;do{if(Na=!1,el=0,25<=s)throw Error(B(301));s+=1,dt=st=null,e.updateQueue=null,$u.current=JI,t=n(r,i)}while(Na)}if($u.current=Tc,e=st!==null&&st.next!==null,ns=0,dt=st=He=null,xc=!1,e)throw Error(B(300));return t}function Cm(){var t=el!==0;return el=0,t}function Fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?He.memoizedState=dt=t:dt=dt.next=t,dt}function _n(){if(st===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=dt===null?He.memoizedState:dt.next;if(e!==null)dt=e,st=t;else{if(t===null)throw Error(B(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},dt===null?He.memoizedState=dt=t:dt=dt.next=t}return dt}function tl(t,e){return typeof e=="function"?e(t):e}function Oh(t){var e=_n(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=st,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var d=c.lane;if((ns&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=p,o=r):u=u.next=p,He.lanes|=d,rs|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,kn(r,e.memoizedState)||(qt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,He.lanes|=s,rs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vh(t){var e=_n(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);kn(s,e.memoizedState)||(qt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function x1(){}function T1(t,e){var n=He,r=_n(),i=e(),s=!kn(r.memoizedState,i);if(s&&(r.memoizedState=i,qt=!0),r=r.queue,bm(b1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,nl(9,C1.bind(null,n,r,i,e),void 0,null),ht===null)throw Error(B(349));ns&30||S1(n,e,i)}return i}function S1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function C1(t,e,n,r){e.value=n,e.getSnapshot=r,A1(e)&&I1(t)}function b1(t,e,n){return n(function(){A1(e)&&I1(t)})}function A1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kn(t,n)}catch{return!0}}function I1(t){var e=gr(t,1);e!==null&&Pn(e,t,1,-1)}function Cv(t){var e=Fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:t},e.queue=t,t=t.dispatch=QI.bind(null,He,t),[e.memoizedState,t]}function nl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function R1(){return _n().memoizedState}function Bu(t,e,n,r){var i=Fn();He.flags|=t,i.memoizedState=nl(1|e,n,void 0,r===void 0?null:r)}function ld(t,e,n,r){var i=_n();r=r===void 0?null:r;var s=void 0;if(st!==null){var o=st.memoizedState;if(s=o.destroy,r!==null&&Tm(r,o.deps)){i.memoizedState=nl(e,n,s,r);return}}He.flags|=t,i.memoizedState=nl(1|e,n,s,r)}function bv(t,e){return Bu(8390656,8,t,e)}function bm(t,e){return ld(2048,8,t,e)}function P1(t,e){return ld(4,2,t,e)}function N1(t,e){return ld(4,4,t,e)}function k1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function D1(t,e,n){return n=n!=null?n.concat([t]):null,ld(4,4,k1.bind(null,e,t),n)}function Am(){}function O1(t,e){var n=_n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function V1(t,e){var n=_n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function M1(t,e,n){return ns&21?(kn(n,e)||(n=U_(),He.lanes|=n,rs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=n)}function qI(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=Dh.transition;Dh.transition={};try{t(!1),e()}finally{Re=n,Dh.transition=r}}function j1(){return _n().memoizedState}function GI(t,e,n){var r=ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},L1(t))F1(e,n);else if(n=w1(t,e,n,r),n!==null){var i=zt();Pn(n,t,r,i),z1(n,e,r)}}function QI(t,e,n){var r=ni(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(L1(t))F1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,kn(a,o)){var u=e.interleaved;u===null?(i.next=i,vm(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=w1(t,e,i,r),n!==null&&(i=zt(),Pn(n,t,r,i),z1(n,e,r))}}function L1(t){var e=t.alternate;return t===He||e!==null&&e===He}function F1(t,e){Na=xc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function z1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,im(t,n)}}var Tc={readContext:wn,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},YI={readContext:wn,useCallback:function(t,e){return Fn().memoizedState=[t,e===void 0?null:e],t},useContext:wn,useEffect:bv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bu(4194308,4,k1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bu(4,2,t,e)},useMemo:function(t,e){var n=Fn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=GI.bind(null,He,t),[r.memoizedState,t]},useRef:function(t){var e=Fn();return t={current:t},e.memoizedState=t},useState:Cv,useDebugValue:Am,useDeferredValue:function(t){return Fn().memoizedState=t},useTransition:function(){var t=Cv(!1),e=t[0];return t=qI.bind(null,t[1]),Fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=He,i=Fn();if(Ue){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),ht===null)throw Error(B(349));ns&30||S1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,bv(b1.bind(null,r,s,t),[t]),r.flags|=2048,nl(9,C1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Fn(),e=ht.identifierPrefix;if(Ue){var n=hr,r=dr;n=(r&~(1<<32-Rn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=el++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=KI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},XI={readContext:wn,useCallback:O1,useContext:wn,useEffect:bm,useImperativeHandle:D1,useInsertionEffect:P1,useLayoutEffect:N1,useMemo:V1,useReducer:Oh,useRef:R1,useState:function(){return Oh(tl)},useDebugValue:Am,useDeferredValue:function(t){var e=_n();return M1(e,st.memoizedState,t)},useTransition:function(){var t=Oh(tl)[0],e=_n().memoizedState;return[t,e]},useMutableSource:x1,useSyncExternalStore:T1,useId:j1,unstable_isNewReconciler:!1},JI={readContext:wn,useCallback:O1,useContext:wn,useEffect:bm,useImperativeHandle:D1,useInsertionEffect:P1,useLayoutEffect:N1,useMemo:V1,useReducer:Vh,useRef:R1,useState:function(){return Vh(tl)},useDebugValue:Am,useDeferredValue:function(t){var e=_n();return st===null?e.memoizedState=t:M1(e,st.memoizedState,t)},useTransition:function(){var t=Vh(tl)[0],e=_n().memoizedState;return[t,e]},useMutableSource:x1,useSyncExternalStore:T1,useId:j1,unstable_isNewReconciler:!1};function Sn(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function zf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ud={isMounted:function(t){return(t=t._reactInternals)?ms(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zt(),i=ni(t),s=fr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ei(t,s,i),e!==null&&(Pn(e,t,i,r),Uu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zt(),i=ni(t),s=fr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ei(t,s,i),e!==null&&(Pn(e,t,i,r),Uu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zt(),r=ni(t),i=fr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ei(t,i,r),e!==null&&(Pn(e,t,r,n),Uu(e,t,r))}};function Av(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ga(n,r)||!Ga(i,s):!0}function U1(t,e,n){var r=!1,i=di,s=e.contextType;return typeof s=="object"&&s!==null?s=wn(s):(i=Qt(e)?es:kt.current,r=e.contextTypes,s=(r=r!=null)?yo(t,i):di),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ud,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Iv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ud.enqueueReplaceState(e,e.state,null)}function Uf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},wm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=wn(s):(s=Qt(e)?es:kt.current,i.context=yo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(zf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ud.enqueueReplaceState(i,i.state,null),_c(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Eo(t,e){try{var n="",r=e;do n+=bA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Mh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $f(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ZI=typeof WeakMap=="function"?WeakMap:Map;function $1(t,e,n){n=fr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Cc||(Cc=!0,Jf=r),$f(t,e)},n}function B1(t,e,n){n=fr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){$f(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){$f(t,e),typeof r!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Rv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ZI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=fR.bind(null,t,e,n),e.then(t,t))}function Pv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Nv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=fr(-1,1),e.tag=2,ei(n,e,1))),n.lanes|=1),t)}var eR=Tr.ReactCurrentOwner,qt=!1;function jt(t,e,n,r){e.child=t===null?v1(e,null,n,r):wo(e,t.child,n,r)}function kv(t,e,n,r,i){n=n.render;var s=e.ref;return Xs(e,i),r=Sm(t,e,n,r,s,i),n=Cm(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yr(t,e,i)):(Ue&&n&&hm(e),e.flags|=1,jt(t,e,r,i),e.child)}function Dv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Vm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,H1(t,e,s,r,i)):(t=qu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ga,n(o,r)&&t.ref===e.ref)return yr(t,e,i)}return e.flags|=1,t=ri(s,r),t.ref=e.ref,t.return=e,e.child=t}function H1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ga(s,r)&&t.ref===e.ref)if(qt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(qt=!0);else return e.lanes=t.lanes,yr(t,e,i)}return Bf(t,e,n,r,i)}function W1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Bs,en),en|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(Bs,en),en|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,De(Bs,en),en|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,De(Bs,en),en|=r;return jt(t,e,i,n),e.child}function K1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Bf(t,e,n,r,i){var s=Qt(n)?es:kt.current;return s=yo(e,s),Xs(e,i),n=Sm(t,e,n,r,s,i),r=Cm(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yr(t,e,i)):(Ue&&r&&hm(e),e.flags|=1,jt(t,e,n,i),e.child)}function Ov(t,e,n,r,i){if(Qt(n)){var s=!0;mc(e)}else s=!1;if(Xs(e,i),e.stateNode===null)Hu(t,e),U1(e,n,r),Uf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=wn(c):(c=Qt(n)?es:kt.current,c=yo(e,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Iv(e,o,r,c),Lr=!1;var h=e.memoizedState;o.state=h,_c(e,r,o,i),u=e.memoizedState,a!==r||h!==u||Gt.current||Lr?(typeof d=="function"&&(zf(e,n,d,r),u=e.memoizedState),(a=Lr||Av(e,n,a,r,h,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Sn(e.type,a),o.props=c,p=e.pendingProps,h=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=wn(u):(u=Qt(n)?es:kt.current,u=yo(e,u));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||h!==u)&&Iv(e,o,r,u),Lr=!1,h=e.memoizedState,o.state=h,_c(e,r,o,i);var x=e.memoizedState;a!==p||h!==x||Gt.current||Lr?(typeof m=="function"&&(zf(e,n,m,r),x=e.memoizedState),(c=Lr||Av(e,n,c,r,h,x,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Hf(t,e,n,r,s,i)}function Hf(t,e,n,r,i,s){K1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&wv(e,n,!1),yr(t,e,s);r=e.stateNode,eR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=wo(e,t.child,null,s),e.child=wo(e,null,a,s)):jt(t,e,a,s),e.memoizedState=r.state,i&&wv(e,n,!0),e.child}function q1(t){var e=t.stateNode;e.pendingContext?vv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vv(t,e.context,!1),_m(t,e.containerInfo)}function Vv(t,e,n,r,i){return vo(),pm(i),e.flags|=256,jt(t,e,n,r),e.child}var Wf={dehydrated:null,treeContext:null,retryLane:0};function Kf(t){return{baseLanes:t,cachePool:null,transitions:null}}function G1(t,e,n){var r=e.pendingProps,i=Be.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(Be,i&1),t===null)return Lf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=hd(o,r,0,null),t=Zi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Kf(n),e.memoizedState=Wf,t):Im(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return tR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ri(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ri(a,s):(s=Zi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Kf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Wf,r}return s=t.child,t=s.sibling,r=ri(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Im(t,e){return e=hd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gu(t,e,n,r){return r!==null&&pm(r),wo(e,t.child,null,n),t=Im(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Mh(Error(B(422))),gu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=hd({mode:"visible",children:r.children},i,0,null),s=Zi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&wo(e,t.child,null,o),e.child.memoizedState=Kf(o),e.memoizedState=Wf,s);if(!(e.mode&1))return gu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=Mh(s,r,void 0),gu(t,e,o,r)}if(a=(o&t.childLanes)!==0,qt||a){if(r=ht,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,gr(t,i),Pn(r,t,i,-1))}return Om(),r=Mh(Error(B(421))),gu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,nn=Zr(i.nextSibling),sn=e,Ue=!0,In=null,t!==null&&(pn[mn++]=dr,pn[mn++]=hr,pn[mn++]=ts,dr=t.id,hr=t.overflow,ts=e),e=Im(e,r.children),e.flags|=4096,e)}function Mv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ff(t.return,e,n)}function jh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Q1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(jt(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mv(t,n,e);else if(t.tag===19)Mv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(Be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ec(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),jh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ec(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}jh(e,!0,n,null,s);break;case"together":jh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),rs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nR(t,e,n){switch(e.tag){case 3:q1(e),vo();break;case 5:E1(e);break;case 1:Qt(e.type)&&mc(e);break;case 4:_m(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(vc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?G1(t,e,n):(De(Be,Be.current&1),t=yr(t,e,n),t!==null?t.sibling:null);De(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Q1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,W1(t,e,n)}return yr(t,e,n)}var Y1,qf,X1,J1;Y1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qf=function(){};X1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hi(Gn.current);var s=null;switch(n){case"input":i=mf(t,i),r=mf(t,r),s=[];break;case"select":i=We({},i,{value:void 0}),r=We({},r,{value:void 0}),s=[];break;case"textarea":i=vf(t,i),r=vf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=fc)}_f(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ua.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ua.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&je("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};J1=function(t,e,n,r){n!==r&&(e.flags|=4)};function pa(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rR(t,e,n){var r=e.pendingProps;switch(fm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(e),null;case 1:return Qt(e.type)&&pc(),bt(e),null;case 3:return r=e.stateNode,_o(),Le(Gt),Le(kt),xm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(pu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,In!==null&&(tp(In),In=null))),qf(t,e),bt(e),null;case 5:Em(e);var i=Hi(Za.current);if(n=e.type,t!==null&&e.stateNode!=null)X1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return bt(e),null}if(t=Hi(Gn.current),pu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Hn]=e,r[Xa]=s,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(i=0;i<Ea.length;i++)je(Ea[i],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":Wy(r,s),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},je("invalid",r);break;case"textarea":qy(r,s),je("invalid",r)}_f(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&fu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&fu(r.textContent,a,t),i=["children",""+a]):Ua.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",r)}switch(n){case"input":su(r),Ky(r,s,!0);break;case"textarea":su(r),Gy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=b_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Hn]=e,t[Xa]=r,Y1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ef(n,r),n){case"dialog":je("cancel",t),je("close",t),i=r;break;case"iframe":case"object":case"embed":je("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ea.length;i++)je(Ea[i],t);i=r;break;case"source":je("error",t),i=r;break;case"img":case"image":case"link":je("error",t),je("load",t),i=r;break;case"details":je("toggle",t),i=r;break;case"input":Wy(t,r),i=mf(t,r),je("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=We({},r,{value:void 0}),je("invalid",t);break;case"textarea":qy(t,r),i=vf(t,r),je("invalid",t);break;default:i=r}_f(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?R_(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&A_(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&$a(t,u):typeof u=="number"&&$a(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ua.hasOwnProperty(s)?u!=null&&s==="onScroll"&&je("scroll",t):u!=null&&Jp(t,s,u,o))}switch(n){case"input":su(t),Ky(t,r,!1);break;case"textarea":su(t),Gy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ci(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?qs(t,!!r.multiple,s,!1):r.defaultValue!=null&&qs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=fc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bt(e),null;case 6:if(t&&e.stateNode!=null)J1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Hi(Za.current),Hi(Gn.current),pu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Hn]=e,(s=r.nodeValue!==n)&&(t=sn,t!==null))switch(t.tag){case 3:fu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hn]=e,e.stateNode=r}return bt(e),null;case 13:if(Le(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&nn!==null&&e.mode&1&&!(e.flags&128))g1(),vo(),e.flags|=98560,s=!1;else if(s=pu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Hn]=e}else vo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bt(e),s=!1}else In!==null&&(tp(In),In=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?at===0&&(at=3):Om())),e.updateQueue!==null&&(e.flags|=4),bt(e),null);case 4:return _o(),qf(t,e),t===null&&Qa(e.stateNode.containerInfo),bt(e),null;case 10:return ym(e.type._context),bt(e),null;case 17:return Qt(e.type)&&pc(),bt(e),null;case 19:if(Le(Be),s=e.memoizedState,s===null)return bt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)pa(s,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ec(t),o!==null){for(e.flags|=128,pa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(Be,Be.current&1|2),e.child}t=t.sibling}s.tail!==null&&Je()>xo&&(e.flags|=128,r=!0,pa(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ec(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ue)return bt(e),null}else 2*Je()-s.renderingStartTime>xo&&n!==1073741824&&(e.flags|=128,r=!0,pa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Je(),e.sibling=null,n=Be.current,De(Be,r?n&1|2:n&1),e):(bt(e),null);case 22:case 23:return Dm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?en&1073741824&&(bt(e),e.subtreeFlags&6&&(e.flags|=8192)):bt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function iR(t,e){switch(fm(e),e.tag){case 1:return Qt(e.type)&&pc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _o(),Le(Gt),Le(kt),xm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Em(e),null;case 13:if(Le(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));vo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(Be),null;case 4:return _o(),null;case 10:return ym(e.type._context),null;case 22:case 23:return Dm(),null;case 24:return null;default:return null}}var yu=!1,Pt=!1,sR=typeof WeakSet=="function"?WeakSet:Set,Q=null;function $s(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ye(t,e,r)}else n.current=null}function Gf(t,e,n){try{n()}catch(r){Ye(t,e,r)}}var jv=!1;function oR(t,e){if(Nf=cc,t=r1(),dm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,p=t,h=null;t:for(;;){for(var m;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(m=p.firstChild)!==null;)h=p,p=m;for(;;){if(p===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++d===r&&(u=o),(m=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=m}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(kf={focusedElem:t,selectionRange:n},cc=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,T=x.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?v:Sn(e.type,v),T);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(N){Ye(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return x=jv,jv=!1,x}function ka(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Gf(e,n,s)}i=i.next}while(i!==r)}}function cd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Z1(t){var e=t.alternate;e!==null&&(t.alternate=null,Z1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hn],delete e[Xa],delete e[Vf],delete e[$I],delete e[BI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function eE(t){return t.tag===5||t.tag===3||t.tag===4}function Lv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fc));else if(r!==4&&(t=t.child,t!==null))for(Yf(t,e,n),t=t.sibling;t!==null;)Yf(t,e,n),t=t.sibling}function Xf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xf(t,e,n),t=t.sibling;t!==null;)Xf(t,e,n),t=t.sibling}var mt=null,An=!1;function Nr(t,e,n){for(n=n.child;n!==null;)tE(t,e,n),n=n.sibling}function tE(t,e,n){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(nd,n)}catch{}switch(n.tag){case 5:Pt||$s(n,e);case 6:var r=mt,i=An;mt=null,Nr(t,e,n),mt=r,An=i,mt!==null&&(An?(t=mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(An?(t=mt,n=n.stateNode,t.nodeType===8?Ph(t.parentNode,n):t.nodeType===1&&Ph(t,n),Ka(t)):Ph(mt,n.stateNode));break;case 4:r=mt,i=An,mt=n.stateNode.containerInfo,An=!0,Nr(t,e,n),mt=r,An=i;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Gf(n,e,o),i=i.next}while(i!==r)}Nr(t,e,n);break;case 1:if(!Pt&&($s(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ye(n,e,a)}Nr(t,e,n);break;case 21:Nr(t,e,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,Nr(t,e,n),Pt=r):Nr(t,e,n);break;default:Nr(t,e,n)}}function Fv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sR),e.forEach(function(r){var i=mR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:mt=a.stateNode,An=!1;break e;case 3:mt=a.stateNode.containerInfo,An=!0;break e;case 4:mt=a.stateNode.containerInfo,An=!0;break e}a=a.return}if(mt===null)throw Error(B(160));tE(s,o,i),mt=null,An=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Ye(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nE(e,t),e=e.sibling}function nE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(e,t),Ln(t),r&4){try{ka(3,t,t.return),cd(3,t)}catch(v){Ye(t,t.return,v)}try{ka(5,t,t.return)}catch(v){Ye(t,t.return,v)}}break;case 1:xn(e,t),Ln(t),r&512&&n!==null&&$s(n,n.return);break;case 5:if(xn(e,t),Ln(t),r&512&&n!==null&&$s(n,n.return),t.flags&32){var i=t.stateNode;try{$a(i,"")}catch(v){Ye(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&S_(i,s),Ef(a,o);var c=Ef(a,s);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?R_(i,p):d==="dangerouslySetInnerHTML"?A_(i,p):d==="children"?$a(i,p):Jp(i,d,p,c)}switch(a){case"input":gf(i,s);break;case"textarea":C_(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?qs(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?qs(i,!!s.multiple,s.defaultValue,!0):qs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Xa]=s}catch(v){Ye(t,t.return,v)}}break;case 6:if(xn(e,t),Ln(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Ye(t,t.return,v)}}break;case 3:if(xn(e,t),Ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ka(e.containerInfo)}catch(v){Ye(t,t.return,v)}break;case 4:xn(e,t),Ln(t);break;case 13:xn(e,t),Ln(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Nm=Je())),r&4&&Fv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Pt=(c=Pt)||d,xn(e,t),Pt=c):xn(e,t),Ln(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(p=Q=d;Q!==null;){switch(h=Q,m=h.child,h.tag){case 0:case 11:case 14:case 15:ka(4,h,h.return);break;case 1:$s(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(v){Ye(r,n,v)}}break;case 5:$s(h,h.return);break;case 22:if(h.memoizedState!==null){Uv(p);continue}}m!==null?(m.return=h,Q=m):Uv(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=I_("display",o))}catch(v){Ye(t,t.return,v)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(v){Ye(t,t.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:xn(e,t),Ln(t),r&4&&Fv(t);break;case 21:break;default:xn(e,t),Ln(t)}}function Ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(eE(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($a(i,""),r.flags&=-33);var s=Lv(t);Xf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Lv(t);Yf(t,a,o);break;default:throw Error(B(161))}}catch(u){Ye(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aR(t,e,n){Q=t,rE(t)}function rE(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||yu;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Pt;a=yu;var c=Pt;if(yu=o,(Pt=u)&&!c)for(Q=i;Q!==null;)o=Q,u=o.child,o.tag===22&&o.memoizedState!==null?$v(i):u!==null?(u.return=o,Q=u):$v(i);for(;s!==null;)Q=s,rE(s),s=s.sibling;Q=i,yu=a,Pt=c}zv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):zv(t)}}function zv(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pt||cd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Sn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Sv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Sv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Ka(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Pt||e.flags&512&&Qf(e)}catch(h){Ye(e,e.return,h)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Uv(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function $v(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{cd(4,e)}catch(u){Ye(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Ye(e,i,u)}}var s=e.return;try{Qf(e)}catch(u){Ye(e,s,u)}break;case 5:var o=e.return;try{Qf(e)}catch(u){Ye(e,o,u)}}}catch(u){Ye(e,e.return,u)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var lR=Math.ceil,Sc=Tr.ReactCurrentDispatcher,Rm=Tr.ReactCurrentOwner,yn=Tr.ReactCurrentBatchConfig,xe=0,ht=null,nt=null,vt=0,en=0,Bs=Si(0),at=0,rl=null,rs=0,dd=0,Pm=0,Da=null,Wt=null,Nm=0,xo=1/0,ur=null,Cc=!1,Jf=null,ti=null,vu=!1,qr=null,bc=0,Oa=0,Zf=null,Wu=-1,Ku=0;function zt(){return xe&6?Je():Wu!==-1?Wu:Wu=Je()}function ni(t){return t.mode&1?xe&2&&vt!==0?vt&-vt:WI.transition!==null?(Ku===0&&(Ku=U_()),Ku):(t=Re,t!==0||(t=window.event,t=t===void 0?16:G_(t.type)),t):1}function Pn(t,e,n,r){if(50<Oa)throw Oa=0,Zf=null,Error(B(185));El(t,n,r),(!(xe&2)||t!==ht)&&(t===ht&&(!(xe&2)&&(dd|=n),at===4&&zr(t,vt)),Yt(t,r),n===1&&xe===0&&!(e.mode&1)&&(xo=Je()+500,ad&&Ci()))}function Yt(t,e){var n=t.callbackNode;WA(t,e);var r=uc(t,t===ht?vt:0);if(r===0)n!==null&&Xy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Xy(n),e===1)t.tag===0?HI(Bv.bind(null,t)):f1(Bv.bind(null,t)),zI(function(){!(xe&6)&&Ci()}),n=null;else{switch($_(r)){case 1:n=rm;break;case 4:n=F_;break;case 16:n=lc;break;case 536870912:n=z_;break;default:n=lc}n=dE(n,iE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iE(t,e){if(Wu=-1,Ku=0,xe&6)throw Error(B(327));var n=t.callbackNode;if(Js()&&t.callbackNode!==n)return null;var r=uc(t,t===ht?vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ac(t,r);else{e=r;var i=xe;xe|=2;var s=oE();(ht!==t||vt!==e)&&(ur=null,xo=Je()+500,Ji(t,e));do try{dR();break}catch(a){sE(t,a)}while(!0);gm(),Sc.current=s,xe=i,nt!==null?e=0:(ht=null,vt=0,e=at)}if(e!==0){if(e===2&&(i=bf(t),i!==0&&(r=i,e=ep(t,i))),e===1)throw n=rl,Ji(t,0),zr(t,r),Yt(t,Je()),n;if(e===6)zr(t,r);else{if(i=t.current.alternate,!(r&30)&&!uR(i)&&(e=Ac(t,r),e===2&&(s=bf(t),s!==0&&(r=s,e=ep(t,s))),e===1))throw n=rl,Ji(t,0),zr(t,r),Yt(t,Je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Fi(t,Wt,ur);break;case 3:if(zr(t,r),(r&130023424)===r&&(e=Nm+500-Je(),10<e)){if(uc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){zt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Of(Fi.bind(null,t,Wt,ur),e);break}Fi(t,Wt,ur);break;case 4:if(zr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Rn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lR(r/1960))-r,10<r){t.timeoutHandle=Of(Fi.bind(null,t,Wt,ur),r);break}Fi(t,Wt,ur);break;case 5:Fi(t,Wt,ur);break;default:throw Error(B(329))}}}return Yt(t,Je()),t.callbackNode===n?iE.bind(null,t):null}function ep(t,e){var n=Da;return t.current.memoizedState.isDehydrated&&(Ji(t,e).flags|=256),t=Ac(t,e),t!==2&&(e=Wt,Wt=n,e!==null&&tp(e)),t}function tp(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function uR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!kn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zr(t,e){for(e&=~Pm,e&=~dd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rn(e),r=1<<n;t[n]=-1,e&=~r}}function Bv(t){if(xe&6)throw Error(B(327));Js();var e=uc(t,0);if(!(e&1))return Yt(t,Je()),null;var n=Ac(t,e);if(t.tag!==0&&n===2){var r=bf(t);r!==0&&(e=r,n=ep(t,r))}if(n===1)throw n=rl,Ji(t,0),zr(t,e),Yt(t,Je()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fi(t,Wt,ur),Yt(t,Je()),null}function km(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(xo=Je()+500,ad&&Ci())}}function is(t){qr!==null&&qr.tag===0&&!(xe&6)&&Js();var e=xe;xe|=1;var n=yn.transition,r=Re;try{if(yn.transition=null,Re=1,t)return t()}finally{Re=r,yn.transition=n,xe=e,!(xe&6)&&Ci()}}function Dm(){en=Bs.current,Le(Bs)}function Ji(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,FI(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(fm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pc();break;case 3:_o(),Le(Gt),Le(kt),xm();break;case 5:Em(r);break;case 4:_o();break;case 13:Le(Be);break;case 19:Le(Be);break;case 10:ym(r.type._context);break;case 22:case 23:Dm()}n=n.return}if(ht=t,nt=t=ri(t.current,null),vt=en=e,at=0,rl=null,Pm=dd=rs=0,Wt=Da=null,Bi!==null){for(e=0;e<Bi.length;e++)if(n=Bi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Bi=null}return t}function sE(t,e){do{var n=nt;try{if(gm(),$u.current=Tc,xc){for(var r=He.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xc=!1}if(ns=0,dt=st=He=null,Na=!1,el=0,Rm.current=null,n===null||n.return===null){at=1,rl=e,nt=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=vt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Pv(o);if(m!==null){m.flags&=-257,Nv(m,o,a,s,e),m.mode&1&&Rv(s,c,e),e=m,u=c;var x=e.updateQueue;if(x===null){var v=new Set;v.add(u),e.updateQueue=v}else x.add(u);break e}else{if(!(e&1)){Rv(s,c,e),Om();break e}u=Error(B(426))}}else if(Ue&&a.mode&1){var T=Pv(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Nv(T,o,a,s,e),pm(Eo(u,a));break e}}s=u=Eo(u,a),at!==4&&(at=2),Da===null?Da=[s]:Da.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=$1(s,u,e);Tv(s,E);break e;case 1:a=u;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ti===null||!ti.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=B1(s,a,e);Tv(s,N);break e}}s=s.return}while(s!==null)}lE(n)}catch(k){e=k,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function oE(){var t=Sc.current;return Sc.current=Tc,t===null?Tc:t}function Om(){(at===0||at===3||at===2)&&(at=4),ht===null||!(rs&268435455)&&!(dd&268435455)||zr(ht,vt)}function Ac(t,e){var n=xe;xe|=2;var r=oE();(ht!==t||vt!==e)&&(ur=null,Ji(t,e));do try{cR();break}catch(i){sE(t,i)}while(!0);if(gm(),xe=n,Sc.current=r,nt!==null)throw Error(B(261));return ht=null,vt=0,at}function cR(){for(;nt!==null;)aE(nt)}function dR(){for(;nt!==null&&!MA();)aE(nt)}function aE(t){var e=cE(t.alternate,t,en);t.memoizedProps=t.pendingProps,e===null?lE(t):nt=e,Rm.current=null}function lE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=iR(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,nt=null;return}}else if(n=rR(n,e,en),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);at===0&&(at=5)}function Fi(t,e,n){var r=Re,i=yn.transition;try{yn.transition=null,Re=1,hR(t,e,n,r)}finally{yn.transition=i,Re=r}return null}function hR(t,e,n,r){do Js();while(qr!==null);if(xe&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(KA(t,s),t===ht&&(nt=ht=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vu||(vu=!0,dE(lc,function(){return Js(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=yn.transition,yn.transition=null;var o=Re;Re=1;var a=xe;xe|=4,Rm.current=null,oR(t,n),nE(n,t),kI(kf),cc=!!Nf,kf=Nf=null,t.current=n,aR(n),jA(),xe=a,Re=o,yn.transition=s}else t.current=n;if(vu&&(vu=!1,qr=t,bc=i),s=t.pendingLanes,s===0&&(ti=null),zA(n.stateNode),Yt(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Cc)throw Cc=!1,t=Jf,Jf=null,t;return bc&1&&t.tag!==0&&Js(),s=t.pendingLanes,s&1?t===Zf?Oa++:(Oa=0,Zf=t):Oa=0,Ci(),null}function Js(){if(qr!==null){var t=$_(bc),e=yn.transition,n=Re;try{if(yn.transition=null,Re=16>t?16:t,qr===null)var r=!1;else{if(t=qr,qr=null,bc=0,xe&6)throw Error(B(331));var i=xe;for(xe|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(Q=c;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:ka(8,d,s)}var p=d.child;if(p!==null)p.return=d,Q=p;else for(;Q!==null;){d=Q;var h=d.sibling,m=d.return;if(Z1(d),d===c){Q=null;break}if(h!==null){h.return=m,Q=h;break}Q=m}}}var x=s.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var T=v.sibling;v.sibling=null,v=T}while(v!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ka(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,Q=E;break e}Q=s.return}}var _=t.current;for(Q=_;Q!==null;){o=Q;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Q=S;else e:for(o=_;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cd(9,a)}}catch(k){Ye(a,a.return,k)}if(a===o){Q=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,Q=N;break e}Q=a.return}}if(xe=i,Ci(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(nd,t)}catch{}r=!0}return r}finally{Re=n,yn.transition=e}}return!1}function Hv(t,e,n){e=Eo(n,e),e=$1(t,e,1),t=ei(t,e,1),e=zt(),t!==null&&(El(t,1,e),Yt(t,e))}function Ye(t,e,n){if(t.tag===3)Hv(t,t,n);else for(;e!==null;){if(e.tag===3){Hv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ti===null||!ti.has(r))){t=Eo(n,t),t=B1(e,t,1),e=ei(e,t,1),t=zt(),e!==null&&(El(e,1,t),Yt(e,t));break}}e=e.return}}function fR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zt(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(vt&n)===n&&(at===4||at===3&&(vt&130023424)===vt&&500>Je()-Nm?Ji(t,0):Pm|=n),Yt(t,e)}function uE(t,e){e===0&&(t.mode&1?(e=lu,lu<<=1,!(lu&130023424)&&(lu=4194304)):e=1);var n=zt();t=gr(t,e),t!==null&&(El(t,e,n),Yt(t,n))}function pR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),uE(t,n)}function mR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),uE(t,n)}var cE;cE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gt.current)qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qt=!1,nR(t,e,n);qt=!!(t.flags&131072)}else qt=!1,Ue&&e.flags&1048576&&p1(e,yc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Hu(t,e),t=e.pendingProps;var i=yo(e,kt.current);Xs(e,n),i=Sm(null,e,r,t,i,n);var s=Cm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qt(r)?(s=!0,mc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wm(e),i.updater=ud,e.stateNode=i,i._reactInternals=e,Uf(e,r,t,n),e=Hf(null,e,r,!0,s,n)):(e.tag=0,Ue&&s&&hm(e),jt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Hu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=yR(r),t=Sn(r,t),i){case 0:e=Bf(null,e,r,t,n);break e;case 1:e=Ov(null,e,r,t,n);break e;case 11:e=kv(null,e,r,t,n);break e;case 14:e=Dv(null,e,r,Sn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),Bf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),Ov(t,e,r,i,n);case 3:e:{if(q1(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,_1(t,e),_c(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Eo(Error(B(423)),e),e=Vv(t,e,r,n,i);break e}else if(r!==i){i=Eo(Error(B(424)),e),e=Vv(t,e,r,n,i);break e}else for(nn=Zr(e.stateNode.containerInfo.firstChild),sn=e,Ue=!0,In=null,n=v1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vo(),r===i){e=yr(t,e,n);break e}jt(t,e,r,n)}e=e.child}return e;case 5:return E1(e),t===null&&Lf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Df(r,i)?o=null:s!==null&&Df(r,s)&&(e.flags|=32),K1(t,e),jt(t,e,o,n),e.child;case 6:return t===null&&Lf(e),null;case 13:return G1(t,e,n);case 4:return _m(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wo(e,null,r,n):jt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),kv(t,e,r,i,n);case 7:return jt(t,e,e.pendingProps,n),e.child;case 8:return jt(t,e,e.pendingProps.children,n),e.child;case 12:return jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,De(vc,r._currentValue),r._currentValue=o,s!==null)if(kn(s.value,o)){if(s.children===i.children&&!Gt.current){e=yr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=fr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Ff(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ff(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}jt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xs(e,n),i=wn(i),r=r(i),e.flags|=1,jt(t,e,r,n),e.child;case 14:return r=e.type,i=Sn(r,e.pendingProps),i=Sn(r.type,i),Dv(t,e,r,i,n);case 15:return H1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),Hu(t,e),e.tag=1,Qt(r)?(t=!0,mc(e)):t=!1,Xs(e,n),U1(e,r,i),Uf(e,r,i,n),Hf(null,e,r,!0,t,n);case 19:return Q1(t,e,n);case 22:return W1(t,e,n)}throw Error(B(156,e.tag))};function dE(t,e){return L_(t,e)}function gR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,n,r){return new gR(t,e,n,r)}function Vm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yR(t){if(typeof t=="function")return Vm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===em)return 11;if(t===tm)return 14}return 2}function ri(t,e){var n=t.alternate;return n===null?(n=gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Vm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ds:return Zi(n.children,i,s,e);case Zp:o=8,i|=8;break;case df:return t=gn(12,n,e,i|2),t.elementType=df,t.lanes=s,t;case hf:return t=gn(13,n,e,i),t.elementType=hf,t.lanes=s,t;case ff:return t=gn(19,n,e,i),t.elementType=ff,t.lanes=s,t;case E_:return hd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w_:o=10;break e;case __:o=9;break e;case em:o=11;break e;case tm:o=14;break e;case jr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=gn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Zi(t,e,n,r){return t=gn(7,t,r,e),t.lanes=n,t}function hd(t,e,n,r){return t=gn(22,t,r,e),t.elementType=E_,t.lanes=n,t.stateNode={isHidden:!1},t}function Lh(t,e,n){return t=gn(6,t,null,e),t.lanes=n,t}function Fh(t,e,n){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wh(0),this.expirationTimes=wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mm(t,e,n,r,i,s,o,a,u){return t=new vR(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=gn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wm(s),t}function wR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ks,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function hE(t){if(!t)return di;t=t._reactInternals;e:{if(ms(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Qt(n))return h1(t,n,e)}return e}function fE(t,e,n,r,i,s,o,a,u){return t=Mm(n,r,!0,t,i,s,o,a,u),t.context=hE(null),n=t.current,r=zt(),i=ni(n),s=fr(r,i),s.callback=e??null,ei(n,s,i),t.current.lanes=i,El(t,i,r),Yt(t,r),t}function fd(t,e,n,r){var i=e.current,s=zt(),o=ni(i);return n=hE(n),e.context===null?e.context=n:e.pendingContext=n,e=fr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ei(i,e,o),t!==null&&(Pn(t,i,o,s),Uu(t,i,o)),o}function Ic(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Wv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jm(t,e){Wv(t,e),(t=t.alternate)&&Wv(t,e)}function _R(){return null}var pE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lm(t){this._internalRoot=t}pd.prototype.render=Lm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));fd(t,e,null,null)};pd.prototype.unmount=Lm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;is(function(){fd(null,t,null,null)}),e[mr]=null}};function pd(t){this._internalRoot=t}pd.prototype.unstable_scheduleHydration=function(t){if(t){var e=W_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fr.length&&e!==0&&e<Fr[n].priority;n++);Fr.splice(n,0,t),n===0&&q_(t)}};function Fm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function md(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Kv(){}function ER(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ic(o);s.call(c)}}var o=fE(e,r,t,0,null,!1,!1,"",Kv);return t._reactRootContainer=o,t[mr]=o.current,Qa(t.nodeType===8?t.parentNode:t),is(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ic(u);a.call(c)}}var u=Mm(t,0,!1,null,null,!1,!1,"",Kv);return t._reactRootContainer=u,t[mr]=u.current,Qa(t.nodeType===8?t.parentNode:t),is(function(){fd(e,u,n,r)}),u}function gd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Ic(o);a.call(u)}}fd(e,o,t,i)}else o=ER(n,e,t,i,r);return Ic(o)}B_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_a(e.pendingLanes);n!==0&&(im(e,n|1),Yt(e,Je()),!(xe&6)&&(xo=Je()+500,Ci()))}break;case 13:is(function(){var r=gr(t,1);if(r!==null){var i=zt();Pn(r,t,1,i)}}),jm(t,1)}};sm=function(t){if(t.tag===13){var e=gr(t,134217728);if(e!==null){var n=zt();Pn(e,t,134217728,n)}jm(t,134217728)}};H_=function(t){if(t.tag===13){var e=ni(t),n=gr(t,e);if(n!==null){var r=zt();Pn(n,t,e,r)}jm(t,e)}};W_=function(){return Re};K_=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};Tf=function(t,e,n){switch(e){case"input":if(gf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=od(r);if(!i)throw Error(B(90));T_(r),gf(r,i)}}}break;case"textarea":C_(t,n);break;case"select":e=n.value,e!=null&&qs(t,!!n.multiple,e,!1)}};k_=km;D_=is;var xR={usingClientEntryPoint:!1,Events:[Tl,js,od,P_,N_,km]},ma={findFiberByHostInstance:$i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TR={bundleType:ma.bundleType,version:ma.version,rendererPackageName:ma.rendererPackageName,rendererConfig:ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=M_(t),t===null?null:t.stateNode},findFiberByHostInstance:ma.findFiberByHostInstance||_R,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wu.isDisabled&&wu.supportsFiber)try{nd=wu.inject(TR),qn=wu}catch{}}un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xR;un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fm(e))throw Error(B(200));return wR(t,e,null,n)};un.createRoot=function(t,e){if(!Fm(t))throw Error(B(299));var n=!1,r="",i=pE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Mm(t,1,!1,null,null,n,!1,r,i),t[mr]=e.current,Qa(t.nodeType===8?t.parentNode:t),new Lm(e)};un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=M_(e),t=t===null?null:t.stateNode,t};un.flushSync=function(t){return is(t)};un.hydrate=function(t,e,n){if(!md(e))throw Error(B(200));return gd(null,t,e,!0,n)};un.hydrateRoot=function(t,e,n){if(!Fm(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=pE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=fE(e,null,t,1,n??null,i,!1,s,o),t[mr]=e.current,Qa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new pd(e)};un.render=function(t,e,n){if(!md(e))throw Error(B(200));return gd(null,t,e,!1,n)};un.unmountComponentAtNode=function(t){if(!md(t))throw Error(B(40));return t._reactRootContainer?(is(function(){gd(null,null,t,!1,function(){t._reactRootContainer=null,t[mr]=null})}),!0):!1};un.unstable_batchedUpdates=km;un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!md(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return gd(t,e,n,!1,r)};un.version="18.3.1-next-f1338f8080-20240426";function mE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mE)}catch(t){console.error(t)}}mE(),m_.exports=un;var gs=m_.exports;const gE=n_(gs);var yE,qv=gs;yE=qv.createRoot,qv.hydrateRoot;const SR=1,CR=1e6;let zh=0;function bR(){return zh=(zh+1)%Number.MAX_SAFE_INTEGER,zh.toString()}const Uh=new Map,Gv=t=>{if(Uh.has(t))return;const e=setTimeout(()=>{Uh.delete(t),Va({type:"REMOVE_TOAST",toastId:t})},CR);Uh.set(t,e)},AR=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,SR)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Gv(n):t.toasts.forEach(r=>{Gv(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Gu=[];let Qu={toasts:[]};function Va(t){Qu=AR(Qu,t),Gu.forEach(e=>{e(Qu)})}function IR({...t}){const e=bR(),n=i=>Va({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Va({type:"DISMISS_TOAST",toastId:e});return Va({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function zm(){const[t,e]=w.useState(Qu);return w.useEffect(()=>(Gu.push(e),()=>{const n=Gu.indexOf(e);n>-1&&Gu.splice(n,1)}),[t]),{...t,toast:IR,dismiss:n=>Va({type:"DISMISS_TOAST",toastId:n})}}function ue(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function RR(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function vE(...t){return e=>t.forEach(n=>RR(n,e))}function ke(...t){return w.useCallback(vE(...t),t)}function PR(t,e=[]){let n=[];function r(s,o){const a=w.createContext(o),u=n.length;n=[...n,o];function c(p){const{scope:h,children:m,...x}=p,v=(h==null?void 0:h[t][u])||a,T=w.useMemo(()=>x,Object.values(x));return g.jsx(v.Provider,{value:T,children:m})}function d(p,h){const m=(h==null?void 0:h[t][u])||a,x=w.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(a){const u=(a==null?void 0:a[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return i.scopeName=t,[r,NR(i,...e)]}function NR(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const p=u(s)[`__scope${c}`];return{...a,...p}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ss=w.forwardRef((t,e)=>{const{children:n,...r}=t,i=w.Children.toArray(n),s=i.find(kR);if(s){const o=s.props.children,a=i.map(u=>u===s?w.Children.count(o)>1?w.Children.only(null):w.isValidElement(o)?o.props.children:null:u);return g.jsx(np,{...r,ref:e,children:w.isValidElement(o)?w.cloneElement(o,void 0,a):null})}return g.jsx(np,{...r,ref:e,children:n})});ss.displayName="Slot";var np=w.forwardRef((t,e)=>{const{children:n,...r}=t;if(w.isValidElement(n)){const i=OR(n);return w.cloneElement(n,{...DR(r,n.props),ref:e?vE(e,i):i})}return w.Children.count(n)>1?w.Children.only(null):null});np.displayName="SlotClone";var Um=({children:t})=>g.jsx(g.Fragment,{children:t});function kR(t){return w.isValidElement(t)&&t.type===Um}function DR(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function OR(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function wE(t){const e=t+"CollectionProvider",[n,r]=PR(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:x,children:v}=m,T=K.useRef(null),E=K.useRef(new Map).current;return g.jsx(i,{scope:x,itemMap:E,collectionRef:T,children:v})};o.displayName=e;const a=t+"CollectionSlot",u=K.forwardRef((m,x)=>{const{scope:v,children:T}=m,E=s(a,v),_=ke(x,E.collectionRef);return g.jsx(ss,{ref:_,children:T})});u.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",p=K.forwardRef((m,x)=>{const{scope:v,children:T,...E}=m,_=K.useRef(null),S=ke(x,_),N=s(c,v);return K.useEffect(()=>(N.itemMap.set(_,{ref:_,...E}),()=>void N.itemMap.delete(_))),g.jsx(ss,{[d]:"",ref:S,children:T})});p.displayName=c;function h(m){const x=s(t+"CollectionConsumer",m);return K.useCallback(()=>{const T=x.collectionRef.current;if(!T)return[];const E=Array.from(T.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((N,k)=>E.indexOf(N.ref.current)-E.indexOf(k.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},h,r]}function VR(t,e){const n=w.createContext(e),r=s=>{const{children:o,...a}=s,u=w.useMemo(()=>a,Object.values(a));return g.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function i(s){const o=w.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Cl(t,e=[]){let n=[];function r(s,o){const a=w.createContext(o),u=n.length;n=[...n,o];const c=p=>{var E;const{scope:h,children:m,...x}=p,v=((E=h==null?void 0:h[t])==null?void 0:E[u])||a,T=w.useMemo(()=>x,Object.values(x));return g.jsx(v.Provider,{value:T,children:m})};c.displayName=s+"Provider";function d(p,h){var v;const m=((v=h==null?void 0:h[t])==null?void 0:v[u])||a,x=w.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(a){const u=(a==null?void 0:a[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return i.scopeName=t,[r,MR(i,...e)]}function MR(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const p=u(s)[`__scope${c}`];return{...a,...p}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var jR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Te=jR.reduce((t,e)=>{const n=w.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?ss:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function _E(t,e){t&&gs.flushSync(()=>t.dispatchEvent(e))}function ln(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function LR(t,e=globalThis==null?void 0:globalThis.document){const n=ln(t);w.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var FR="DismissableLayer",rp="dismissableLayer.update",zR="dismissableLayer.pointerDownOutside",UR="dismissableLayer.focusOutside",Qv,EE=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bl=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...u}=t,c=w.useContext(EE),[d,p]=w.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=w.useState({}),x=ke(e,b=>p(b)),v=Array.from(c.layers),[T]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),E=v.indexOf(T),_=d?v.indexOf(d):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,N=_>=E,k=BR(b=>{const C=b.target,I=[...c.branches].some(R=>R.contains(C));!N||I||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},h),V=HR(b=>{const C=b.target;[...c.branches].some(R=>R.contains(C))||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},h);return LR(b=>{_===c.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},h),w.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Qv=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Yv(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Qv)}},[d,h,n,c]),w.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Yv())},[d,c]),w.useEffect(()=>{const b=()=>m({});return document.addEventListener(rp,b),()=>document.removeEventListener(rp,b)},[]),g.jsx(Te.div,{...u,ref:x,style:{pointerEvents:S?N?"auto":"none":void 0,...t.style},onFocusCapture:ue(t.onFocusCapture,V.onFocusCapture),onBlurCapture:ue(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:ue(t.onPointerDownCapture,k.onPointerDownCapture)})});bl.displayName=FR;var $R="DismissableLayerBranch",xE=w.forwardRef((t,e)=>{const n=w.useContext(EE),r=w.useRef(null),i=ke(e,r);return w.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),g.jsx(Te.div,{...t,ref:i})});xE.displayName=$R;function BR(t,e=globalThis==null?void 0:globalThis.document){const n=ln(t),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let u=function(){TE(zR,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function HR(t,e=globalThis==null?void 0:globalThis.document){const n=ln(t),r=w.useRef(!1);return w.useEffect(()=>{const i=s=>{s.target&&!r.current&&TE(UR,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Yv(){const t=new CustomEvent(rp);document.dispatchEvent(t)}function TE(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?_E(i,s):i.dispatchEvent(s)}var WR=bl,KR=xE,Dt=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},qR="Portal",yd=w.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=w.useState(!1);Dt(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?gE.createPortal(g.jsx(Te.div,{...r,ref:e}),o):null});yd.displayName=qR;function GR(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var Vo=t=>{const{present:e,children:n}=t,r=QR(e),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),s=ke(r.ref,YR(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};Vo.displayName="Presence";function QR(t){const[e,n]=w.useState(),r=w.useRef({}),i=w.useRef(t),s=w.useRef("none"),o=t?"mounted":"unmounted",[a,u]=GR(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=_u(r.current);s.current=a==="mounted"?c:"none"},[a]),Dt(()=>{const c=r.current,d=i.current;if(d!==t){const h=s.current,m=_u(c);t?u("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),Dt(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,p=m=>{const v=_u(r.current).includes(m.animationName);if(m.target===e&&v&&(u("ANIMATION_END"),!i.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},h=m=>{m.target===e&&(s.current=_u(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function _u(t){return(t==null?void 0:t.animationName)||"none"}function YR(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Rc({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=XR({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=ln(n),u=w.useCallback(c=>{if(s){const p=typeof c=="function"?c(t):c;p!==t&&a(p)}else i(c)},[s,t,i,a]);return[o,u]}function XR({defaultProp:t,onChange:e}){const n=w.useState(t),[r]=n,i=w.useRef(r),s=ln(e);return w.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var JR="VisuallyHidden",Al=w.forwardRef((t,e)=>g.jsx(Te.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Al.displayName=JR;var ZR=Al,$m="ToastProvider",[Bm,eP,tP]=wE("Toast"),[SE,Z3]=Cl("Toast",[tP]),[nP,vd]=SE($m),CE=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,u]=w.useState(null),[c,d]=w.useState(0),p=w.useRef(!1),h=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${$m}\`. Expected non-empty \`string\`.`),g.jsx(Bm.Provider,{scope:e,children:g.jsx(nP,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:u,onToastAdd:w.useCallback(()=>d(m=>m+1),[]),onToastRemove:w.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:h,children:o})})};CE.displayName=$m;var bE="ToastViewport",rP=["F8"],ip="toast.viewportPause",sp="toast.viewportResume",AE=w.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=rP,label:i="Notifications ({hotkey})",...s}=t,o=vd(bE,n),a=eP(n),u=w.useRef(null),c=w.useRef(null),d=w.useRef(null),p=w.useRef(null),h=ke(e,p,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;w.useEffect(()=>{const T=E=>{var S;r.length!==0&&r.every(N=>E[N]||E.code===N)&&((S=p.current)==null||S.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),w.useEffect(()=>{const T=u.current,E=p.current;if(x&&T&&E){const _=()=>{if(!o.isClosePausedRef.current){const V=new CustomEvent(ip);E.dispatchEvent(V),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const V=new CustomEvent(sp);E.dispatchEvent(V),o.isClosePausedRef.current=!1}},N=V=>{!T.contains(V.relatedTarget)&&S()},k=()=>{T.contains(document.activeElement)||S()};return T.addEventListener("focusin",_),T.addEventListener("focusout",N),T.addEventListener("pointermove",_),T.addEventListener("pointerleave",k),window.addEventListener("blur",_),window.addEventListener("focus",S),()=>{T.removeEventListener("focusin",_),T.removeEventListener("focusout",N),T.removeEventListener("pointermove",_),T.removeEventListener("pointerleave",k),window.removeEventListener("blur",_),window.removeEventListener("focus",S)}}},[x,o.isClosePausedRef]);const v=w.useCallback(({tabbingDirection:T})=>{const _=a().map(S=>{const N=S.ref.current,k=[N,...gP(N)];return T==="forwards"?k:k.reverse()});return(T==="forwards"?_.reverse():_).flat()},[a]);return w.useEffect(()=>{const T=p.current;if(T){const E=_=>{var k,V,b;const S=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!S){const C=document.activeElement,I=_.shiftKey;if(_.target===T&&I){(k=c.current)==null||k.focus();return}const O=v({tabbingDirection:I?"backwards":"forwards"}),P=O.findIndex(H=>H===C);$h(O.slice(P+1))?_.preventDefault():I?(V=c.current)==null||V.focus():(b=d.current)==null||b.focus()}};return T.addEventListener("keydown",E),()=>T.removeEventListener("keydown",E)}},[a,v]),g.jsxs(KR,{ref:u,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&g.jsx(op,{ref:c,onFocusFromOutsideViewport:()=>{const T=v({tabbingDirection:"forwards"});$h(T)}}),g.jsx(Bm.Slot,{scope:n,children:g.jsx(Te.ol,{tabIndex:-1,...s,ref:h})}),x&&g.jsx(op,{ref:d,onFocusFromOutsideViewport:()=>{const T=v({tabbingDirection:"backwards"});$h(T)}})]})});AE.displayName=bE;var IE="ToastFocusProxy",op=w.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=vd(IE,n);return g.jsx(Al,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});op.displayName=IE;var wd="Toast",iP="toast.swipeStart",sP="toast.swipeMove",oP="toast.swipeCancel",aP="toast.swipeEnd",RE=w.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,u]=Rc({prop:r,defaultProp:i,onChange:s});return g.jsx(Vo,{present:n||a,children:g.jsx(cP,{open:a,...o,ref:e,onClose:()=>u(!1),onPause:ln(t.onPause),onResume:ln(t.onResume),onSwipeStart:ue(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ue(t.onSwipeMove,c=>{const{x:d,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:ue(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ue(t.onSwipeEnd,c=>{const{x:d,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});RE.displayName=wd;var[lP,uP]=SE(wd,{onClose(){}}),cP=w.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:u,onResume:c,onSwipeStart:d,onSwipeMove:p,onSwipeCancel:h,onSwipeEnd:m,...x}=t,v=vd(wd,n),[T,E]=w.useState(null),_=ke(e,H=>E(H)),S=w.useRef(null),N=w.useRef(null),k=i||v.duration,V=w.useRef(0),b=w.useRef(k),C=w.useRef(0),{onToastAdd:I,onToastRemove:R}=v,D=ln(()=>{var re;(T==null?void 0:T.contains(document.activeElement))&&((re=v.viewport)==null||re.focus()),o()}),O=w.useCallback(H=>{!H||H===1/0||(window.clearTimeout(C.current),V.current=new Date().getTime(),C.current=window.setTimeout(D,H))},[D]);w.useEffect(()=>{const H=v.viewport;if(H){const re=()=>{O(b.current),c==null||c()},X=()=>{const ne=new Date().getTime()-V.current;b.current=b.current-ne,window.clearTimeout(C.current),u==null||u()};return H.addEventListener(ip,X),H.addEventListener(sp,re),()=>{H.removeEventListener(ip,X),H.removeEventListener(sp,re)}}},[v.viewport,k,u,c,O]),w.useEffect(()=>{s&&!v.isClosePausedRef.current&&O(k)},[s,k,v.isClosePausedRef,O]),w.useEffect(()=>(I(),()=>R()),[I,R]);const P=w.useMemo(()=>T?ME(T):null,[T]);return v.viewport?g.jsxs(g.Fragment,{children:[P&&g.jsx(dP,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),g.jsx(lP,{scope:n,onClose:D,children:gs.createPortal(g.jsx(Bm.ItemSlot,{scope:n,children:g.jsx(WR,{asChild:!0,onEscapeKeyDown:ue(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||D(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(Te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ue(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:ue(t.onPointerDown,H=>{H.button===0&&(S.current={x:H.clientX,y:H.clientY})}),onPointerMove:ue(t.onPointerMove,H=>{if(!S.current)return;const re=H.clientX-S.current.x,X=H.clientY-S.current.y,ne=!!N.current,j=["left","right"].includes(v.swipeDirection),$=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Y=j?$(0,re):0,q=j?0:$(0,X),J=H.pointerType==="touch"?10:2,ee={x:Y,y:q},Se={originalEvent:H,delta:ee};ne?(N.current=ee,Eu(sP,p,Se,{discrete:!1})):Xv(ee,v.swipeDirection,J)?(N.current=ee,Eu(iP,d,Se,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(re)>J||Math.abs(X)>J)&&(S.current=null)}),onPointerUp:ue(t.onPointerUp,H=>{const re=N.current,X=H.target;if(X.hasPointerCapture(H.pointerId)&&X.releasePointerCapture(H.pointerId),N.current=null,S.current=null,re){const ne=H.currentTarget,j={originalEvent:H,delta:re};Xv(re,v.swipeDirection,v.swipeThreshold)?Eu(aP,m,j,{discrete:!0}):Eu(oP,h,j,{discrete:!0}),ne.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),dP=t=>{const{__scopeToast:e,children:n,...r}=t,i=vd(wd,e),[s,o]=w.useState(!1),[a,u]=w.useState(!1);return pP(()=>o(!0)),w.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:g.jsx(yd,{asChild:!0,children:g.jsx(Al,{...r,children:s&&g.jsxs(g.Fragment,{children:[i.label," ",n]})})})},hP="ToastTitle",PE=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(Te.div,{...r,ref:e})});PE.displayName=hP;var fP="ToastDescription",NE=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(Te.div,{...r,ref:e})});NE.displayName=fP;var kE="ToastAction",DE=w.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?g.jsx(VE,{altText:n,asChild:!0,children:g.jsx(Hm,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${kE}\`. Expected non-empty \`string\`.`),null)});DE.displayName=kE;var OE="ToastClose",Hm=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=uP(OE,n);return g.jsx(VE,{asChild:!0,children:g.jsx(Te.button,{type:"button",...r,ref:e,onClick:ue(t.onClick,i.onClose)})})});Hm.displayName=OE;var VE=w.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return g.jsx(Te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function ME(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),mP(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...ME(r))}}),e}function Eu(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?_E(i,s):i.dispatchEvent(s)}var Xv=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function pP(t=()=>{}){const e=ln(t);Dt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function mP(t){return t.nodeType===t.ELEMENT_NODE}function gP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function $h(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var yP=CE,jE=AE,LE=RE,FE=PE,zE=NE,UE=DE,$E=Hm;function BE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=BE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function HE(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=BE(t))&&(r&&(r+=" "),r+=e);return r}const Jv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Zv=HE,Wm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Zv(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],p=s==null?void 0:s[c];if(d===null)return null;const h=Jv(d)||Jv(p);return i[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[p,h]=d;return h===void 0||(c[p]=h),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:p,className:h,...m}=d;return Object.entries(m).every(x=>{let[v,T]=x;return Array.isArray(T)?T.includes({...s,...a}[v]):{...s,...a}[v]===T})?[...c,p,h]:c},[]);return Zv(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WE=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},u)=>w.createElement("svg",{ref:u,...wP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:WE("lucide",i),...a},[...o.map(([c,d])=>w.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=(t,e)=>{const n=w.forwardRef(({className:r,...i},s)=>w.createElement(_P,{ref:s,iconNode:e,className:WE(`lucide-${vP(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=er("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=er("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=er("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=er("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=er("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=er("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=er("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=er("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=er("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=er("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Km="-",IP=t=>{const e=PP(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Km);return a[0]===""&&a.length!==1&&a.shift(),QE(a,e)||RP(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},QE=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?QE(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Km);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},e0=/^\[(.+)\]$/,RP=t=>{if(e0.test(t)){const e=e0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},PP=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return kP(Object.entries(t.classGroups),n).forEach(([s,o])=>{ap(o,r,s,e)}),r},ap=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:t0(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(NP(i)){ap(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{ap(o,t0(e,s),n,r)})})},t0=(t,e)=>{let n=t;return e.split(Km).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},NP=t=>t.isThemeGetter,kP=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,DP=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},YE="!",OP=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const u=[];let c=0,d=0,p;for(let T=0;T<a.length;T++){let E=a[T];if(c===0){if(E===i&&(r||a.slice(T,T+s)===e)){u.push(a.slice(d,T)),d=T+s;continue}if(E==="/"){p=T;continue}}E==="["?c++:E==="]"&&c--}const h=u.length===0?a:a.substring(d),m=h.startsWith(YE),x=m?h.substring(1):h,v=p&&p>d?p-d:void 0;return{modifiers:u,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},VP=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},MP=t=>({cache:DP(t.cacheSize),parseClassName:OP(t),...IP(t)}),jP=/\s+/,LP=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(jP);let a="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:d,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:m}=n(c);let x=!!m,v=r(x?h.substring(0,m):h);if(!v){if(!x){a=c+(a.length>0?" "+a:a);continue}if(v=r(h),!v){a=c+(a.length>0?" "+a:a);continue}x=!1}const T=VP(d).join(":"),E=p?T+YE:T,_=E+v;if(s.includes(_))continue;s.push(_);const S=i(v,x);for(let N=0;N<S.length;++N){const k=S[N];s.push(E+k)}a=c+(a.length>0?" "+a:a)}return a};function FP(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=XE(e))&&(r&&(r+=" "),r+=n);return r}const XE=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=XE(t[r]))&&(n&&(n+=" "),n+=e);return n};function zP(t,...e){let n,r,i,s=o;function o(u){const c=e.reduce((d,p)=>p(d),t());return n=MP(c),r=n.cache.get,i=n.cache.set,s=a,a(u)}function a(u){const c=r(u);if(c)return c;const d=LP(u,n);return i(u,d),d}return function(){return s(FP.apply(null,arguments))}}const Me=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},JE=/^\[(?:([a-z-]+):)?(.+)\]$/i,UP=/^\d+\/\d+$/,$P=new Set(["px","full","screen"]),BP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,WP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,KP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ar=t=>Zs(t)||$P.has(t)||UP.test(t),kr=t=>Mo(t,"length",tN),Zs=t=>!!t&&!Number.isNaN(Number(t)),Bh=t=>Mo(t,"number",Zs),ga=t=>!!t&&Number.isInteger(Number(t)),GP=t=>t.endsWith("%")&&Zs(t.slice(0,-1)),ce=t=>JE.test(t),Dr=t=>BP.test(t),QP=new Set(["length","size","percentage"]),YP=t=>Mo(t,QP,ZE),XP=t=>Mo(t,"position",ZE),JP=new Set(["image","url"]),ZP=t=>Mo(t,JP,rN),eN=t=>Mo(t,"",nN),ya=()=>!0,Mo=(t,e,n)=>{const r=JE.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},tN=t=>HP.test(t)&&!WP.test(t),ZE=()=>!1,nN=t=>KP.test(t),rN=t=>qP.test(t),iN=()=>{const t=Me("colors"),e=Me("spacing"),n=Me("blur"),r=Me("brightness"),i=Me("borderColor"),s=Me("borderRadius"),o=Me("borderSpacing"),a=Me("borderWidth"),u=Me("contrast"),c=Me("grayscale"),d=Me("hueRotate"),p=Me("invert"),h=Me("gap"),m=Me("gradientColorStops"),x=Me("gradientColorStopPositions"),v=Me("inset"),T=Me("margin"),E=Me("opacity"),_=Me("padding"),S=Me("saturate"),N=Me("scale"),k=Me("sepia"),V=Me("skew"),b=Me("space"),C=Me("translate"),I=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",ce,e],O=()=>[ce,e],P=()=>["",ar,kr],H=()=>["auto",Zs,ce],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",ce],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Zs,ce];return{cacheSize:500,separator:":",theme:{colors:[ya],spacing:[ar,kr],blur:["none","",Dr,ce],brightness:q(),borderColor:[t],borderRadius:["none","","full",Dr,ce],borderSpacing:O(),borderWidth:P(),contrast:q(),grayscale:$(),hueRotate:q(),invert:$(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[GP,kr],inset:D(),margin:D(),opacity:q(),padding:O(),saturate:q(),scale:q(),sepia:$(),skew:q(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[Dr]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),ce]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ga,ce]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",ga,ce]}],"grid-cols":[{"grid-cols":[ya]}],"col-start-end":[{col:["auto",{span:["full",ga,ce]},ce]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[ya]}],"row-start-end":[{row:["auto",{span:[ga,ce]},ce]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,e]}],"min-w":[{"min-w":[ce,e,"min","max","fit"]}],"max-w":[{"max-w":[ce,e,"none","full","min","max","fit","prose",{screen:[Dr]},Dr]}],h:[{h:[ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Dr,kr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bh]}],"font-family":[{font:[ya]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",Zs,Bh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ar,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ar,kr]}],"underline-offset":[{"underline-offset":["auto",ar,ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),XP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",YP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ZP]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:X()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[ar,ce]}],"outline-w":[{outline:[ar,kr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[ar,kr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Dr,eN]}],"shadow-color":[{shadow:[ya]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Dr,ce]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[S]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[ga,ce]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ar,kr,Bh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sN=zP(iN);function Oe(...t){return sN(HE(t))}const oN=yP,ex=w.forwardRef(({className:t,...e},n)=>g.jsx(jE,{ref:n,className:Oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));ex.displayName=jE.displayName;const aN=Wm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),tx=w.forwardRef(({className:t,variant:e,...n},r)=>g.jsx(LE,{ref:r,className:Oe(aN({variant:e}),t),...n}));tx.displayName=LE.displayName;const lN=w.forwardRef(({className:t,...e},n)=>g.jsx(UE,{ref:n,className:Oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));lN.displayName=UE.displayName;const nx=w.forwardRef(({className:t,...e},n)=>g.jsx($E,{ref:n,className:Oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:g.jsx(GE,{className:"h-4 w-4"})}));nx.displayName=$E.displayName;const rx=w.forwardRef(({className:t,...e},n)=>g.jsx(FE,{ref:n,className:Oe("text-sm font-semibold",t),...e}));rx.displayName=FE.displayName;const ix=w.forwardRef(({className:t,...e},n)=>g.jsx(zE,{ref:n,className:Oe("text-sm opacity-90",t),...e}));ix.displayName=zE.displayName;function uN(){const{toasts:t}=zm();return g.jsxs(oN,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return g.jsxs(tx,{...s,children:[g.jsxs("div",{className:"grid gap-1",children:[n&&g.jsx(rx,{children:n}),r&&g.jsx(ix,{children:r})]}),i,g.jsx(nx,{})]},e)}),g.jsx(ex,{})]})}var n0=["light","dark"],cN="(prefers-color-scheme: dark)",dN=w.createContext(void 0),hN={setTheme:t=>{},themes:[]},fN=()=>{var t;return(t=w.useContext(dN))!=null?t:hN};w.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:u})=>{let c=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=i?n0.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(x,v=!1,T=!0)=>{let E=o?o[x]:x,_=v?x+"|| ''":`'${E}'`,S="";return i&&T&&!v&&n0.includes(x)&&(S+=`d.style.colorScheme = '${x}';`),n==="class"?v||E?S+=`c.add(${_})`:S+="null":E&&(S+=`d[s](n,${_})`),S},m=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${cN}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(s,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${p}}catch(t){}}();`;return w.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:m}})});var pN=t=>{switch(t){case"success":return yN;case"info":return wN;case"warning":return vN;case"error":return _N;default:return null}},mN=Array(12).fill(0),gN=({visible:t})=>K.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},K.createElement("div",{className:"sonner-spinner"},mN.map((e,n)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),yN=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),vN=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),wN=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_N=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),EN=()=>{let[t,e]=K.useState(document.hidden);return K.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},lp=1,xN=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:lp++,o=this.toasts.find(u=>u.id===s),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...e,id:s,title:r}),{...u,...e,id:s,dismissible:a,title:r}):u):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0;return i.then(async o=>{if(SN(o)&&!o.ok){s=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,u=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:u})}else if(n.success!==void 0){s=!1;let a=typeof n.success=="function"?await n.success(o):n.success,u=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:u})}}).catch(async o=>{if(n.error!==void 0){s=!1;let a=typeof n.error=="function"?await n.error(o):n.error,u=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:u})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||lp++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},Zt=new xN,TN=(t,e)=>{let n=(e==null?void 0:e.id)||lp++;return Zt.addToast({title:t,...e,id:n}),n},SN=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",CN=TN,bN=()=>Zt.toasts;Object.assign(CN,{success:Zt.success,info:Zt.info,warning:Zt.warning,error:Zt.error,custom:Zt.custom,message:Zt.message,promise:Zt.promise,dismiss:Zt.dismiss,loading:Zt.loading},{getHistory:bN});function AN(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}AN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function xu(t){return t.label!==void 0}var IN=3,RN="32px",PN=4e3,NN=356,kN=14,DN=20,ON=200;function VN(...t){return t.filter(Boolean).join(" ")}var MN=t=>{var e,n,r,i,s,o,a,u,c,d;let{invert:p,toast:h,unstyled:m,interacting:x,setHeights:v,visibleToasts:T,heights:E,index:_,toasts:S,expanded:N,removeToast:k,defaultRichColors:V,closeButton:b,style:C,cancelButtonStyle:I,actionButtonStyle:R,className:D="",descriptionClassName:O="",duration:P,position:H,gap:re,loadingIcon:X,expandByDefault:ne,classNames:j,icons:$,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:q,cn:J}=t,[ee,Se]=K.useState(!1),[Fe,fe]=K.useState(!1),[Z,Ee]=K.useState(!1),[ze,pe]=K.useState(!1),[ve,ge]=K.useState(0),[it,ft]=K.useState(0),dn=K.useRef(null),Ot=K.useRef(null),nr=_===0,Ko=_+1<=T,Ze=h.type,Mn=h.dismissible!==!1,Fl=h.className||"",Jd=h.descriptionClassName||"",Cr=K.useMemo(()=>E.findIndex(oe=>oe.toastId===h.id)||0,[E,h.id]),qo=K.useMemo(()=>{var oe;return(oe=h.closeButton)!=null?oe:b},[h.closeButton,b]),Go=K.useMemo(()=>h.duration||P||PN,[h.duration,P]),et=K.useRef(0),qe=K.useRef(0),ki=K.useRef(0),rr=K.useRef(null),[Qo,Zd]=H.split("-"),br=K.useMemo(()=>E.reduce((oe,Pe,Ie)=>Ie>=Cr?oe:oe+Pe.height,0),[E,Cr]),Yo=EN(),zl=h.invert||p,Di=Ze==="loading";qe.current=K.useMemo(()=>Cr*re+br,[Cr,br]),K.useEffect(()=>{Se(!0)},[]),K.useLayoutEffect(()=>{if(!ee)return;let oe=Ot.current,Pe=oe.style.height;oe.style.height="auto";let Ie=oe.getBoundingClientRect().height;oe.style.height=Pe,ft(Ie),v(Et=>Et.find(Bt=>Bt.toastId===h.id)?Et.map(Bt=>Bt.toastId===h.id?{...Bt,height:Ie}:Bt):[{toastId:h.id,height:Ie,position:h.position},...Et])},[ee,h.title,h.description,v,h.id]);let jn=K.useCallback(()=>{fe(!0),ge(qe.current),v(oe=>oe.filter(Pe=>Pe.toastId!==h.id)),setTimeout(()=>{k(h)},ON)},[h,k,v,qe]);K.useEffect(()=>{if(h.promise&&Ze==="loading"||h.duration===1/0||h.type==="loading")return;let oe,Pe=Go;return N||x||q&&Yo?(()=>{if(ki.current<et.current){let Ie=new Date().getTime()-et.current;Pe=Pe-Ie}ki.current=new Date().getTime()})():Pe!==1/0&&(et.current=new Date().getTime(),oe=setTimeout(()=>{var Ie;(Ie=h.onAutoClose)==null||Ie.call(h,h),jn()},Pe)),()=>clearTimeout(oe)},[N,x,ne,h,Go,jn,h.promise,Ze,q,Yo]),K.useEffect(()=>{let oe=Ot.current;if(oe){let Pe=oe.getBoundingClientRect().height;return ft(Pe),v(Ie=>[{toastId:h.id,height:Pe,position:h.position},...Ie]),()=>v(Ie=>Ie.filter(Et=>Et.toastId!==h.id))}},[v,h.id]),K.useEffect(()=>{h.delete&&jn()},[jn,h.delete]);function eh(){return $!=null&&$.loading?K.createElement("div",{className:"sonner-loader","data-visible":Ze==="loading"},$.loading):X?K.createElement("div",{className:"sonner-loader","data-visible":Ze==="loading"},X):K.createElement(gN,{visible:Ze==="loading"})}return K.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ot,className:J(D,Fl,j==null?void 0:j.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[Ze],(n=h==null?void 0:h.classNames)==null?void 0:n[Ze]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:V,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":ee,"data-promise":!!h.promise,"data-removed":Fe,"data-visible":Ko,"data-y-position":Qo,"data-x-position":Zd,"data-index":_,"data-front":nr,"data-swiping":Z,"data-dismissible":Mn,"data-type":Ze,"data-invert":zl,"data-swipe-out":ze,"data-expanded":!!(N||ne&&ee),style:{"--index":_,"--toasts-before":_,"--z-index":S.length-_,"--offset":`${Fe?ve:qe.current}px`,"--initial-height":ne?"auto":`${it}px`,...C,...h.style},onPointerDown:oe=>{Di||!Mn||(dn.current=new Date,ge(qe.current),oe.target.setPointerCapture(oe.pointerId),oe.target.tagName!=="BUTTON"&&(Ee(!0),rr.current={x:oe.clientX,y:oe.clientY}))},onPointerUp:()=>{var oe,Pe,Ie,Et;if(ze||!Mn)return;rr.current=null;let Bt=Number(((oe=Ot.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ar=new Date().getTime()-((Pe=dn.current)==null?void 0:Pe.getTime()),ir=Math.abs(Bt)/Ar;if(Math.abs(Bt)>=DN||ir>.11){ge(qe.current),(Ie=h.onDismiss)==null||Ie.call(h,h),jn(),pe(!0);return}(Et=Ot.current)==null||Et.style.setProperty("--swipe-amount","0px"),Ee(!1)},onPointerMove:oe=>{var Pe;if(!rr.current||!Mn)return;let Ie=oe.clientY-rr.current.y,Et=oe.clientX-rr.current.x,Bt=(Qo==="top"?Math.min:Math.max)(0,Ie),Ar=oe.pointerType==="touch"?10:2;Math.abs(Bt)>Ar?(Pe=Ot.current)==null||Pe.style.setProperty("--swipe-amount",`${Ie}px`):Math.abs(Et)>Ar&&(rr.current=null)}},qo&&!h.jsx?K.createElement("button",{"aria-label":Y,"data-disabled":Di,"data-close-button":!0,onClick:Di||!Mn?()=>{}:()=>{var oe;jn(),(oe=h.onDismiss)==null||oe.call(h,h)},className:J(j==null?void 0:j.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||K.isValidElement(h.title)?h.jsx||h.title:K.createElement(K.Fragment,null,Ze||h.icon||h.promise?K.createElement("div",{"data-icon":"",className:J(j==null?void 0:j.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||eh():null,h.type!=="loading"?h.icon||($==null?void 0:$[Ze])||pN(Ze):null):null,K.createElement("div",{"data-content":"",className:J(j==null?void 0:j.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},K.createElement("div",{"data-title":"",className:J(j==null?void 0:j.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?K.createElement("div",{"data-description":"",className:J(O,Jd,j==null?void 0:j.description,(u=h==null?void 0:h.classNames)==null?void 0:u.description)},h.description):null),K.isValidElement(h.cancel)?h.cancel:h.cancel&&xu(h.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||I,onClick:oe=>{var Pe,Ie;xu(h.cancel)&&Mn&&((Ie=(Pe=h.cancel).onClick)==null||Ie.call(Pe,oe),jn())},className:J(j==null?void 0:j.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,K.isValidElement(h.action)?h.action:h.action&&xu(h.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||R,onClick:oe=>{var Pe,Ie;xu(h.action)&&(oe.defaultPrevented||((Ie=(Pe=h.action).onClick)==null||Ie.call(Pe,oe),jn()))},className:J(j==null?void 0:j.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function r0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var jN=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:u="light",richColors:c,duration:d,style:p,visibleToasts:h=IN,toastOptions:m,dir:x=r0(),gap:v=kN,loadingIcon:T,icons:E,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S,cn:N=VN}=t,[k,V]=K.useState([]),b=K.useMemo(()=>Array.from(new Set([n].concat(k.filter(q=>q.position).map(q=>q.position)))),[k,n]),[C,I]=K.useState([]),[R,D]=K.useState(!1),[O,P]=K.useState(!1),[H,re]=K.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=K.useRef(null),ne=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=K.useRef(null),$=K.useRef(!1),Y=K.useCallback(q=>{var J;(J=k.find(ee=>ee.id===q.id))!=null&&J.delete||Zt.dismiss(q.id),V(ee=>ee.filter(({id:Se})=>Se!==q.id))},[k]);return K.useEffect(()=>Zt.subscribe(q=>{if(q.dismiss){V(J=>J.map(ee=>ee.id===q.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{gE.flushSync(()=>{V(J=>{let ee=J.findIndex(Se=>Se.id===q.id);return ee!==-1?[...J.slice(0,ee),{...J[ee],...q},...J.slice(ee+1)]:[q,...J]})})})}),[]),K.useEffect(()=>{if(u!=="system"){re(u);return}u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:q})=>{re(q?"dark":"light")})},[u]),K.useEffect(()=>{k.length<=1&&D(!1)},[k]),K.useEffect(()=>{let q=J=>{var ee,Se;r.every(Fe=>J[Fe]||J.code===Fe)&&(D(!0),(ee=X.current)==null||ee.focus()),J.code==="Escape"&&(document.activeElement===X.current||(Se=X.current)!=null&&Se.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[r]),K.useEffect(()=>{if(X.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,$.current=!1)}},[X.current]),k.length?K.createElement("section",{"aria-label":`${_} ${ne}`,tabIndex:-1},b.map((q,J)=>{var ee;let[Se,Fe]=q.split("-");return K.createElement("ol",{key:q,dir:x==="auto"?r0():x,tabIndex:-1,ref:X,className:o,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":Se,"data-x-position":Fe,style:{"--front-toast-height":`${((ee=C[0])==null?void 0:ee.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||RN,"--width":`${NN}px`,"--gap":`${v}px`,...p},onBlur:fe=>{$.current&&!fe.currentTarget.contains(fe.relatedTarget)&&($.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||$.current||($.current=!0,j.current=fe.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{O||D(!1)},onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},k.filter(fe=>!fe.position&&J===0||fe.position===q).map((fe,Z)=>{var Ee,ze;return K.createElement(MN,{key:fe.id,icons:E,index:Z,toast:fe,defaultRichColors:c,duration:(Ee=m==null?void 0:m.duration)!=null?Ee:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:h,closeButton:(ze=m==null?void 0:m.closeButton)!=null?ze:s,interacting:O,position:q,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:Y,toasts:k.filter(pe=>pe.position==fe.position),heights:C.filter(pe=>pe.position==fe.position),setHeights:I,expandByDefault:i,gap:v,loadingIcon:T,expanded:R,pauseWhenPageIsHidden:S,cn:N})}))})):null};const LN=({...t})=>{const{theme:e="system"}=fN();return g.jsx(jN,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var FN=f_.useId||(()=>{}),zN=0;function eo(t){const[e,n]=w.useState(FN());return Dt(()=>{n(r=>r??String(zN++))},[t]),e?`radix-${e}`:""}const UN=["top","right","bottom","left"],hi=Math.min,tn=Math.max,Pc=Math.round,Tu=Math.floor,fi=t=>({x:t,y:t}),$N={left:"right",right:"left",bottom:"top",top:"bottom"},BN={start:"end",end:"start"};function up(t,e,n){return tn(t,hi(e,n))}function vr(t,e){return typeof t=="function"?t(e):t}function wr(t){return t.split("-")[0]}function jo(t){return t.split("-")[1]}function qm(t){return t==="x"?"y":"x"}function Gm(t){return t==="y"?"height":"width"}function pi(t){return["top","bottom"].includes(wr(t))?"y":"x"}function Qm(t){return qm(pi(t))}function HN(t,e,n){n===void 0&&(n=!1);const r=jo(t),i=Qm(t),s=Gm(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Nc(o)),[o,Nc(o)]}function WN(t){const e=Nc(t);return[cp(t),e,cp(e)]}function cp(t){return t.replace(/start|end/g,e=>BN[e])}function KN(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function qN(t,e,n,r){const i=jo(t);let s=KN(wr(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(cp)))),s}function Nc(t){return t.replace(/left|right|bottom|top/g,e=>$N[e])}function GN(t){return{top:0,right:0,bottom:0,left:0,...t}}function sx(t){return typeof t!="number"?GN(t):{top:t,right:t,bottom:t,left:t}}function kc(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function i0(t,e,n){let{reference:r,floating:i}=t;const s=pi(e),o=Qm(e),a=Gm(o),u=wr(e),c=s==="y",d=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let m;switch(u){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:p};break;case"left":m={x:r.x-i.width,y:p};break;default:m={x:r.x,y:r.y}}switch(jo(e)){case"start":m[o]-=h*(n&&c?-1:1);break;case"end":m[o]+=h*(n&&c?-1:1);break}return m}const QN=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:p}=i0(c,r,u),h=r,m={},x=0;for(let v=0;v<a.length;v++){const{name:T,fn:E}=a[v],{x:_,y:S,data:N,reset:k}=await E({x:d,y:p,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});d=_??d,p=S??p,m={...m,[T]:{...m[T],...N}},k&&x<=50&&(x++,typeof k=="object"&&(k.placement&&(h=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:d,y:p}=i0(c,h,u)),v=-1)}return{x:d,y:p,placement:h,strategy:i,middlewareData:m}};async function il(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:h=!1,padding:m=0}=vr(e,t),x=sx(m),T=a[h?p==="floating"?"reference":"floating":p],E=kc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(T)))==null||n?T:T.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:u})),_=p==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),N=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},k=kc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:S,strategy:u}):_);return{top:(E.top-k.top+x.top)/N.y,bottom:(k.bottom-E.bottom+x.bottom)/N.y,left:(E.left-k.left+x.left)/N.x,right:(k.right-E.right+x.right)/N.x}}const YN=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:u}=e,{element:c,padding:d=0}=vr(t,e)||{};if(c==null)return{};const p=sx(d),h={x:n,y:r},m=Qm(i),x=Gm(m),v=await o.getDimensions(c),T=m==="y",E=T?"top":"left",_=T?"bottom":"right",S=T?"clientHeight":"clientWidth",N=s.reference[x]+s.reference[m]-h[m]-s.floating[x],k=h[m]-s.reference[m],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let b=V?V[S]:0;(!b||!await(o.isElement==null?void 0:o.isElement(V)))&&(b=a.floating[S]||s.floating[x]);const C=N/2-k/2,I=b/2-v[x]/2-1,R=hi(p[E],I),D=hi(p[_],I),O=R,P=b-v[x]-D,H=b/2-v[x]/2+C,re=up(O,H,P),X=!u.arrow&&jo(i)!=null&&H!==re&&s.reference[x]/2-(H<O?R:D)-v[x]/2<0,ne=X?H<O?H-O:H-P:0;return{[m]:h[m]+ne,data:{[m]:re,centerOffset:H-re-ne,...X&&{alignmentOffset:ne}},reset:X}}}),XN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:u,elements:c}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...T}=vr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const E=wr(i),_=pi(a),S=wr(a)===a,N=await(u.isRTL==null?void 0:u.isRTL(c.floating)),k=h||(S||!v?[Nc(a)]:WN(a)),V=x!=="none";!h&&V&&k.push(...qN(a,v,x,N));const b=[a,...k],C=await il(e,T),I=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&I.push(C[E]),p){const H=HN(i,o,N);I.push(C[H[0]],C[H[1]])}if(R=[...R,{placement:i,overflows:I}],!I.every(H=>H<=0)){var D,O;const H=(((D=s.flip)==null?void 0:D.index)||0)+1,re=b[H];if(re)return{data:{index:H,overflows:R},reset:{placement:re}};let X=(O=R.filter(ne=>ne.overflows[0]<=0).sort((ne,j)=>ne.overflows[1]-j.overflows[1])[0])==null?void 0:O.placement;if(!X)switch(m){case"bestFit":{var P;const ne=(P=R.filter(j=>{if(V){const $=pi(j.placement);return $===_||$==="y"}return!0}).map(j=>[j.placement,j.overflows.filter($=>$>0).reduce(($,Y)=>$+Y,0)]).sort((j,$)=>j[1]-$[1])[0])==null?void 0:P[0];ne&&(X=ne);break}case"initialPlacement":X=a;break}if(i!==X)return{reset:{placement:X}}}return{}}}};function s0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function o0(t){return UN.some(e=>t[e]>=0)}const JN=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=vr(t,e);switch(r){case"referenceHidden":{const s=await il(e,{...i,elementContext:"reference"}),o=s0(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:o0(o)}}}case"escaped":{const s=await il(e,{...i,altBoundary:!0}),o=s0(s,n.floating);return{data:{escapedOffsets:o,escaped:o0(o)}}}default:return{}}}}};async function ZN(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=wr(n),a=jo(n),u=pi(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&u?-1:1,p=vr(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:x}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof x=="number"&&(m=a==="end"?x*-1:x),u?{x:m*d,y:h*c}:{x:h*c,y:m*d}}const e2=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,u=await ZN(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},t2=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x:E,y:_}=T;return{x:E,y:_}}},...u}=vr(t,e),c={x:n,y:r},d=await il(e,u),p=pi(wr(i)),h=qm(p);let m=c[h],x=c[p];if(s){const T=h==="y"?"top":"left",E=h==="y"?"bottom":"right",_=m+d[T],S=m-d[E];m=up(_,m,S)}if(o){const T=p==="y"?"top":"left",E=p==="y"?"bottom":"right",_=x+d[T],S=x-d[E];x=up(_,x,S)}const v=a.fn({...e,[h]:m,[p]:x});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:s,[p]:o}}}}}},n2=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:c=!0}=vr(t,e),d={x:n,y:r},p=pi(i),h=qm(p);let m=d[h],x=d[p];const v=vr(a,e),T=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(u){const S=h==="y"?"height":"width",N=s.reference[h]-s.floating[S]+T.mainAxis,k=s.reference[h]+s.reference[S]-T.mainAxis;m<N?m=N:m>k&&(m=k)}if(c){var E,_;const S=h==="y"?"width":"height",N=["top","left"].includes(wr(i)),k=s.reference[p]-s.floating[S]+(N&&((E=o.offset)==null?void 0:E[p])||0)+(N?0:T.crossAxis),V=s.reference[p]+s.reference[S]+(N?0:((_=o.offset)==null?void 0:_[p])||0)-(N?T.crossAxis:0);x<k?x=k:x>V&&(x=V)}return{[h]:m,[p]:x}}}},r2=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:u=()=>{},...c}=vr(t,e),d=await il(e,c),p=wr(i),h=jo(i),m=pi(i)==="y",{width:x,height:v}=s.floating;let T,E;p==="top"||p==="bottom"?(T=p,E=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=p,T=h==="end"?"top":"bottom");const _=v-d.top-d.bottom,S=x-d.left-d.right,N=hi(v-d[T],_),k=hi(x-d[E],S),V=!e.middlewareData.shift;let b=N,C=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=_),V&&!h){const R=tn(d.left,0),D=tn(d.right,0),O=tn(d.top,0),P=tn(d.bottom,0);m?C=x-2*(R!==0||D!==0?R+D:tn(d.left,d.right)):b=v-2*(O!==0||P!==0?O+P:tn(d.top,d.bottom))}await u({...e,availableWidth:C,availableHeight:b});const I=await o.getDimensions(a.floating);return x!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function _d(){return typeof window<"u"}function Lo(t){return ox(t)?(t.nodeName||"").toLowerCase():"#document"}function on(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function tr(t){var e;return(e=(ox(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ox(t){return _d()?t instanceof Node||t instanceof on(t).Node:!1}function Dn(t){return _d()?t instanceof Element||t instanceof on(t).Element:!1}function Xn(t){return _d()?t instanceof HTMLElement||t instanceof on(t).HTMLElement:!1}function a0(t){return!_d()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof on(t).ShadowRoot}function Il(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=On(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function i2(t){return["table","td","th"].includes(Lo(t))}function Ed(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Ym(t){const e=Xm(),n=Dn(t)?On(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function s2(t){let e=mi(t);for(;Xn(e)&&!To(e);){if(Ym(e))return e;if(Ed(e))return null;e=mi(e)}return null}function Xm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function To(t){return["html","body","#document"].includes(Lo(t))}function On(t){return on(t).getComputedStyle(t)}function xd(t){return Dn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function mi(t){if(Lo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||a0(t)&&t.host||tr(t);return a0(e)?e.host:e}function ax(t){const e=mi(t);return To(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xn(e)&&Il(e)?e:ax(e)}function sl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=ax(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=on(i);if(s){const a=dp(o);return e.concat(o,o.visualViewport||[],Il(i)?i:[],a&&n?sl(a):[])}return e.concat(i,sl(i,[],n))}function dp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function lx(t){const e=On(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Xn(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Pc(n)!==s||Pc(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Jm(t){return Dn(t)?t:t.contextElement}function to(t){const e=Jm(t);if(!Xn(e))return fi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=lx(e);let o=(s?Pc(n.width):n.width)/r,a=(s?Pc(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const o2=fi(0);function ux(t){const e=on(t);return!Xm()||!e.visualViewport?o2:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function a2(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==on(t)?!1:e}function os(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Jm(t);let o=fi(1);e&&(r?Dn(r)&&(o=to(r)):o=to(t));const a=a2(s,n,r)?ux(s):fi(0);let u=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,p=i.height/o.y;if(s){const h=on(s),m=r&&Dn(r)?on(r):r;let x=h,v=dp(x);for(;v&&r&&m!==x;){const T=to(v),E=v.getBoundingClientRect(),_=On(v),S=E.left+(v.clientLeft+parseFloat(_.paddingLeft))*T.x,N=E.top+(v.clientTop+parseFloat(_.paddingTop))*T.y;u*=T.x,c*=T.y,d*=T.x,p*=T.y,u+=S,c+=N,x=on(v),v=dp(x)}}return kc({width:d,height:p,x:u,y:c})}function l2(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=tr(r),a=e?Ed(e.floating):!1;if(r===o||a&&s)return n;let u={scrollLeft:0,scrollTop:0},c=fi(1);const d=fi(0),p=Xn(r);if((p||!p&&!s)&&((Lo(r)!=="body"||Il(o))&&(u=xd(r)),Xn(r))){const h=os(r);c=to(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x,y:n.y*c.y-u.scrollTop*c.y+d.y}}function u2(t){return Array.from(t.getClientRects())}function hp(t,e){const n=xd(t).scrollLeft;return e?e.left+n:os(tr(t)).left+n}function c2(t){const e=tr(t),n=xd(t),r=t.ownerDocument.body,i=tn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=tn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+hp(t);const a=-n.scrollTop;return On(r).direction==="rtl"&&(o+=tn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function d2(t,e){const n=on(t),r=tr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;const c=Xm();(!c||c&&e==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a,y:u}}function h2(t,e){const n=os(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Xn(t)?to(t):fi(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,u=i*s.x,c=r*s.y;return{width:o,height:a,x:u,y:c}}function l0(t,e,n){let r;if(e==="viewport")r=d2(t,n);else if(e==="document")r=c2(tr(t));else if(Dn(e))r=h2(e,n);else{const i=ux(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return kc(r)}function cx(t,e){const n=mi(t);return n===e||!Dn(n)||To(n)?!1:On(n).position==="fixed"||cx(n,e)}function f2(t,e){const n=e.get(t);if(n)return n;let r=sl(t,[],!1).filter(a=>Dn(a)&&Lo(a)!=="body"),i=null;const s=On(t).position==="fixed";let o=s?mi(t):t;for(;Dn(o)&&!To(o);){const a=On(o),u=Ym(o);!u&&a.position==="fixed"&&(i=null),(s?!u&&!i:!u&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Il(o)&&!u&&cx(t,o))?r=r.filter(d=>d!==o):i=a,o=mi(o)}return e.set(t,r),r}function p2(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Ed(e)?[]:f2(e,this._c):[].concat(n),r],a=o[0],u=o.reduce((c,d)=>{const p=l0(e,d,i);return c.top=tn(p.top,c.top),c.right=hi(p.right,c.right),c.bottom=hi(p.bottom,c.bottom),c.left=tn(p.left,c.left),c},l0(e,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function m2(t){const{width:e,height:n}=lx(t);return{width:e,height:n}}function g2(t,e,n){const r=Xn(e),i=tr(e),s=n==="fixed",o=os(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const u=fi(0);if(r||!r&&!s)if((Lo(e)!=="body"||Il(i))&&(a=xd(e)),r){const m=os(e,!0,s,e);u.x=m.x+e.clientLeft,u.y=m.y+e.clientTop}else i&&(u.x=hp(i));let c=0,d=0;if(i&&!r&&!s){const m=i.getBoundingClientRect();d=m.top+a.scrollTop,c=m.left+a.scrollLeft-hp(i,m)}const p=o.left+a.scrollLeft-u.x-c,h=o.top+a.scrollTop-u.y-d;return{x:p,y:h,width:o.width,height:o.height}}function Hh(t){return On(t).position==="static"}function u0(t,e){if(!Xn(t)||On(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return tr(t)===n&&(n=n.ownerDocument.body),n}function dx(t,e){const n=on(t);if(Ed(t))return n;if(!Xn(t)){let i=mi(t);for(;i&&!To(i);){if(Dn(i)&&!Hh(i))return i;i=mi(i)}return n}let r=u0(t,e);for(;r&&i2(r)&&Hh(r);)r=u0(r,e);return r&&To(r)&&Hh(r)&&!Ym(r)?n:r||s2(t)||n}const y2=async function(t){const e=this.getOffsetParent||dx,n=this.getDimensions,r=await n(t.floating);return{reference:g2(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function v2(t){return On(t).direction==="rtl"}const w2={convertOffsetParentRelativeRectToViewportRelativeRect:l2,getDocumentElement:tr,getClippingRect:p2,getOffsetParent:dx,getElementRects:y2,getClientRects:u2,getDimensions:m2,getScale:to,isElement:Dn,isRTL:v2};function _2(t,e){let n=null,r;const i=tr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const{left:c,top:d,width:p,height:h}=t.getBoundingClientRect();if(a||e(),!p||!h)return;const m=Tu(d),x=Tu(i.clientWidth-(c+p)),v=Tu(i.clientHeight-(d+h)),T=Tu(c),_={rootMargin:-m+"px "+-x+"px "+-v+"px "+-T+"px",threshold:tn(0,hi(1,u))||1};let S=!0;function N(k){const V=k[0].intersectionRatio;if(V!==u){if(!S)return o();V?o(!1,V):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(N,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,_)}n.observe(t)}return o(!0),s}function E2(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=Jm(t),d=i||s?[...c?sl(c):[],...sl(e)]:[];d.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),s&&E.addEventListener("resize",n)});const p=c&&a?_2(c,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(E=>{let[_]=E;_&&_.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(e)})),n()}),c&&!u&&m.observe(c),m.observe(e));let x,v=u?os(t):null;u&&T();function T(){const E=os(t);v&&(E.x!==v.x||E.y!==v.y||E.width!==v.width||E.height!==v.height)&&n(),v=E,x=requestAnimationFrame(T)}return n(),()=>{var E;d.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),p==null||p(),(E=m)==null||E.disconnect(),m=null,u&&cancelAnimationFrame(x)}}const x2=e2,T2=t2,S2=XN,C2=r2,b2=JN,c0=YN,A2=n2,I2=(t,e,n)=>{const r=new Map,i={platform:w2,...n},s={...i.platform,_c:r};return QN(t,e,{...i,platform:s})};var Yu=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Dc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Dc(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Dc(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function hx(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function d0(t,e){const n=hx(t);return Math.round(e*n)/n}function Wh(t){const e=w.useRef(t);return Yu(()=>{e.current=t}),e}function R2(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:u,open:c}=t,[d,p]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=w.useState(r);Dc(h,r)||m(r);const[x,v]=w.useState(null),[T,E]=w.useState(null),_=w.useCallback(j=>{j!==V.current&&(V.current=j,v(j))},[]),S=w.useCallback(j=>{j!==b.current&&(b.current=j,E(j))},[]),N=s||x,k=o||T,V=w.useRef(null),b=w.useRef(null),C=w.useRef(d),I=u!=null,R=Wh(u),D=Wh(i),O=Wh(c),P=w.useCallback(()=>{if(!V.current||!b.current)return;const j={placement:e,strategy:n,middleware:h};D.current&&(j.platform=D.current),I2(V.current,b.current,j).then($=>{const Y={...$,isPositioned:O.current!==!1};H.current&&!Dc(C.current,Y)&&(C.current=Y,gs.flushSync(()=>{p(Y)}))})},[h,e,n,D,O]);Yu(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,p(j=>({...j,isPositioned:!1})))},[c]);const H=w.useRef(!1);Yu(()=>(H.current=!0,()=>{H.current=!1}),[]),Yu(()=>{if(N&&(V.current=N),k&&(b.current=k),N&&k){if(R.current)return R.current(N,k,P);P()}},[N,k,P,R,I]);const re=w.useMemo(()=>({reference:V,floating:b,setReference:_,setFloating:S}),[_,S]),X=w.useMemo(()=>({reference:N,floating:k}),[N,k]),ne=w.useMemo(()=>{const j={position:n,left:0,top:0};if(!X.floating)return j;const $=d0(X.floating,d.x),Y=d0(X.floating,d.y);return a?{...j,transform:"translate("+$+"px, "+Y+"px)",...hx(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:Y}},[n,a,X.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:P,refs:re,elements:X,floatingStyles:ne}),[d,P,re,X,ne])}const P2=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?c0({element:r.current,padding:i}).fn(n):{}:r?c0({element:r,padding:i}).fn(n):{}}}},N2=(t,e)=>({...x2(t),options:[t,e]}),k2=(t,e)=>({...T2(t),options:[t,e]}),D2=(t,e)=>({...A2(t),options:[t,e]}),O2=(t,e)=>({...S2(t),options:[t,e]}),V2=(t,e)=>({...C2(t),options:[t,e]}),M2=(t,e)=>({...b2(t),options:[t,e]}),j2=(t,e)=>({...P2(t),options:[t,e]});var L2="Arrow",fx=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return g.jsx(Te.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});fx.displayName=L2;var F2=fx;function z2(t,e=[]){let n=[];function r(s,o){const a=w.createContext(o),u=n.length;n=[...n,o];function c(p){const{scope:h,children:m,...x}=p,v=(h==null?void 0:h[t][u])||a,T=w.useMemo(()=>x,Object.values(x));return g.jsx(v.Provider,{value:T,children:m})}function d(p,h){const m=(h==null?void 0:h[t][u])||a,x=w.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(a){const u=(a==null?void 0:a[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return i.scopeName=t,[r,U2(i,...e)]}function U2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const p=u(s)[`__scope${c}`];return{...a,...p}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function $2(t){const[e,n]=w.useState(void 0);return Dt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const u=s.borderBoxSize,c=Array.isArray(u)?u[0]:u;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Zm="Popper",[px,Td]=z2(Zm),[B2,mx]=px(Zm),gx=t=>{const{__scopePopper:e,children:n}=t,[r,i]=w.useState(null);return g.jsx(B2,{scope:e,anchor:r,onAnchorChange:i,children:n})};gx.displayName=Zm;var yx="PopperAnchor",vx=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=mx(yx,n),o=w.useRef(null),a=ke(e,o);return w.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:g.jsx(Te.div,{...i,ref:a})});vx.displayName=yx;var eg="PopperContent",[H2,W2]=px(eg),wx=w.forwardRef((t,e)=>{var Z,Ee,ze,pe,ve,ge;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:x,...v}=t,T=mx(eg,n),[E,_]=w.useState(null),S=ke(e,it=>_(it)),[N,k]=w.useState(null),V=$2(N),b=(V==null?void 0:V.width)??0,C=(V==null?void 0:V.height)??0,I=r+(s!=="center"?"-"+s:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(c)?c:[c],O=D.length>0,P={padding:R,boundary:D.filter(q2),altBoundary:O},{refs:H,floatingStyles:re,placement:X,isPositioned:ne,middlewareData:j}=R2({strategy:"fixed",placement:I,whileElementsMounted:(...it)=>E2(...it,{animationFrame:m==="always"}),elements:{reference:T.anchor},middleware:[N2({mainAxis:i+C,alignmentAxis:o}),u&&k2({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?D2():void 0,...P}),u&&O2({...P}),V2({...P,apply:({elements:it,rects:ft,availableWidth:dn,availableHeight:Ot})=>{const{width:nr,height:Ko}=ft.reference,Ze=it.floating.style;Ze.setProperty("--radix-popper-available-width",`${dn}px`),Ze.setProperty("--radix-popper-available-height",`${Ot}px`),Ze.setProperty("--radix-popper-anchor-width",`${nr}px`),Ze.setProperty("--radix-popper-anchor-height",`${Ko}px`)}}),N&&j2({element:N,padding:a}),G2({arrowWidth:b,arrowHeight:C}),h&&M2({strategy:"referenceHidden",...P})]}),[$,Y]=xx(X),q=ln(x);Dt(()=>{ne&&(q==null||q())},[ne,q]);const J=(Z=j.arrow)==null?void 0:Z.x,ee=(Ee=j.arrow)==null?void 0:Ee.y,Se=((ze=j.arrow)==null?void 0:ze.centerOffset)!==0,[Fe,fe]=w.useState();return Dt(()=>{E&&fe(window.getComputedStyle(E).zIndex)},[E]),g.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:ne?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Fe,"--radix-popper-transform-origin":[(pe=j.transformOrigin)==null?void 0:pe.x,(ve=j.transformOrigin)==null?void 0:ve.y].join(" "),...((ge=j.hide)==null?void 0:ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(H2,{scope:n,placedSide:$,onArrowChange:k,arrowX:J,arrowY:ee,shouldHideArrow:Se,children:g.jsx(Te.div,{"data-side":$,"data-align":Y,...v,ref:S,style:{...v.style,animation:ne?void 0:"none"}})})})});wx.displayName=eg;var _x="PopperArrow",K2={top:"bottom",right:"left",bottom:"top",left:"right"},Ex=w.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=W2(_x,r),o=K2[s.placedSide];return g.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:g.jsx(F2,{...i,ref:n,style:{...i.style,display:"block"}})})});Ex.displayName=_x;function q2(t){return t!==null}var G2=t=>({name:"transformOrigin",options:t,fn(e){var T,E,_;const{placement:n,rects:r,middlewareData:i}=e,o=((T=i.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[c,d]=xx(n),p={start:"0%",center:"50%",end:"100%"}[d],h=(((E=i.arrow)==null?void 0:E.x)??0)+a/2,m=(((_=i.arrow)==null?void 0:_.y)??0)+u/2;let x="",v="";return c==="bottom"?(x=o?p:`${h}px`,v=`${-u}px`):c==="top"?(x=o?p:`${h}px`,v=`${r.floating.height+u}px`):c==="right"?(x=`${-u}px`,v=o?p:`${m}px`):c==="left"&&(x=`${r.floating.width+u}px`,v=o?p:`${m}px`),{data:{x,y:v}}}});function xx(t){const[e,n="center"]=t.split("-");return[e,n]}var Q2=gx,Tx=vx,Sx=wx,Cx=Ex,[Sd,tF]=Cl("Tooltip",[Td]),tg=Td(),bx="TooltipProvider",Y2=700,h0="tooltip.open",[X2,Ax]=Sd(bx),Ix=t=>{const{__scopeTooltip:e,delayDuration:n=Y2,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=w.useState(!0),u=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),g.jsx(X2,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:w.useCallback(d=>{u.current=d},[]),disableHoverableContent:i,children:s})};Ix.displayName=bx;var Rx="Tooltip",[nF,Cd]=Sd(Rx),fp="TooltipTrigger",J2=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Cd(fp,n),s=Ax(fp,n),o=tg(n),a=w.useRef(null),u=ke(e,a,i.onTriggerChange),c=w.useRef(!1),d=w.useRef(!1),p=w.useCallback(()=>c.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),g.jsx(Tx,{asChild:!0,...o,children:g.jsx(Te.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:u,onPointerMove:ue(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ue(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ue(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:ue(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:ue(t.onBlur,i.onClose),onClick:ue(t.onClick,i.onClose)})})});J2.displayName=fp;var Z2="TooltipPortal",[rF,ek]=Sd(Z2,{forceMount:void 0}),So="TooltipContent",Px=w.forwardRef((t,e)=>{const n=ek(So,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Cd(So,t.__scopeTooltip);return g.jsx(Vo,{present:r||o.open,children:o.disableHoverableContent?g.jsx(Nx,{side:i,...s,ref:e}):g.jsx(tk,{side:i,...s,ref:e})})}),tk=w.forwardRef((t,e)=>{const n=Cd(So,t.__scopeTooltip),r=Ax(So,t.__scopeTooltip),i=w.useRef(null),s=ke(e,i),[o,a]=w.useState(null),{trigger:u,onClose:c}=n,d=i.current,{onPointerInTransitChange:p}=r,h=w.useCallback(()=>{a(null),p(!1)},[p]),m=w.useCallback((x,v)=>{const T=x.currentTarget,E={x:x.clientX,y:x.clientY},_=sk(E,T.getBoundingClientRect()),S=ok(E,_),N=ak(v.getBoundingClientRect()),k=uk([...S,...N]);a(k),p(!0)},[p]);return w.useEffect(()=>()=>h(),[h]),w.useEffect(()=>{if(u&&d){const x=T=>m(T,d),v=T=>m(T,u);return u.addEventListener("pointerleave",x),d.addEventListener("pointerleave",v),()=>{u.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",v)}}},[u,d,m,h]),w.useEffect(()=>{if(o){const x=v=>{const T=v.target,E={x:v.clientX,y:v.clientY},_=(u==null?void 0:u.contains(T))||(d==null?void 0:d.contains(T)),S=!lk(E,o);_?h():S&&(h(),c())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[u,d,o,c,h]),g.jsx(Nx,{...t,ref:s})}),[nk,rk]=Sd(Rx,{isInside:!1}),Nx=w.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,u=Cd(So,n),c=tg(n),{onClose:d}=u;return w.useEffect(()=>(document.addEventListener(h0,d),()=>document.removeEventListener(h0,d)),[d]),w.useEffect(()=>{if(u.trigger){const p=h=>{const m=h.target;m!=null&&m.contains(u.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,d]),g.jsx(bl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:d,children:g.jsxs(Sx,{"data-state":u.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(Um,{children:r}),g.jsx(nk,{scope:n,isInside:!0,children:g.jsx(ZR,{id:u.contentId,role:"tooltip",children:i||r})})]})})});Px.displayName=So;var kx="TooltipArrow",ik=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=tg(n);return rk(kx,n).isInside?null:g.jsx(Cx,{...i,...r,ref:e})});ik.displayName=kx;function sk(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ok(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function ak(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function lk(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,u=e[s].y,c=e[o].x,d=e[o].y;u>r!=d>r&&n<(c-a)*(r-u)/(d-u)+a&&(i=!i)}return i}function uk(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),ck(e)}function ck(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var dk=Ix,Dx=Px;const hk=dk,fk=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(Dx,{ref:r,sideOffset:e,className:Oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));fk.displayName=Dx.displayName;var bd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ad=typeof window>"u"||"Deno"in globalThis;function Cn(){}function pk(t,e){return typeof t=="function"?t(e):t}function mk(t){return typeof t=="number"&&t>=0&&t!==1/0}function gk(t,e){return Math.max(t+(e||0)-Date.now(),0)}function f0(t,e){return typeof t=="function"?t(e):t}function yk(t,e){return typeof t=="function"?t(e):t}function p0(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==ng(o,e.options))return!1}else if(!al(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function m0(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(ol(e.options.mutationKey)!==ol(s))return!1}else if(!al(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function ng(t,e){return((e==null?void 0:e.queryKeyHashFn)||ol)(t)}function ol(t){return JSON.stringify(t,(e,n)=>pp(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function al(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!al(t[n],e[n])):!1}function Ox(t,e){if(t===e)return t;const n=g0(t)&&g0(e);if(n||pp(t)&&pp(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let u=0;for(let c=0;c<o;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,u++):(a[d]=Ox(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&u++)}return i===o&&u===i?t:a}return e}function g0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function pp(t){if(!y0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!y0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function y0(t){return Object.prototype.toString.call(t)==="[object Object]"}function vk(t){return new Promise(e=>{setTimeout(e,t)})}function wk(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Ox(t,e):e}function _k(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Ek(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var rg=Symbol();function Vx(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===rg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Gi,Ur,oo,Gw,xk=(Gw=class extends bd{constructor(){super();be(this,Gi);be(this,Ur);be(this,oo);de(this,oo,e=>{if(!Ad&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,Ur)||this.setEventListener(z(this,oo))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Ur))==null||e.call(this),de(this,Ur,void 0))}setEventListener(e){var n;de(this,oo,e),(n=z(this,Ur))==null||n.call(this),de(this,Ur,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,Gi)!==e&&(de(this,Gi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,Gi)=="boolean"?z(this,Gi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Gi=new WeakMap,Ur=new WeakMap,oo=new WeakMap,Gw),Mx=new xk,ao,$r,lo,Qw,Tk=(Qw=class extends bd{constructor(){super();be(this,ao,!0);be(this,$r);be(this,lo);de(this,lo,e=>{if(!Ad&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,$r)||this.setEventListener(z(this,lo))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,$r))==null||e.call(this),de(this,$r,void 0))}setEventListener(e){var n;de(this,lo,e),(n=z(this,$r))==null||n.call(this),de(this,$r,e(this.setOnline.bind(this)))}setOnline(e){z(this,ao)!==e&&(de(this,ao,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,ao)}},ao=new WeakMap,$r=new WeakMap,lo=new WeakMap,Qw),Oc=new Tk;function Sk(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Ck(t){return Math.min(1e3*2**t,3e4)}function jx(t){return(t??"online")==="online"?Oc.isOnline():!0}var Lx=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Kh(t){return t instanceof Lx}function Fx(t){let e=!1,n=0,r=!1,i;const s=Sk(),o=v=>{var T;r||(h(new Lx(v)),(T=t.abort)==null||T.call(t))},a=()=>{e=!0},u=()=>{e=!1},c=()=>Mx.isFocused()&&(t.networkMode==="always"||Oc.isOnline())&&t.canRun(),d=()=>jx(t.networkMode)&&t.canRun(),p=v=>{var T;r||(r=!0,(T=t.onSuccess)==null||T.call(t,v),i==null||i(),s.resolve(v))},h=v=>{var T;r||(r=!0,(T=t.onError)==null||T.call(t,v),i==null||i(),s.reject(v))},m=()=>new Promise(v=>{var T;i=E=>{(r||c())&&v(E)},(T=t.onPause)==null||T.call(t)}).then(()=>{var v;i=void 0,r||(v=t.onContinue)==null||v.call(t)}),x=()=>{if(r)return;let v;const T=n===0?t.initialPromise:void 0;try{v=T??t.fn()}catch(E){v=Promise.reject(E)}Promise.resolve(v).then(p).catch(E=>{var V;if(r)return;const _=t.retry??(Ad?0:3),S=t.retryDelay??Ck,N=typeof S=="function"?S(n,E):S,k=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,E);if(e||!k){h(E);return}n++,(V=t.onFail)==null||V.call(t,n,E),vk(N).then(()=>c()?void 0:m()).then(()=>{e?h(E):x()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:u,canStart:d,start:()=>(d()?x():m().then(x),s)}}function bk(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||o()}return u},batchCalls:a=>(...u)=>{s(()=>{a(...u)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Lt=bk(),Qi,Yw,zx=(Yw=class{constructor(){be(this,Qi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),mk(this.gcTime)&&de(this,Qi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ad?1/0:5*60*1e3))}clearGcTimeout(){z(this,Qi)&&(clearTimeout(z(this,Qi)),de(this,Qi,void 0))}},Qi=new WeakMap,Yw),uo,co,hn,It,vl,Yi,bn,lr,Xw,Ak=(Xw=class extends zx{constructor(n){super();be(this,bn);be(this,uo);be(this,co);be(this,hn);be(this,It);be(this,vl);be(this,Yi);de(this,Yi,!1),de(this,vl,n.defaultOptions),this.setOptions(n.options),this.observers=[],de(this,hn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,de(this,uo,Rk(this.options)),this.state=n.state??z(this,uo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,It))==null?void 0:n.promise}setOptions(n){this.options={...z(this,vl),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,hn).remove(this)}setData(n,r){const i=wk(this.state.data,n,this.options);return St(this,bn,lr).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){St(this,bn,lr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=z(this,It))==null?void 0:i.promise;return(s=z(this,It))==null||s.cancel(n),r?r.then(Cn).catch(Cn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,uo))}isActive(){return this.observers.some(n=>yk(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!gk(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,It))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,It))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,hn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,It)&&(z(this,Yi)?z(this,It).cancel({revert:!0}):z(this,It).cancelRetry()),this.scheduleGc()),z(this,hn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||St(this,bn,lr).call(this,{type:"invalidate"})}fetch(n,r){var c,d,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,It))return z(this,It).continueRetry(),z(this,It).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(de(this,Yi,!0),i.signal)})},o=()=>{const h=Vx(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return s(m),de(this,Yi,!1),this.options.persister?this.options.persister(h,m,this):h(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),de(this,co,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&St(this,bn,lr).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const u=h=>{var m,x,v,T;Kh(h)&&h.silent||St(this,bn,lr).call(this,{type:"error",error:h}),Kh(h)||((x=(m=z(this,hn).config).onError)==null||x.call(m,h,this),(T=(v=z(this,hn).config).onSettled)==null||T.call(v,this.state.data,h,this)),this.scheduleGc()};return de(this,It,Fx({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var m,x,v,T;if(h===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(E){u(E);return}(x=(m=z(this,hn).config).onSuccess)==null||x.call(m,h,this),(T=(v=z(this,hn).config).onSettled)==null||T.call(v,h,this.state.error,this),this.scheduleGc()},onError:u,onFail:(h,m)=>{St(this,bn,lr).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{St(this,bn,lr).call(this,{type:"pause"})},onContinue:()=>{St(this,bn,lr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,It).start()}},uo=new WeakMap,co=new WeakMap,hn=new WeakMap,It=new WeakMap,vl=new WeakMap,Yi=new WeakMap,bn=new WeakSet,lr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Ik(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return Kh(s)&&s.revert&&z(this,co)?{...z(this,co),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Lt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),z(this,hn).notify({query:this,type:"updated",action:n})})},Xw);function Ik(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:jx(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Rk(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Un,Jw,Pk=(Jw=class extends bd{constructor(e={}){super();be(this,Un);this.config=e,de(this,Un,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??ng(i,n);let o=this.get(s);return o||(o=new Ak({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){z(this,Un).has(e.queryHash)||(z(this,Un).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,Un).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,Un).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,Un).get(e)}getAll(){return[...z(this,Un).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>p0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>p0(e,r)):n}notify(e){Lt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Lt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Lt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Un=new WeakMap,Jw),$n,Mt,Xi,Bn,Or,Zw,Nk=(Zw=class extends zx{constructor(n){super();be(this,Bn);be(this,$n);be(this,Mt);be(this,Xi);this.mutationId=n.mutationId,de(this,Mt,n.mutationCache),de(this,$n,[]),this.state=n.state||kk(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,$n).includes(n)||(z(this,$n).push(n),this.clearGcTimeout(),z(this,Mt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){de(this,$n,z(this,$n).filter(r=>r!==n)),this.scheduleGc(),z(this,Mt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,$n).length||(this.state.status==="pending"?this.scheduleGc():z(this,Mt).remove(this))}continue(){var n;return((n=z(this,Xi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,u,c,d,p,h,m,x,v,T,E,_,S,N,k,V,b,C;de(this,Xi,Fx({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(I,R)=>{St(this,Bn,Or).call(this,{type:"failed",failureCount:I,error:R})},onPause:()=>{St(this,Bn,Or).call(this,{type:"pause"})},onContinue:()=>{St(this,Bn,Or).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Mt).canRun(this)}));const r=this.state.status==="pending",i=!z(this,Xi).canStart();try{if(!r){St(this,Bn,Or).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=z(this,Mt).config).onMutate)==null?void 0:o.call(s,n,this));const R=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,n));R!==this.state.context&&St(this,Bn,Or).call(this,{type:"pending",context:R,variables:n,isPaused:i})}const I=await z(this,Xi).start();return await((d=(c=z(this,Mt).config).onSuccess)==null?void 0:d.call(c,I,n,this.state.context,this)),await((h=(p=this.options).onSuccess)==null?void 0:h.call(p,I,n,this.state.context)),await((x=(m=z(this,Mt).config).onSettled)==null?void 0:x.call(m,I,null,this.state.variables,this.state.context,this)),await((T=(v=this.options).onSettled)==null?void 0:T.call(v,I,null,n,this.state.context)),St(this,Bn,Or).call(this,{type:"success",data:I}),I}catch(I){try{throw await((_=(E=z(this,Mt).config).onError)==null?void 0:_.call(E,I,n,this.state.context,this)),await((N=(S=this.options).onError)==null?void 0:N.call(S,I,n,this.state.context)),await((V=(k=z(this,Mt).config).onSettled)==null?void 0:V.call(k,void 0,I,this.state.variables,this.state.context,this)),await((C=(b=this.options).onSettled)==null?void 0:C.call(b,void 0,I,n,this.state.context)),I}finally{St(this,Bn,Or).call(this,{type:"error",error:I})}}finally{z(this,Mt).runNext(this)}}},$n=new WeakMap,Mt=new WeakMap,Xi=new WeakMap,Bn=new WeakSet,Or=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Lt.batch(()=>{z(this,$n).forEach(i=>{i.onMutationUpdate(n)}),z(this,Mt).notify({mutation:this,type:"updated",action:n})})},Zw);function kk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Jt,wl,e_,Dk=(e_=class extends bd{constructor(e={}){super();be(this,Jt);be(this,wl);this.config=e,de(this,Jt,new Map),de(this,wl,Date.now())}build(e,n,r){const i=new Nk({mutationCache:this,mutationId:++nu(this,wl)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Su(e),r=z(this,Jt).get(n)??[];r.push(e),z(this,Jt).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Su(e);if(z(this,Jt).has(n)){const i=(r=z(this,Jt).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?z(this,Jt).delete(n):z(this,Jt).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=z(this,Jt).get(Su(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=z(this,Jt).get(Su(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...z(this,Jt).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>m0(n,r))}findAll(e={}){return this.getAll().filter(n=>m0(e,n))}notify(e){Lt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Lt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Cn))))}},Jt=new WeakMap,wl=new WeakMap,e_);function Su(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function v0(t){return{onFetch:(e,n)=>{var d,p,h,m,x;const r=e.options,i=(h=(p=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:h.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let v=!1;const T=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},E=Vx(e.options,e.fetchOptions),_=async(S,N,k)=>{if(v)return Promise.reject();if(N==null&&S.pages.length)return Promise.resolve(S);const V={queryKey:e.queryKey,pageParam:N,direction:k?"backward":"forward",meta:e.options.meta};T(V);const b=await E(V),{maxPages:C}=e.options,I=k?Ek:_k;return{pages:I(S.pages,b,C),pageParams:I(S.pageParams,N,C)}};if(i&&s.length){const S=i==="backward",N=S?Ok:w0,k={pages:s,pageParams:o},V=N(r,k);a=await _(k,V,S)}else{const S=t??s.length;do{const N=u===0?o[0]??r.initialPageParam:w0(r,a);if(u>0&&N==null)break;a=await _(a,N),u++}while(u<S)}return a};e.options.persister?e.fetchFn=()=>{var v,T;return(T=(v=e.options).persister)==null?void 0:T.call(v,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function w0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Ok(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Qe,Br,Hr,ho,fo,Wr,po,mo,t_,Vk=(t_=class{constructor(t={}){be(this,Qe);be(this,Br);be(this,Hr);be(this,ho);be(this,fo);be(this,Wr);be(this,po);be(this,mo);de(this,Qe,t.queryCache||new Pk),de(this,Br,t.mutationCache||new Dk),de(this,Hr,t.defaultOptions||{}),de(this,ho,new Map),de(this,fo,new Map),de(this,Wr,0)}mount(){nu(this,Wr)._++,z(this,Wr)===1&&(de(this,po,Mx.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Qe).onFocus())})),de(this,mo,Oc.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Qe).onOnline())})))}unmount(){var t,e;nu(this,Wr)._--,z(this,Wr)===0&&((t=z(this,po))==null||t.call(this),de(this,po,void 0),(e=z(this,mo))==null||e.call(this),de(this,mo,void 0))}isFetching(t){return z(this,Qe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,Br).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Qe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=z(this,Qe).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(f0(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return z(this,Qe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=z(this,Qe).get(r.queryHash),s=i==null?void 0:i.state.data,o=pk(e,s);if(o!==void 0)return z(this,Qe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Lt.batch(()=>z(this,Qe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Qe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,Qe);Lt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,Qe),r={type:"active",...t};return Lt.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Lt.batch(()=>z(this,Qe).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Cn).catch(Cn)}invalidateQueries(t={},e={}){return Lt.batch(()=>{if(z(this,Qe).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Lt.batch(()=>z(this,Qe).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Cn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Cn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,Qe).build(this,e);return n.isStaleByTime(f0(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Cn).catch(Cn)}fetchInfiniteQuery(t){return t.behavior=v0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Cn).catch(Cn)}ensureInfiniteQueryData(t){return t.behavior=v0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Oc.isOnline()?z(this,Br).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Qe)}getMutationCache(){return z(this,Br)}getDefaultOptions(){return z(this,Hr)}setDefaultOptions(t){de(this,Hr,t)}setQueryDefaults(t,e){z(this,ho).set(ol(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,ho).values()];let n={};return e.forEach(r=>{al(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){z(this,fo).set(ol(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,fo).values()];let n={};return e.forEach(r=>{al(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,Hr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ng(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===rg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,Hr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,Qe).clear(),z(this,Br).clear()}},Qe=new WeakMap,Br=new WeakMap,Hr=new WeakMap,ho=new WeakMap,fo=new WeakMap,Wr=new WeakMap,po=new WeakMap,mo=new WeakMap,t_),Mk=w.createContext(void 0),jk=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(Mk.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ll.apply(this,arguments)}var Gr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Gr||(Gr={}));const _0="popstate";function Lk(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return mp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Vc(i)}return zk(e,n,null,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ux(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Fk(){return Math.random().toString(36).substr(2,8)}function E0(t,e){return{usr:t.state,key:t.key,idx:e}}function mp(t,e,n,r){return n===void 0&&(n=null),ll({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fo(e):e,{state:n,key:e&&e.key||r||Fk()})}function Vc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function zk(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Gr.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(ll({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=Gr.Pop;let T=d(),E=T==null?null:T-c;c=T,u&&u({action:a,location:v.location,delta:E})}function h(T,E){a=Gr.Push;let _=mp(v.location,T,E);c=d()+1;let S=E0(_,c),N=v.createHref(_);try{o.pushState(S,"",N)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(N)}s&&u&&u({action:a,location:v.location,delta:1})}function m(T,E){a=Gr.Replace;let _=mp(v.location,T,E);c=d();let S=E0(_,c),N=v.createHref(_);o.replaceState(S,"",N),s&&u&&u({action:a,location:v.location,delta:0})}function x(T){let E=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof T=="string"?T:Vc(T);return _=_.replace(/ $/,"%20"),rt(E,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,E)}let v={get action(){return a},get location(){return t(i,o)},listen(T){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(_0,p),u=T,()=>{i.removeEventListener(_0,p),u=null}},createHref(T){return e(i,T)},createURL:x,encodeLocation(T){let E=x(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:h,replace:m,go(T){return o.go(T)}};return v}var x0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(x0||(x0={}));function Uk(t,e,n){return n===void 0&&(n="/"),$k(t,e,n,!1)}function $k(t,e,n,r){let i=typeof e=="string"?Fo(e):e,s=ig(i.pathname||"/",n);if(s==null)return null;let o=$x(t);Bk(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=eD(s);a=Jk(o[u],c,r)}return a}function $x(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(rt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=ii([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(rt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),$x(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Yk(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of Bx(s.path))i(s,o,u)}),e}function Bx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Bx(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function Bk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Xk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Hk=/^:[\w-]+$/,Wk=3,Kk=2,qk=1,Gk=10,Qk=-2,T0=t=>t==="*";function Yk(t,e){let n=t.split("/"),r=n.length;return n.some(T0)&&(r+=Qk),e&&(r+=Kk),n.filter(i=>!T0(i)).reduce((i,s)=>i+(Hk.test(s)?Wk:s===""?qk:Gk),r)}function Xk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Jk(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=S0({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),h=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=S0({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:ii([s,p.pathname]),pathnameBase:iD(ii([s,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(s=ii([s,p.pathnameBase]))}return o}function S0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Zk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,p)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let v=a[p]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const x=a[p];return m&&!x?c[h]=void 0:c[h]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Zk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ux(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function eD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ux(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ig(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function tD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Fo(t):t;return{pathname:n?n.startsWith("/")?n:nD(n,e):e,search:sD(r),hash:oD(i)}}function nD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hx(t,e){let n=rD(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Wx(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Fo(t):(i=ll({},t),rt(!i.pathname||!i.pathname.includes("?"),qh("?","pathname","search",i)),rt(!i.pathname||!i.pathname.includes("#"),qh("#","pathname","hash",i)),rt(!i.search||!i.search.includes("#"),qh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),p-=1;i.pathname=h.join("/")}a=p>=0?e[p]:"/"}let u=tD(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const ii=t=>t.join("/").replace(/\/\/+/g,"/"),iD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function aD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Kx=["post","put","patch","delete"];new Set(Kx);const lD=["get",...Kx];new Set(lD);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ul.apply(this,arguments)}const sg=w.createContext(null),uD=w.createContext(null),ys=w.createContext(null),Id=w.createContext(null),bi=w.createContext({outlet:null,matches:[],isDataRoute:!1}),qx=w.createContext(null);function cD(t,e){let{relative:n}=e===void 0?{}:e;Rl()||rt(!1);let{basename:r,navigator:i}=w.useContext(ys),{hash:s,pathname:o,search:a}=Yx(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:ii([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Rl(){return w.useContext(Id)!=null}function Pl(){return Rl()||rt(!1),w.useContext(Id).location}function Gx(t){w.useContext(ys).static||w.useLayoutEffect(t)}function Nl(){let{isDataRoute:t}=w.useContext(bi);return t?TD():dD()}function dD(){Rl()||rt(!1);let t=w.useContext(sg),{basename:e,future:n,navigator:r}=w.useContext(ys),{matches:i}=w.useContext(bi),{pathname:s}=Pl(),o=JSON.stringify(Hx(i,n.v7_relativeSplatPath)),a=w.useRef(!1);return Gx(()=>{a.current=!0}),w.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let p=Wx(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ii([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,o,s,t])}function Qx(){let{matches:t}=w.useContext(bi),e=t[t.length-1];return e?e.params:{}}function Yx(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(ys),{matches:i}=w.useContext(bi),{pathname:s}=Pl(),o=JSON.stringify(Hx(i,r.v7_relativeSplatPath));return w.useMemo(()=>Wx(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function hD(t,e){return fD(t,e)}function fD(t,e,n,r){Rl()||rt(!1);let{navigator:i}=w.useContext(ys),{matches:s}=w.useContext(bi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Pl(),d;if(e){var p;let T=typeof e=="string"?Fo(e):e;u==="/"||(p=T.pathname)!=null&&p.startsWith(u)||rt(!1),d=T}else d=c;let h=d.pathname||"/",m=h;if(u!=="/"){let T=u.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(T.length).join("/")}let x=Uk(t,{pathname:m}),v=vD(x&&x.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:ii([u,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?u:ii([u,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,r);return e&&v?w.createElement(Id.Provider,{value:{location:ul({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Gr.Pop}},v):v}function pD(){let t=xD(),e=aD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,null)}const mD=w.createElement(pD,null);class gD extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(bi.Provider,{value:this.props.routeContext},w.createElement(qx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yD(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(sg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(bi.Provider,{value:e},r)}function vD(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);d>=0||rt(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:h,errors:m}=n,x=p.route.loader&&h[p.route.id]===void 0&&(!m||m[p.route.id]===void 0);if(p.route.lazy||x){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,p,h)=>{let m,x=!1,v=null,T=null;n&&(m=a&&p.route.id?a[p.route.id]:void 0,v=p.route.errorElement||mD,u&&(c<0&&h===0?(x=!0,T=null):c===h&&(x=!0,T=p.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,h+1)),_=()=>{let S;return m?S=v:x?S=T:p.route.Component?S=w.createElement(p.route.Component,null):p.route.element?S=p.route.element:S=d,w.createElement(yD,{match:p,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:S})};return n&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?w.createElement(gD,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}var Xx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Xx||{}),Mc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Mc||{});function wD(t){let e=w.useContext(sg);return e||rt(!1),e}function _D(t){let e=w.useContext(uD);return e||rt(!1),e}function ED(t){let e=w.useContext(bi);return e||rt(!1),e}function Jx(t){let e=ED(),n=e.matches[e.matches.length-1];return n.route.id||rt(!1),n.route.id}function xD(){var t;let e=w.useContext(qx),n=_D(Mc.UseRouteError),r=Jx(Mc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function TD(){let{router:t}=wD(Xx.UseNavigateStable),e=Jx(Mc.UseNavigateStable),n=w.useRef(!1);return Gx(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ul({fromRouteId:e},s)))},[t,e])}function zi(t){rt(!1)}function SD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Gr.Pop,navigator:s,static:o=!1,future:a}=t;Rl()&&rt(!1);let u=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:u,navigator:s,static:o,future:ul({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=Fo(r));let{pathname:d="/",search:p="",hash:h="",state:m=null,key:x="default"}=r,v=w.useMemo(()=>{let T=ig(d,u);return T==null?null:{location:{pathname:T,search:p,hash:h,state:m,key:x},navigationType:i}},[u,d,p,h,m,x,i]);return v==null?null:w.createElement(ys.Provider,{value:c},w.createElement(Id.Provider,{children:n,value:v}))}function CD(t){let{children:e,location:n}=t;return hD(gp(e),n)}new Promise(()=>{});function gp(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let s=[...e,i];if(r.type===w.Fragment){n.push.apply(n,gp(r.props.children,s));return}r.type!==zi&&rt(!1),!r.props.index||!r.props.children||rt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=gp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yp(){return yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yp.apply(this,arguments)}function bD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function AD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ID(t,e){return t.button===0&&(!e||e==="_self")&&!AD(t)}const RD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PD="6";try{window.__reactRouterVersion=PD}catch{}const ND="startTransition",C0=f_[ND];function kD(t){let{basename:e,children:n,future:r,window:i}=t,s=w.useRef();s.current==null&&(s.current=Lk({window:i,v5Compat:!0}));let o=s.current,[a,u]=w.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=w.useCallback(p=>{c&&C0?C0(()=>u(p)):u(p)},[u,c]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.createElement(SD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const DD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ji=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:d,viewTransition:p}=e,h=bD(e,RD),{basename:m}=w.useContext(ys),x,v=!1;if(typeof c=="string"&&OD.test(c)&&(x=c,DD))try{let S=new URL(window.location.href),N=c.startsWith("//")?new URL(S.protocol+c):new URL(c),k=ig(N.pathname,m);N.origin===S.origin&&k!=null?c=k+N.search+N.hash:v=!0}catch{}let T=cD(c,{relative:i}),E=VD(c,{replace:o,state:a,target:u,preventScrollReset:d,relative:i,viewTransition:p});function _(S){r&&r(S),S.defaultPrevented||E(S)}return w.createElement("a",yp({},h,{href:x||T,onClick:v||s?r:_,ref:n,target:u}))});var b0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(b0||(b0={}));var A0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(A0||(A0={}));function VD(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,u=Nl(),c=Pl(),d=Yx(t,{relative:o});return w.useCallback(p=>{if(ID(p,n)){p.preventDefault();let h=r!==void 0?r:Vc(c)===Vc(d);u(t,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,u,d,r,i,n,t,s,o,a])}const as=()=>{const[t,e]=w.useState(!1),n=()=>{e(!t)};return g.jsx("header",{className:"bg-zinc-900 border-b border-zinc-800",children:g.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[g.jsxs("div",{className:"flex items-center justify-between h-16",children:[g.jsx(ji,{to:"/",className:"underline decoration-white decoration-4 decoration-wavy underline-offset-4 text-white font-bold text-xl",children:"HSC College"}),g.jsxs("nav",{className:"hidden md:flex items-center space-x-4",children:[g.jsx(ji,{to:"/",className:"text-gray-300 hover:text-white",children:"Home"}),g.jsx(ji,{to:"/course",className:"text-gray-300 hover:text-white",children:"Course Management"}),g.jsx(ji,{to:"/add-course",className:"text-gray-300 hover:text-white",children:"Add Course"})]}),g.jsx("button",{className:"md:hidden text-gray-300 hover:text-white",onClick:n,"aria-label":"Toggle menu",children:t?g.jsx(GE,{size:24}):g.jsx(CP,{size:24})})]}),t&&g.jsx("div",{className:"md:hidden py-4 border-t border-zinc-800",children:g.jsxs("nav",{className:"flex flex-col space-y-4",children:[g.jsx(ji,{to:"/",className:"text-gray-300 hover:text-white px-2 py-1",onClick:()=>e(!1),children:"Home"}),g.jsx(ji,{to:"/course",className:"text-gray-300 hover:text-white px-2 py-1",onClick:()=>e(!1),children:"Course Management"}),g.jsx(ji,{to:"/add-course",className:"text-gray-300 hover:text-white px-2 py-1",onClick:()=>e(!1),children:"Add Course"})]})})]})})},ls=()=>g.jsx("footer",{className:"w-full bg-black text-gray-400",children:g.jsxs("div",{className:"max-w-5xl mx-auto flex flex-col md:flex-row items-center justify-between py-6 px-4",children:[g.jsxs("span",{className:"text-sm cursor-pointer",children:[" ",new Date().getFullYear()," HscCollege. All rights reserved."]}),g.jsxs("div",{className:"flex gap-4 mt-2 md:mt-0",children:[g.jsx("a",{href:"#",className:"hover:text-white transition",children:"Terms"}),g.jsx("a",{href:"#",className:"hover:text-white transition",children:"Privacy"})]})]})}),MD=({course:t,subjects:e,idx:n})=>{const r=Nl(),i=o=>{const a=e.find(u=>u.id===o);return(a==null?void 0:a.name)||o},s=(o,a)=>{const u=e.find(d=>d.id===o),c=u==null?void 0:u.chapters.find(d=>d.id===a);return(c==null?void 0:c.name)||a};return g.jsxs("div",{onClick:()=>r(`/course/${t.id}`),className:"bg-zinc-900 rounded-lg overflow-hidden shadow-lg transform transition-all duration-300 hover:scale-105 animate-enter cursor-pointer",style:{animationDelay:`${n*100}ms`},children:[g.jsxs("div",{className:"relative aspect-video",children:[g.jsx("img",{src:t.thumbnailUrl,alt:t.title,className:"w-full h-full object-cover"}),g.jsx("div",{className:"absolute top-2 right-2 bg-black/50 p-2 rounded-full",children:t.courseType==="video"?g.jsx(AP,{className:"h-5 w-5 text-white"}):g.jsx(EP,{className:"h-5 w-5 text-white"})})]}),g.jsxs("div",{className:"p-4",children:[g.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:t.title}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("span",{className:"px-2 py-1 bg-zinc-800 text-gray-300 rounded text-sm",children:i(t.subject)}),g.jsx("span",{className:"px-2 py-1 bg-zinc-800 text-gray-300 rounded text-sm",children:s(t.subject,t.chapter)}),g.jsx("span",{className:"px-2 py-1 bg-zinc-800 text-gray-300 rounded text-sm",children:t.courseType==="video"?"Video Course":"Book Collection"})]})]})]})},og=Wm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ft=w.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?ss:"button";return g.jsx(o,{className:Oe(og({variant:e,size:n,className:t})),ref:s,...i})});Ft.displayName="Button";function I0(t,[e,n]){return Math.min(n,Math.max(e,t))}var jD=w.createContext(void 0);function LD(t){const e=w.useContext(jD);return t||e||"ltr"}var Gh=0;function Zx(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??R0()),document.body.insertAdjacentElement("beforeend",t[1]??R0()),Gh++,()=>{Gh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Gh--}},[])}function R0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Qh="focusScope.autoFocusOnMount",Yh="focusScope.autoFocusOnUnmount",P0={bubbles:!1,cancelable:!0},FD="FocusScope",ag=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,u]=w.useState(null),c=ln(i),d=ln(s),p=w.useRef(null),h=ke(e,v=>u(v)),m=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let v=function(S){if(m.paused||!a)return;const N=S.target;a.contains(N)?p.current=N:Vr(p.current,{select:!0})},T=function(S){if(m.paused||!a)return;const N=S.relatedTarget;N!==null&&(a.contains(N)||Vr(p.current,{select:!0}))},E=function(S){if(document.activeElement===document.body)for(const k of S)k.removedNodes.length>0&&Vr(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",T);const _=new MutationObserver(E);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",T),_.disconnect()}}},[r,a,m.paused]),w.useEffect(()=>{if(a){k0.add(m);const v=document.activeElement;if(!a.contains(v)){const E=new CustomEvent(Qh,P0);a.addEventListener(Qh,c),a.dispatchEvent(E),E.defaultPrevented||(zD(WD(eT(a)),{select:!0}),document.activeElement===v&&Vr(a))}return()=>{a.removeEventListener(Qh,c),setTimeout(()=>{const E=new CustomEvent(Yh,P0);a.addEventListener(Yh,d),a.dispatchEvent(E),E.defaultPrevented||Vr(v??document.body,{select:!0}),a.removeEventListener(Yh,d),k0.remove(m)},0)}}},[a,c,d,m]);const x=w.useCallback(v=>{if(!n&&!r||m.paused)return;const T=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,E=document.activeElement;if(T&&E){const _=v.currentTarget,[S,N]=UD(_);S&&N?!v.shiftKey&&E===N?(v.preventDefault(),n&&Vr(S,{select:!0})):v.shiftKey&&E===S&&(v.preventDefault(),n&&Vr(N,{select:!0})):E===_&&v.preventDefault()}},[n,r,m.paused]);return g.jsx(Te.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});ag.displayName=FD;function zD(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Vr(r,{select:e}),document.activeElement!==n)return}function UD(t){const e=eT(t),n=N0(e,t),r=N0(e.reverse(),t);return[n,r]}function eT(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function N0(t,e){for(const n of t)if(!$D(n,{upTo:e}))return n}function $D(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function BD(t){return t instanceof HTMLInputElement&&"select"in t}function Vr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&BD(t)&&e&&t.select()}}var k0=HD();function HD(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=D0(t,e),t.unshift(e)},remove(e){var n;t=D0(t,e),(n=t[0])==null||n.resume()}}}function D0(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function WD(t){return t.filter(e=>e.tagName!=="A")}function KD(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var qD=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Cs=new WeakMap,Cu=new WeakMap,bu={},Xh=0,tT=function(t){return t&&(t.host||tT(t.parentNode))},GD=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=tT(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},QD=function(t,e,n,r){var i=GD(e,Array.isArray(t)?t:[t]);bu[n]||(bu[n]=new WeakMap);var s=bu[n],o=[],a=new Set,u=new Set(i),c=function(p){!p||a.has(p)||(a.add(p),c(p.parentNode))};i.forEach(c);var d=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(r),x=m!==null&&m!=="false",v=(Cs.get(h)||0)+1,T=(s.get(h)||0)+1;Cs.set(h,v),s.set(h,T),o.push(h),v===1&&x&&Cu.set(h,!0),T===1&&h.setAttribute(n,"true"),x||h.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",h,E)}})};return d(e),a.clear(),Xh++,function(){o.forEach(function(p){var h=Cs.get(p)-1,m=s.get(p)-1;Cs.set(p,h),s.set(p,m),h||(Cu.has(p)||p.removeAttribute(r),Cu.delete(p)),m||p.removeAttribute(n)}),Xh--,Xh||(Cs=new WeakMap,Cs=new WeakMap,Cu=new WeakMap,bu={})}},nT=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=qD(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),QD(r,i,n,"aria-hidden")):function(){return null}},Wn=function(){return Wn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Wn.apply(this,arguments)};function rT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function YD(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Xu="right-scroll-bar-position",Ju="width-before-scroll-bar",XD="with-scroll-bars-hidden",JD="--removed-body-scroll-bar-size";function Jh(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ZD(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var e4=typeof window<"u"?w.useLayoutEffect:w.useEffect,O0=new WeakMap;function t4(t,e){var n=ZD(null,function(r){return t.forEach(function(i){return Jh(i,r)})});return e4(function(){var r=O0.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Jh(a,null)}),s.forEach(function(a){i.has(a)||Jh(a,o)})}O0.set(n,t)},[t]),n}function n4(t){return t}function r4(t,e){e===void 0&&(e=n4);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var u=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function i4(t){t===void 0&&(t={});var e=r4(null);return e.options=Wn({async:!0,ssr:!1},t),e}var iT=function(t){var e=t.sideCar,n=rT(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Wn({},n))};iT.isSideCarExport=!0;function s4(t,e){return t.useMedium(e),iT}var sT=i4(),Zh=function(){},Rd=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:Zh,onWheelCapture:Zh,onTouchMoveCapture:Zh}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,u=t.className,c=t.removeScrollBar,d=t.enabled,p=t.shards,h=t.sideCar,m=t.noIsolation,x=t.inert,v=t.allowPinchZoom,T=t.as,E=T===void 0?"div":T,_=t.gapMode,S=rT(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,k=t4([n,e]),V=Wn(Wn({},S),i);return w.createElement(w.Fragment,null,d&&w.createElement(N,{sideCar:sT,removeScrollBar:c,shards:p,noIsolation:m,inert:x,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:_}),o?w.cloneElement(w.Children.only(a),Wn(Wn({},V),{ref:k})):w.createElement(E,Wn({},V,{className:u,ref:k}),a))});Rd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rd.classNames={fullWidth:Ju,zeroRight:Xu};var o4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function a4(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=o4();return e&&t.setAttribute("nonce",e),t}function l4(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function u4(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var c4=function(){var t=0,e=null;return{add:function(n){t==0&&(e=a4())&&(l4(e,n),u4(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},d4=function(){var t=c4();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},oT=function(){var t=d4(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},h4={left:0,top:0,right:0,gap:0},ef=function(t){return parseInt(t||"",10)||0},f4=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[ef(n),ef(r),ef(i)]},p4=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return h4;var e=f4(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},m4=oT(),no="data-scroll-locked",g4=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(XD,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(no,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ju,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Xu," .").concat(Xu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ju," .").concat(Ju,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(no,`] {
    `).concat(JD,": ").concat(a,`px;
  }
`)},V0=function(){var t=parseInt(document.body.getAttribute(no)||"0",10);return isFinite(t)?t:0},y4=function(){w.useEffect(function(){return document.body.setAttribute(no,(V0()+1).toString()),function(){var t=V0()-1;t<=0?document.body.removeAttribute(no):document.body.setAttribute(no,t.toString())}},[])},v4=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;y4();var s=w.useMemo(function(){return p4(i)},[i]);return w.createElement(m4,{styles:g4(s,!e,i,n?"":"!important")})},vp=!1;if(typeof window<"u")try{var Au=Object.defineProperty({},"passive",{get:function(){return vp=!0,!0}});window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{vp=!1}var bs=vp?{passive:!1}:!1,w4=function(t){return t.tagName==="TEXTAREA"},aT=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!w4(t)&&n[e]==="visible")},_4=function(t){return aT(t,"overflowY")},E4=function(t){return aT(t,"overflowX")},M0=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=lT(t,r);if(i){var s=uT(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},x4=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},T4=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},lT=function(t,e){return t==="v"?_4(e):E4(e)},uT=function(t,e){return t==="v"?x4(e):T4(e)},S4=function(t,e){return t==="h"&&e==="rtl"?-1:1},C4=function(t,e,n,r,i){var s=S4(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,u=e.contains(a),c=!1,d=o>0,p=0,h=0;do{var m=uT(t,a),x=m[0],v=m[1],T=m[2],E=v-T-s*x;(x||E)&&lT(t,a)&&(p+=E,h+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(d&&(Math.abs(p)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(c=!0),c},Iu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},j0=function(t){return[t.deltaX,t.deltaY]},L0=function(t){return t&&"current"in t?t.current:t},b4=function(t,e){return t[0]===e[0]&&t[1]===e[1]},A4=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},I4=0,As=[];function R4(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState(I4++)[0],s=w.useState(oT)[0],o=w.useRef(t);w.useEffect(function(){o.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=YD([t.lockRef.current],(t.shards||[]).map(L0),!0).filter(Boolean);return v.forEach(function(T){return T.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=w.useCallback(function(v,T){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var E=Iu(v),_=n.current,S="deltaX"in v?v.deltaX:_[0]-E[0],N="deltaY"in v?v.deltaY:_[1]-E[1],k,V=v.target,b=Math.abs(S)>Math.abs(N)?"h":"v";if("touches"in v&&b==="h"&&V.type==="range")return!1;var C=M0(b,V);if(!C)return!0;if(C?k=b:(k=b==="v"?"h":"v",C=M0(b,V)),!C)return!1;if(!r.current&&"changedTouches"in v&&(S||N)&&(r.current=k),!k)return!0;var I=r.current||k;return C4(I,T,v,I==="h"?S:N,!0)},[]),u=w.useCallback(function(v){var T=v;if(!(!As.length||As[As.length-1]!==s)){var E="deltaY"in T?j0(T):Iu(T),_=e.current.filter(function(k){return k.name===T.type&&(k.target===T.target||T.target===k.shadowParent)&&b4(k.delta,E)})[0];if(_&&_.should){T.cancelable&&T.preventDefault();return}if(!_){var S=(o.current.shards||[]).map(L0).filter(Boolean).filter(function(k){return k.contains(T.target)}),N=S.length>0?a(T,S[0]):!o.current.noIsolation;N&&T.cancelable&&T.preventDefault()}}},[]),c=w.useCallback(function(v,T,E,_){var S={name:v,delta:T,target:E,should:_,shadowParent:P4(E)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(N){return N!==S})},1)},[]),d=w.useCallback(function(v){n.current=Iu(v),r.current=void 0},[]),p=w.useCallback(function(v){c(v.type,j0(v),v.target,a(v,t.lockRef.current))},[]),h=w.useCallback(function(v){c(v.type,Iu(v),v.target,a(v,t.lockRef.current))},[]);w.useEffect(function(){return As.push(s),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:h}),document.addEventListener("wheel",u,bs),document.addEventListener("touchmove",u,bs),document.addEventListener("touchstart",d,bs),function(){As=As.filter(function(v){return v!==s}),document.removeEventListener("wheel",u,bs),document.removeEventListener("touchmove",u,bs),document.removeEventListener("touchstart",d,bs)}},[]);var m=t.removeScrollBar,x=t.inert;return w.createElement(w.Fragment,null,x?w.createElement(s,{styles:A4(i)}):null,m?w.createElement(v4,{gapMode:t.gapMode}):null)}function P4(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const N4=s4(sT,R4);var lg=w.forwardRef(function(t,e){return w.createElement(Rd,Wn({},t,{ref:e,sideCar:N4}))});lg.classNames=Rd.classNames;var k4=[" ","Enter","ArrowUp","ArrowDown"],D4=[" ","Enter"],kl="Select",[Pd,Nd,O4]=wE(kl),[zo,oF]=Cl(kl,[O4,Td]),kd=Td(),[V4,Ai]=zo(kl),[M4,j4]=zo(kl),cT=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:u,dir:c,name:d,autoComplete:p,disabled:h,required:m,form:x}=t,v=kd(e),[T,E]=w.useState(null),[_,S]=w.useState(null),[N,k]=w.useState(!1),V=LD(c),[b=!1,C]=Rc({prop:r,defaultProp:i,onChange:s}),[I,R]=Rc({prop:o,defaultProp:a,onChange:u}),D=w.useRef(null),O=T?x||!!T.closest("form"):!0,[P,H]=w.useState(new Set),re=Array.from(P).map(X=>X.props.value).join(";");return g.jsx(Q2,{...v,children:g.jsxs(V4,{required:m,scope:e,trigger:T,onTriggerChange:E,valueNode:_,onValueNodeChange:S,valueNodeHasChildren:N,onValueNodeHasChildrenChange:k,contentId:eo(),value:I,onValueChange:R,open:b,onOpenChange:C,dir:V,triggerPointerDownPosRef:D,disabled:h,children:[g.jsx(Pd.Provider,{scope:e,children:g.jsx(M4,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(X=>{H(ne=>new Set(ne).add(X))},[]),onNativeOptionRemove:w.useCallback(X=>{H(ne=>{const j=new Set(ne);return j.delete(X),j})},[]),children:n})}),O?g.jsxs(VT,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:p,value:I,onChange:X=>R(X.target.value),disabled:h,form:x,children:[I===void 0?g.jsx("option",{value:""}):null,Array.from(P)]},re):null]})})};cT.displayName=kl;var dT="SelectTrigger",hT=w.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=kd(n),o=Ai(dT,n),a=o.disabled||r,u=ke(e,o.onTriggerChange),c=Nd(n),d=w.useRef("touch"),[p,h,m]=MT(v=>{const T=c().filter(S=>!S.disabled),E=T.find(S=>S.value===o.value),_=jT(T,v,E);_!==void 0&&o.onValueChange(_.value)}),x=v=>{a||(o.onOpenChange(!0),m()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return g.jsx(Tx,{asChild:!0,...s,children:g.jsx(Te.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":OT(o.value)?"":void 0,...i,ref:u,onClick:ue(i.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&x(v)}),onPointerDown:ue(i.onPointerDown,v=>{d.current=v.pointerType;const T=v.target;T.hasPointerCapture(v.pointerId)&&T.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:ue(i.onKeyDown,v=>{const T=p.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(T&&v.key===" ")&&k4.includes(v.key)&&(x(),v.preventDefault())})})})});hT.displayName=dT;var fT="SelectValue",pT=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,u=Ai(fT,n),{onValueNodeHasChildrenChange:c}=u,d=s!==void 0,p=ke(e,u.onValueNodeChange);return Dt(()=>{c(d)},[c,d]),g.jsx(Te.span,{...a,ref:p,style:{pointerEvents:"none"},children:OT(u.value)?g.jsx(g.Fragment,{children:o}):s})});pT.displayName=fT;var L4="SelectIcon",mT=w.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return g.jsx(Te.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});mT.displayName=L4;var F4="SelectPortal",gT=t=>g.jsx(yd,{asChild:!0,...t});gT.displayName=F4;var us="SelectContent",yT=w.forwardRef((t,e)=>{const n=Ai(us,t.__scopeSelect),[r,i]=w.useState();if(Dt(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?gs.createPortal(g.jsx(vT,{scope:t.__scopeSelect,children:g.jsx(Pd.Slot,{scope:t.__scopeSelect,children:g.jsx("div",{children:t.children})})}),s):null}return g.jsx(wT,{...t,ref:e})});yT.displayName=us;var Tn=10,[vT,Ii]=zo(us),z4="SelectContentImpl",wT=w.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:u,align:c,alignOffset:d,arrowPadding:p,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:v,avoidCollisions:T,...E}=t,_=Ai(us,n),[S,N]=w.useState(null),[k,V]=w.useState(null),b=ke(e,Z=>N(Z)),[C,I]=w.useState(null),[R,D]=w.useState(null),O=Nd(n),[P,H]=w.useState(!1),re=w.useRef(!1);w.useEffect(()=>{if(S)return nT(S)},[S]),Zx();const X=w.useCallback(Z=>{const[Ee,...ze]=O().map(ge=>ge.ref.current),[pe]=ze.slice(-1),ve=document.activeElement;for(const ge of Z)if(ge===ve||(ge==null||ge.scrollIntoView({block:"nearest"}),ge===Ee&&k&&(k.scrollTop=0),ge===pe&&k&&(k.scrollTop=k.scrollHeight),ge==null||ge.focus(),document.activeElement!==ve))return},[O,k]),ne=w.useCallback(()=>X([C,S]),[X,C,S]);w.useEffect(()=>{P&&ne()},[P,ne]);const{onOpenChange:j,triggerPointerDownPosRef:$}=_;w.useEffect(()=>{if(S){let Z={x:0,y:0};const Ee=pe=>{var ve,ge;Z={x:Math.abs(Math.round(pe.pageX)-(((ve=$.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((ge=$.current)==null?void 0:ge.y)??0))}},ze=pe=>{Z.x<=10&&Z.y<=10?pe.preventDefault():S.contains(pe.target)||j(!1),document.removeEventListener("pointermove",Ee),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",ze,{capture:!0})}}},[S,j,$]),w.useEffect(()=>{const Z=()=>j(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[j]);const[Y,q]=MT(Z=>{const Ee=O().filter(ve=>!ve.disabled),ze=Ee.find(ve=>ve.ref.current===document.activeElement),pe=jT(Ee,Z,ze);pe&&setTimeout(()=>pe.ref.current.focus())}),J=w.useCallback((Z,Ee,ze)=>{const pe=!re.current&&!ze;(_.value!==void 0&&_.value===Ee||pe)&&(I(Z),pe&&(re.current=!0))},[_.value]),ee=w.useCallback(()=>S==null?void 0:S.focus(),[S]),Se=w.useCallback((Z,Ee,ze)=>{const pe=!re.current&&!ze;(_.value!==void 0&&_.value===Ee||pe)&&D(Z)},[_.value]),Fe=r==="popper"?wp:_T,fe=Fe===wp?{side:a,sideOffset:u,align:c,alignOffset:d,arrowPadding:p,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:v,avoidCollisions:T}:{};return g.jsx(vT,{scope:n,content:S,viewport:k,onViewportChange:V,itemRefCallback:J,selectedItem:C,onItemLeave:ee,itemTextRefCallback:Se,focusSelectedItem:ne,selectedItemText:R,position:r,isPositioned:P,searchRef:Y,children:g.jsx(lg,{as:ss,allowPinchZoom:!0,children:g.jsx(ag,{asChild:!0,trapped:_.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:ue(i,Z=>{var Ee;(Ee=_.trigger)==null||Ee.focus({preventScroll:!0}),Z.preventDefault()}),children:g.jsx(bl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:g.jsx(Fe,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:Z=>Z.preventDefault(),...E,...fe,onPlaced:()=>H(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:ue(E.onKeyDown,Z=>{const Ee=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!Ee&&Z.key.length===1&&q(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let pe=O().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const ve=Z.target,ge=pe.indexOf(ve);pe=pe.slice(ge+1)}setTimeout(()=>X(pe)),Z.preventDefault()}})})})})})})});wT.displayName=z4;var U4="SelectItemAlignedPosition",_T=w.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Ai(us,n),o=Ii(us,n),[a,u]=w.useState(null),[c,d]=w.useState(null),p=ke(e,b=>d(b)),h=Nd(n),m=w.useRef(!1),x=w.useRef(!0),{viewport:v,selectedItem:T,selectedItemText:E,focusSelectedItem:_}=o,S=w.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&v&&T&&E){const b=s.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),I=s.valueNode.getBoundingClientRect(),R=E.getBoundingClientRect();if(s.dir!=="rtl"){const ve=R.left-C.left,ge=I.left-ve,it=b.left-ge,ft=b.width+it,dn=Math.max(ft,C.width),Ot=window.innerWidth-Tn,nr=I0(ge,[Tn,Math.max(Tn,Ot-dn)]);a.style.minWidth=ft+"px",a.style.left=nr+"px"}else{const ve=C.right-R.right,ge=window.innerWidth-I.right-ve,it=window.innerWidth-b.right-ge,ft=b.width+it,dn=Math.max(ft,C.width),Ot=window.innerWidth-Tn,nr=I0(ge,[Tn,Math.max(Tn,Ot-dn)]);a.style.minWidth=ft+"px",a.style.right=nr+"px"}const D=h(),O=window.innerHeight-Tn*2,P=v.scrollHeight,H=window.getComputedStyle(c),re=parseInt(H.borderTopWidth,10),X=parseInt(H.paddingTop,10),ne=parseInt(H.borderBottomWidth,10),j=parseInt(H.paddingBottom,10),$=re+X+P+j+ne,Y=Math.min(T.offsetHeight*5,$),q=window.getComputedStyle(v),J=parseInt(q.paddingTop,10),ee=parseInt(q.paddingBottom,10),Se=b.top+b.height/2-Tn,Fe=O-Se,fe=T.offsetHeight/2,Z=T.offsetTop+fe,Ee=re+X+Z,ze=$-Ee;if(Ee<=Se){const ve=D.length>0&&T===D[D.length-1].ref.current;a.style.bottom="0px";const ge=c.clientHeight-v.offsetTop-v.offsetHeight,it=Math.max(Fe,fe+(ve?ee:0)+ge+ne),ft=Ee+it;a.style.height=ft+"px"}else{const ve=D.length>0&&T===D[0].ref.current;a.style.top="0px";const it=Math.max(Se,re+v.offsetTop+(ve?J:0)+fe)+ze;a.style.height=it+"px",v.scrollTop=Ee-Se+v.offsetTop}a.style.margin=`${Tn}px 0`,a.style.minHeight=Y+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,a,c,v,T,E,s.dir,r]);Dt(()=>S(),[S]);const[N,k]=w.useState();Dt(()=>{c&&k(window.getComputedStyle(c).zIndex)},[c]);const V=w.useCallback(b=>{b&&x.current===!0&&(S(),_==null||_(),x.current=!1)},[S,_]);return g.jsx(B4,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:V,children:g.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:g.jsx(Te.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});_T.displayName=U4;var $4="SelectPopperPosition",wp=w.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Tn,...s}=t,o=kd(n);return g.jsx(Sx,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});wp.displayName=$4;var[B4,ug]=zo(us,{}),_p="SelectViewport",ET=w.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Ii(_p,n),o=ug(_p,n),a=ke(e,s.onViewportChange),u=w.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),g.jsx(Pd.Slot,{scope:n,children:g.jsx(Te.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ue(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&p){const m=Math.abs(u.current-d.scrollTop);if(m>0){const x=window.innerHeight-Tn*2,v=parseFloat(p.style.minHeight),T=parseFloat(p.style.height),E=Math.max(v,T);if(E<x){const _=E+m,S=Math.min(x,_),N=_-S;p.style.height=S+"px",p.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,p.style.justifyContent="flex-end")}}}u.current=d.scrollTop})})})]})});ET.displayName=_p;var xT="SelectGroup",[H4,W4]=zo(xT),K4=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=eo();return g.jsx(H4,{scope:n,id:i,children:g.jsx(Te.div,{role:"group","aria-labelledby":i,...r,ref:e})})});K4.displayName=xT;var TT="SelectLabel",ST=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=W4(TT,n);return g.jsx(Te.div,{id:i.id,...r,ref:e})});ST.displayName=TT;var jc="SelectItem",[q4,CT]=zo(jc),bT=w.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=Ai(jc,n),u=Ii(jc,n),c=a.value===r,[d,p]=w.useState(s??""),[h,m]=w.useState(!1),x=ke(e,_=>{var S;return(S=u.itemRefCallback)==null?void 0:S.call(u,_,r,i)}),v=eo(),T=w.useRef("touch"),E=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(q4,{scope:n,value:r,disabled:i,textId:v,isSelected:c,onItemTextChange:w.useCallback(_=>{p(S=>S||((_==null?void 0:_.textContent)??"").trim())},[]),children:g.jsx(Pd.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:g.jsx(Te.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:ue(o.onFocus,()=>m(!0)),onBlur:ue(o.onBlur,()=>m(!1)),onClick:ue(o.onClick,()=>{T.current!=="mouse"&&E()}),onPointerUp:ue(o.onPointerUp,()=>{T.current==="mouse"&&E()}),onPointerDown:ue(o.onPointerDown,_=>{T.current=_.pointerType}),onPointerMove:ue(o.onPointerMove,_=>{var S;T.current=_.pointerType,i?(S=u.onItemLeave)==null||S.call(u):T.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ue(o.onPointerLeave,_=>{var S;_.currentTarget===document.activeElement&&((S=u.onItemLeave)==null||S.call(u))}),onKeyDown:ue(o.onKeyDown,_=>{var N;((N=u.searchRef)==null?void 0:N.current)!==""&&_.key===" "||(D4.includes(_.key)&&E(),_.key===" "&&_.preventDefault())})})})})});bT.displayName=jc;var xa="SelectItemText",AT=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Ai(xa,n),a=Ii(xa,n),u=CT(xa,n),c=j4(xa,n),[d,p]=w.useState(null),h=ke(e,E=>p(E),u.onItemTextChange,E=>{var _;return(_=a.itemTextRefCallback)==null?void 0:_.call(a,E,u.value,u.disabled)}),m=d==null?void 0:d.textContent,x=w.useMemo(()=>g.jsx("option",{value:u.value,disabled:u.disabled,children:m},u.value),[u.disabled,u.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:T}=c;return Dt(()=>(v(x),()=>T(x)),[v,T,x]),g.jsxs(g.Fragment,{children:[g.jsx(Te.span,{id:u.textId,...s,ref:h}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?gs.createPortal(s.children,o.valueNode):null]})});AT.displayName=xa;var IT="SelectItemIndicator",RT=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return CT(IT,n).isSelected?g.jsx(Te.span,{"aria-hidden":!0,...r,ref:e}):null});RT.displayName=IT;var Ep="SelectScrollUpButton",PT=w.forwardRef((t,e)=>{const n=Ii(Ep,t.__scopeSelect),r=ug(Ep,t.__scopeSelect),[i,s]=w.useState(!1),o=ke(e,r.onScrollButtonChange);return Dt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=u.scrollTop>0;s(c)};const u=n.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?g.jsx(kT,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=n;a&&u&&(a.scrollTop=a.scrollTop-u.offsetHeight)}}):null});PT.displayName=Ep;var xp="SelectScrollDownButton",NT=w.forwardRef((t,e)=>{const n=Ii(xp,t.__scopeSelect),r=ug(xp,t.__scopeSelect),[i,s]=w.useState(!1),o=ke(e,r.onScrollButtonChange);return Dt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=u.scrollHeight-u.clientHeight,d=Math.ceil(u.scrollTop)<c;s(d)};const u=n.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?g.jsx(kT,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=n;a&&u&&(a.scrollTop=a.scrollTop+u.offsetHeight)}}):null});NT.displayName=xp;var kT=w.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Ii("SelectScrollButton",n),o=w.useRef(null),a=Nd(n),u=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>u(),[u]),Dt(()=>{var d;const c=a().find(p=>p.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),g.jsx(Te.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ue(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ue(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ue(i.onPointerLeave,()=>{u()})})}),G4="SelectSeparator",DT=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return g.jsx(Te.div,{"aria-hidden":!0,...r,ref:e})});DT.displayName=G4;var Tp="SelectArrow",Q4=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=kd(n),s=Ai(Tp,n),o=Ii(Tp,n);return s.open&&o.position==="popper"?g.jsx(Cx,{...i,...r,ref:e}):null});Q4.displayName=Tp;function OT(t){return t===""||t===void 0}var VT=w.forwardRef((t,e)=>{const{value:n,...r}=t,i=w.useRef(null),s=ke(e,i),o=KD(n);return w.useEffect(()=>{const a=i.current,u=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==n&&d){const p=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(p)}},[o,n]),g.jsx(Al,{asChild:!0,children:g.jsx("select",{...r,ref:s,defaultValue:n})})});VT.displayName="BubbleSelect";function MT(t){const e=ln(t),n=w.useRef(""),r=w.useRef(0),i=w.useCallback(o=>{const a=n.current+o;e(a),function u(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(a)},[e]),s=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function jT(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=Y4(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const u=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function Y4(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var X4=cT,LT=hT,J4=pT,Z4=mT,eO=gT,FT=yT,tO=ET,zT=ST,UT=bT,nO=AT,rO=RT,$T=PT,BT=NT,HT=DT;const Hs=X4,Ws=J4,Wi=w.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(LT,{ref:r,className:Oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,g.jsx(Z4,{asChild:!0,children:g.jsx(KE,{className:"h-4 w-4 opacity-50"})})]}));Wi.displayName=LT.displayName;const WT=w.forwardRef(({className:t,...e},n)=>g.jsx($T,{ref:n,className:Oe("flex cursor-default items-center justify-center py-1",t),...e,children:g.jsx(TP,{className:"h-4 w-4"})}));WT.displayName=$T.displayName;const KT=w.forwardRef(({className:t,...e},n)=>g.jsx(BT,{ref:n,className:Oe("flex cursor-default items-center justify-center py-1",t),...e,children:g.jsx(KE,{className:"h-4 w-4"})}));KT.displayName=BT.displayName;const Ki=w.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>g.jsx(eO,{children:g.jsxs(FT,{ref:i,className:Oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[g.jsx(WT,{}),g.jsx(tO,{className:Oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),g.jsx(KT,{})]})}));Ki.displayName=FT.displayName;const iO=w.forwardRef(({className:t,...e},n)=>g.jsx(zT,{ref:n,className:Oe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));iO.displayName=zT.displayName;const fn=w.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(UT,{ref:r,className:Oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(rO,{children:g.jsx(xP,{className:"h-4 w-4"})})}),g.jsx(nO,{children:e})]}));fn.displayName=UT.displayName;const sO=w.forwardRef(({className:t,...e},n)=>g.jsx(HT,{ref:n,className:Oe("-mx-1 my-1 h-px bg-muted",t),...e}));sO.displayName=HT.displayName;const oO=()=>{};var F0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},aO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},GT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,p=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,m=c&63;u||(m=64,o||(h=64)),r.push(n[d],n[p],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||p==null)throw new lO;const h=s<<2|a>>4;if(r.push(h),c!==64){const m=a<<4&240|c>>2;if(r.push(m),p!==64){const x=c<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uO=function(t){const e=qT(t);return GT.encodeByteArray(e,!0)},Lc=function(t){return uO(t).replace(/\./g,"")},cO=function(t){try{return GT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=()=>dO().__FIREBASE_DEFAULTS__,fO=()=>{if(typeof process>"u"||typeof F0>"u")return;const t=F0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cO(t[1]);return e&&JSON.parse(e)},cg=()=>{try{return oO()||hO()||fO()||pO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mO=t=>{var e,n;return(n=(e=cg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gO=t=>{const e=mO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},QT=()=>{var t;return(t=cg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t){return t.endsWith(".cloudworkstations.dev")}async function vO(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Lc(JSON.stringify(n)),Lc(JSON.stringify(o)),""].join(".")}const Ma={};function _O(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ma))Ma[e]?t.emulator.push(e):t.prod.push(e);return t}function EO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let z0=!1;function xO(t,e){if(typeof window>"u"||typeof document>"u"||!dg(window.location.host)||Ma[t]===e||Ma[t]||z0)return;Ma[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=_O().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function u(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{z0=!0,o()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function p(){const h=EO(r),m=n("text"),x=document.getElementById(m)||document.createElement("span"),v=n("learnmore"),T=document.getElementById(v)||document.createElement("a"),E=n("preprendIcon"),_=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const S=h.element;a(S),d(T,v);const N=c();u(_,E),S.append(_,x,T,N),document.body.appendChild(S)}s?(x.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SO(){var t;const e=(t=cg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CO(){return!SO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bO(){try{return typeof indexedDB=="object"}catch{return!1}}function AO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="FirebaseError";class Uo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=IO,Object.setPrototypeOf(this,Uo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,YT.prototype.create)}}class YT{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?RO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Uo(i,a,r)}}function RO(t,e){return t.replace(PO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const PO=/\{\$([^}]+)}/g;function Fc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(U0(s)&&U0(o)){if(!Fc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function U0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t){return t&&t._delegate?t._delegate:t}class cl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DO(e))try{this.getOrInitializeService({instanceIdentifier:Ui})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ui){return this.instances.has(e)}getOptions(e=Ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ui){return this.component?this.component.multipleInstances?e:Ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kO(t){return t===Ui?void 0:t}function DO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const VO={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},MO=_e.INFO,jO={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},LO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=jO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class XT{constructor(e){this.name=e,this._logLevel=MO,this._logHandler=LO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const FO=(t,e)=>e.some(n=>t instanceof n);let $0,B0;function zO(){return $0||($0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UO(){return B0||(B0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JT=new WeakMap,Sp=new WeakMap,ZT=new WeakMap,tf=new WeakMap,hg=new WeakMap;function $O(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(si(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&JT.set(n,t)}).catch(()=>{}),hg.set(e,t),e}function BO(t){if(Sp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Sp.set(t,e)}let Cp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HO(t){Cp=t(Cp)}function WO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(nf(this),e,...n);return ZT.set(r,e.sort?e.sort():[e]),si(r)}:UO().includes(t)?function(...e){return t.apply(nf(this),e),si(JT.get(this))}:function(...e){return si(t.apply(nf(this),e))}}function KO(t){return typeof t=="function"?WO(t):(t instanceof IDBTransaction&&BO(t),FO(t,zO())?new Proxy(t,Cp):t)}function si(t){if(t instanceof IDBRequest)return $O(t);if(tf.has(t))return tf.get(t);const e=KO(t);return e!==t&&(tf.set(t,e),hg.set(e,t)),e}const nf=t=>hg.get(t);function qO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=si(o);return r&&o.addEventListener("upgradeneeded",u=>{r(si(o.result),u.oldVersion,u.newVersion,si(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const GO=["get","getKey","getAll","getAllKeys","count"],QO=["put","add","delete","clear"],rf=new Map;function H0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rf.get(e))return rf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=QO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GO.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return rf.set(e,s),s}HO(t=>({...t,get:(e,n,r)=>H0(e,n)||t.get(e,n,r),has:(e,n)=>!!H0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bp="@firebase/app",W0="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new XT("@firebase/app"),JO="@firebase/app-compat",ZO="@firebase/analytics-compat",eV="@firebase/analytics",tV="@firebase/app-check-compat",nV="@firebase/app-check",rV="@firebase/auth",iV="@firebase/auth-compat",sV="@firebase/database",oV="@firebase/data-connect",aV="@firebase/database-compat",lV="@firebase/functions",uV="@firebase/functions-compat",cV="@firebase/installations",dV="@firebase/installations-compat",hV="@firebase/messaging",fV="@firebase/messaging-compat",pV="@firebase/performance",mV="@firebase/performance-compat",gV="@firebase/remote-config",yV="@firebase/remote-config-compat",vV="@firebase/storage",wV="@firebase/storage-compat",_V="@firebase/firestore",EV="@firebase/ai",xV="@firebase/firestore-compat",TV="firebase",SV="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="[DEFAULT]",CV={[bp]:"fire-core",[JO]:"fire-core-compat",[eV]:"fire-analytics",[ZO]:"fire-analytics-compat",[nV]:"fire-app-check",[tV]:"fire-app-check-compat",[rV]:"fire-auth",[iV]:"fire-auth-compat",[sV]:"fire-rtdb",[oV]:"fire-data-connect",[aV]:"fire-rtdb-compat",[lV]:"fire-fn",[uV]:"fire-fn-compat",[cV]:"fire-iid",[dV]:"fire-iid-compat",[hV]:"fire-fcm",[fV]:"fire-fcm-compat",[pV]:"fire-perf",[mV]:"fire-perf-compat",[gV]:"fire-rc",[yV]:"fire-rc-compat",[vV]:"fire-gcs",[wV]:"fire-gcs-compat",[_V]:"fire-fst",[xV]:"fire-fst-compat",[EV]:"fire-vertex","fire-js":"fire-js",[TV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Map,bV=new Map,Ip=new Map;function K0(t,e){try{t.container.addComponent(e)}catch(n){_r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Uc(t){const e=t.name;if(Ip.has(e))return _r.debug(`There were multiple attempts to register component ${e}.`),!1;Ip.set(e,t);for(const n of zc.values())K0(n,t);for(const n of bV.values())K0(n,t);return!0}function AV(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function IV(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oi=new YT("app","Firebase",RV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=SV;function eS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ap,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw oi.create("bad-app-name",{appName:String(i)});if(n||(n=QT()),!n)throw oi.create("no-options");const s=zc.get(i);if(s){if(Fc(n,s.options)&&Fc(r,s.config))return s;throw oi.create("duplicate-app",{appName:i})}const o=new OO(i);for(const u of Ip.values())o.addComponent(u);const a=new PV(n,r,o);return zc.set(i,a),a}function kV(t=Ap){const e=zc.get(t);if(!e&&t===Ap&&QT())return eS();if(!e)throw oi.create("no-app",{appName:t});return e}function ro(t,e,n){var r;let i=(r=CV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_r.warn(a.join(" "));return}Uc(new cl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="firebase-heartbeat-database",OV=1,dl="firebase-heartbeat-store";let sf=null;function tS(){return sf||(sf=qO(DV,OV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(dl)}catch(n){console.warn(n)}}}}).catch(t=>{throw oi.create("idb-open",{originalErrorMessage:t.message})})),sf}async function VV(t){try{const n=(await tS()).transaction(dl),r=await n.objectStore(dl).get(nS(t));return await n.done,r}catch(e){if(e instanceof Uo)_r.warn(e.message);else{const n=oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_r.warn(n.message)}}}async function q0(t,e){try{const r=(await tS()).transaction(dl,"readwrite");await r.objectStore(dl).put(e,nS(t)),await r.done}catch(n){if(n instanceof Uo)_r.warn(n.message);else{const r=oi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_r.warn(r.message)}}}function nS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=1024,jV=30;class LV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=G0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>jV){const o=UV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_r.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=G0(),{heartbeatsToSend:r,unsentEntries:i}=FV(this._heartbeatsCache.heartbeats),s=Lc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return _r.warn(n),""}}}function G0(){return new Date().toISOString().substring(0,10)}function FV(t,e=MV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Q0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Q0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bO()?AO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return q0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return q0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Q0(t){return Lc(JSON.stringify({version:2,heartbeats:t})).length}function UV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t){Uc(new cl("platform-logger",e=>new YO(e),"PRIVATE")),Uc(new cl("heartbeat",e=>new LV(e),"PRIVATE")),ro(bp,W0,t),ro(bp,W0,"esm2017"),ro("fire-js","")}$V("");var BV="firebase",HV="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ro(BV,HV,"app");var Y0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ai,rS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,C){function I(){}I.prototype=C.prototype,b.D=C.prototype,b.prototype=new I,b.prototype.constructor=b,b.C=function(R,D,O){for(var P=Array(arguments.length-2),H=2;H<arguments.length;H++)P[H-2]=arguments[H];return C.prototype[D].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,C,I){I||(I=0);var R=Array(16);if(typeof C=="string")for(var D=0;16>D;++D)R[D]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(D=0;16>D;++D)R[D]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=b.g[0],I=b.g[1],D=b.g[2];var O=b.g[3],P=C+(O^I&(D^O))+R[0]+3614090360&4294967295;C=I+(P<<7&4294967295|P>>>25),P=O+(D^C&(I^D))+R[1]+3905402710&4294967295,O=C+(P<<12&4294967295|P>>>20),P=D+(I^O&(C^I))+R[2]+606105819&4294967295,D=O+(P<<17&4294967295|P>>>15),P=I+(C^D&(O^C))+R[3]+3250441966&4294967295,I=D+(P<<22&4294967295|P>>>10),P=C+(O^I&(D^O))+R[4]+4118548399&4294967295,C=I+(P<<7&4294967295|P>>>25),P=O+(D^C&(I^D))+R[5]+1200080426&4294967295,O=C+(P<<12&4294967295|P>>>20),P=D+(I^O&(C^I))+R[6]+2821735955&4294967295,D=O+(P<<17&4294967295|P>>>15),P=I+(C^D&(O^C))+R[7]+4249261313&4294967295,I=D+(P<<22&4294967295|P>>>10),P=C+(O^I&(D^O))+R[8]+1770035416&4294967295,C=I+(P<<7&4294967295|P>>>25),P=O+(D^C&(I^D))+R[9]+2336552879&4294967295,O=C+(P<<12&4294967295|P>>>20),P=D+(I^O&(C^I))+R[10]+4294925233&4294967295,D=O+(P<<17&4294967295|P>>>15),P=I+(C^D&(O^C))+R[11]+2304563134&4294967295,I=D+(P<<22&4294967295|P>>>10),P=C+(O^I&(D^O))+R[12]+1804603682&4294967295,C=I+(P<<7&4294967295|P>>>25),P=O+(D^C&(I^D))+R[13]+4254626195&4294967295,O=C+(P<<12&4294967295|P>>>20),P=D+(I^O&(C^I))+R[14]+2792965006&4294967295,D=O+(P<<17&4294967295|P>>>15),P=I+(C^D&(O^C))+R[15]+1236535329&4294967295,I=D+(P<<22&4294967295|P>>>10),P=C+(D^O&(I^D))+R[1]+4129170786&4294967295,C=I+(P<<5&4294967295|P>>>27),P=O+(I^D&(C^I))+R[6]+3225465664&4294967295,O=C+(P<<9&4294967295|P>>>23),P=D+(C^I&(O^C))+R[11]+643717713&4294967295,D=O+(P<<14&4294967295|P>>>18),P=I+(O^C&(D^O))+R[0]+3921069994&4294967295,I=D+(P<<20&4294967295|P>>>12),P=C+(D^O&(I^D))+R[5]+3593408605&4294967295,C=I+(P<<5&4294967295|P>>>27),P=O+(I^D&(C^I))+R[10]+38016083&4294967295,O=C+(P<<9&4294967295|P>>>23),P=D+(C^I&(O^C))+R[15]+3634488961&4294967295,D=O+(P<<14&4294967295|P>>>18),P=I+(O^C&(D^O))+R[4]+3889429448&4294967295,I=D+(P<<20&4294967295|P>>>12),P=C+(D^O&(I^D))+R[9]+568446438&4294967295,C=I+(P<<5&4294967295|P>>>27),P=O+(I^D&(C^I))+R[14]+3275163606&4294967295,O=C+(P<<9&4294967295|P>>>23),P=D+(C^I&(O^C))+R[3]+4107603335&4294967295,D=O+(P<<14&4294967295|P>>>18),P=I+(O^C&(D^O))+R[8]+1163531501&4294967295,I=D+(P<<20&4294967295|P>>>12),P=C+(D^O&(I^D))+R[13]+2850285829&4294967295,C=I+(P<<5&4294967295|P>>>27),P=O+(I^D&(C^I))+R[2]+4243563512&4294967295,O=C+(P<<9&4294967295|P>>>23),P=D+(C^I&(O^C))+R[7]+1735328473&4294967295,D=O+(P<<14&4294967295|P>>>18),P=I+(O^C&(D^O))+R[12]+2368359562&4294967295,I=D+(P<<20&4294967295|P>>>12),P=C+(I^D^O)+R[5]+4294588738&4294967295,C=I+(P<<4&4294967295|P>>>28),P=O+(C^I^D)+R[8]+2272392833&4294967295,O=C+(P<<11&4294967295|P>>>21),P=D+(O^C^I)+R[11]+1839030562&4294967295,D=O+(P<<16&4294967295|P>>>16),P=I+(D^O^C)+R[14]+4259657740&4294967295,I=D+(P<<23&4294967295|P>>>9),P=C+(I^D^O)+R[1]+2763975236&4294967295,C=I+(P<<4&4294967295|P>>>28),P=O+(C^I^D)+R[4]+1272893353&4294967295,O=C+(P<<11&4294967295|P>>>21),P=D+(O^C^I)+R[7]+4139469664&4294967295,D=O+(P<<16&4294967295|P>>>16),P=I+(D^O^C)+R[10]+3200236656&4294967295,I=D+(P<<23&4294967295|P>>>9),P=C+(I^D^O)+R[13]+681279174&4294967295,C=I+(P<<4&4294967295|P>>>28),P=O+(C^I^D)+R[0]+3936430074&4294967295,O=C+(P<<11&4294967295|P>>>21),P=D+(O^C^I)+R[3]+3572445317&4294967295,D=O+(P<<16&4294967295|P>>>16),P=I+(D^O^C)+R[6]+76029189&4294967295,I=D+(P<<23&4294967295|P>>>9),P=C+(I^D^O)+R[9]+3654602809&4294967295,C=I+(P<<4&4294967295|P>>>28),P=O+(C^I^D)+R[12]+3873151461&4294967295,O=C+(P<<11&4294967295|P>>>21),P=D+(O^C^I)+R[15]+530742520&4294967295,D=O+(P<<16&4294967295|P>>>16),P=I+(D^O^C)+R[2]+3299628645&4294967295,I=D+(P<<23&4294967295|P>>>9),P=C+(D^(I|~O))+R[0]+4096336452&4294967295,C=I+(P<<6&4294967295|P>>>26),P=O+(I^(C|~D))+R[7]+1126891415&4294967295,O=C+(P<<10&4294967295|P>>>22),P=D+(C^(O|~I))+R[14]+2878612391&4294967295,D=O+(P<<15&4294967295|P>>>17),P=I+(O^(D|~C))+R[5]+4237533241&4294967295,I=D+(P<<21&4294967295|P>>>11),P=C+(D^(I|~O))+R[12]+1700485571&4294967295,C=I+(P<<6&4294967295|P>>>26),P=O+(I^(C|~D))+R[3]+2399980690&4294967295,O=C+(P<<10&4294967295|P>>>22),P=D+(C^(O|~I))+R[10]+4293915773&4294967295,D=O+(P<<15&4294967295|P>>>17),P=I+(O^(D|~C))+R[1]+2240044497&4294967295,I=D+(P<<21&4294967295|P>>>11),P=C+(D^(I|~O))+R[8]+1873313359&4294967295,C=I+(P<<6&4294967295|P>>>26),P=O+(I^(C|~D))+R[15]+4264355552&4294967295,O=C+(P<<10&4294967295|P>>>22),P=D+(C^(O|~I))+R[6]+2734768916&4294967295,D=O+(P<<15&4294967295|P>>>17),P=I+(O^(D|~C))+R[13]+1309151649&4294967295,I=D+(P<<21&4294967295|P>>>11),P=C+(D^(I|~O))+R[4]+4149444226&4294967295,C=I+(P<<6&4294967295|P>>>26),P=O+(I^(C|~D))+R[11]+3174756917&4294967295,O=C+(P<<10&4294967295|P>>>22),P=D+(C^(O|~I))+R[2]+718787259&4294967295,D=O+(P<<15&4294967295|P>>>17),P=I+(O^(D|~C))+R[9]+3951481745&4294967295,b.g[0]=b.g[0]+C&4294967295,b.g[1]=b.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+O&4294967295}r.prototype.u=function(b,C){C===void 0&&(C=b.length);for(var I=C-this.blockSize,R=this.B,D=this.h,O=0;O<C;){if(D==0)for(;O<=I;)i(this,b,O),O+=this.blockSize;if(typeof b=="string"){for(;O<C;)if(R[D++]=b.charCodeAt(O++),D==this.blockSize){i(this,R),D=0;break}}else for(;O<C;)if(R[D++]=b[O++],D==this.blockSize){i(this,R),D=0;break}}this.h=D,this.o+=C},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var C=1;C<b.length-8;++C)b[C]=0;var I=8*this.o;for(C=b.length-8;C<b.length;++C)b[C]=I&255,I/=256;for(this.u(b),b=Array(16),C=I=0;4>C;++C)for(var R=0;32>R;R+=8)b[I++]=this.g[C]>>>R&255;return b};function s(b,C){var I=a;return Object.prototype.hasOwnProperty.call(I,b)?I[b]:I[b]=C(b)}function o(b,C){this.h=C;for(var I=[],R=!0,D=b.length-1;0<=D;D--){var O=b[D]|0;R&&O==C||(I[D]=O,R=!1)}this.g=I}var a={};function u(b){return-128<=b&&128>b?s(b,function(C){return new o([C|0],0>C?-1:0)}):new o([b|0],0>b?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return T(c(-b));for(var C=[],I=1,R=0;b>=I;R++)C[R]=b/I|0,I*=4294967296;return new o(C,0)}function d(b,C){if(b.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(b.charAt(0)=="-")return T(d(b.substring(1),C));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(C,8)),R=p,D=0;D<b.length;D+=8){var O=Math.min(8,b.length-D),P=parseInt(b.substring(D,D+O),C);8>O?(O=c(Math.pow(C,O)),R=R.j(O).add(c(P))):(R=R.j(I),R=R.add(c(P)))}return R}var p=u(0),h=u(1),m=u(16777216);t=o.prototype,t.m=function(){if(v(this))return-T(this).m();for(var b=0,C=1,I=0;I<this.g.length;I++){var R=this.i(I);b+=(0<=R?R:4294967296+R)*C,C*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x(this))return"0";if(v(this))return"-"+T(this).toString(b);for(var C=c(Math.pow(b,6)),I=this,R="";;){var D=N(I,C).g;I=E(I,D.j(C));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(b);if(I=D,x(I))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function x(b){if(b.h!=0)return!1;for(var C=0;C<b.g.length;C++)if(b.g[C]!=0)return!1;return!0}function v(b){return b.h==-1}t.l=function(b){return b=E(this,b),v(b)?-1:x(b)?0:1};function T(b){for(var C=b.g.length,I=[],R=0;R<C;R++)I[R]=~b.g[R];return new o(I,~b.h).add(h)}t.abs=function(){return v(this)?T(this):this},t.add=function(b){for(var C=Math.max(this.g.length,b.g.length),I=[],R=0,D=0;D<=C;D++){var O=R+(this.i(D)&65535)+(b.i(D)&65535),P=(O>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);R=P>>>16,O&=65535,P&=65535,I[D]=P<<16|O}return new o(I,I[I.length-1]&-2147483648?-1:0)};function E(b,C){return b.add(T(C))}t.j=function(b){if(x(this)||x(b))return p;if(v(this))return v(b)?T(this).j(T(b)):T(T(this).j(b));if(v(b))return T(this.j(T(b)));if(0>this.l(m)&&0>b.l(m))return c(this.m()*b.m());for(var C=this.g.length+b.g.length,I=[],R=0;R<2*C;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<b.g.length;D++){var O=this.i(R)>>>16,P=this.i(R)&65535,H=b.i(D)>>>16,re=b.i(D)&65535;I[2*R+2*D]+=P*re,_(I,2*R+2*D),I[2*R+2*D+1]+=O*re,_(I,2*R+2*D+1),I[2*R+2*D+1]+=P*H,_(I,2*R+2*D+1),I[2*R+2*D+2]+=O*H,_(I,2*R+2*D+2)}for(R=0;R<C;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=C;R<2*C;R++)I[R]=0;return new o(I,0)};function _(b,C){for(;(b[C]&65535)!=b[C];)b[C+1]+=b[C]>>>16,b[C]&=65535,C++}function S(b,C){this.g=b,this.h=C}function N(b,C){if(x(C))throw Error("division by zero");if(x(b))return new S(p,p);if(v(b))return C=N(T(b),C),new S(T(C.g),T(C.h));if(v(C))return C=N(b,T(C)),new S(T(C.g),C.h);if(30<b.g.length){if(v(b)||v(C))throw Error("slowDivide_ only works with positive integers.");for(var I=h,R=C;0>=R.l(b);)I=k(I),R=k(R);var D=V(I,1),O=V(R,1);for(R=V(R,2),I=V(I,2);!x(R);){var P=O.add(R);0>=P.l(b)&&(D=D.add(I),O=P),R=V(R,1),I=V(I,1)}return C=E(b,D.j(C)),new S(D,C)}for(D=p;0<=b.l(C);){for(I=Math.max(1,Math.floor(b.m()/C.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=c(I),P=O.j(C);v(P)||0<P.l(b);)I-=R,O=c(I),P=O.j(C);x(O)&&(O=h),D=D.add(O),b=E(b,P)}return new S(D,b)}t.A=function(b){return N(this,b).h},t.and=function(b){for(var C=Math.max(this.g.length,b.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)&b.i(R);return new o(I,this.h&b.h)},t.or=function(b){for(var C=Math.max(this.g.length,b.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)|b.i(R);return new o(I,this.h|b.h)},t.xor=function(b){for(var C=Math.max(this.g.length,b.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)^b.i(R);return new o(I,this.h^b.h)};function k(b){for(var C=b.g.length+1,I=[],R=0;R<C;R++)I[R]=b.i(R)<<1|b.i(R-1)>>>31;return new o(I,b.h)}function V(b,C){var I=C>>5;C%=32;for(var R=b.g.length-I,D=[],O=0;O<R;O++)D[O]=0<C?b.i(O+I)>>>C|b.i(O+I+1)<<32-C:b.i(O+I);return new o(D,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,ai=o}).apply(typeof Y0<"u"?Y0:typeof self<"u"?self:typeof window<"u"?window:{});var Ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iS,Ta,sS,Zu,Rp,oS,aS,lS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,y){return l==Array.prototype||l==Object.prototype||(l[f]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ru=="object"&&Ru];for(var f=0;f<l.length;++f){var y=l[f];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(l,f){if(f)e:{var y=r;l=l.split(".");for(var A=0;A<l.length-1;A++){var M=l[A];if(!(M in y))break e;y=y[M]}l=l[l.length-1],A=y[l],f=f(A),f!=A&&f!=null&&e(y,l,{configurable:!0,writable:!0,value:f})}}function s(l,f){l instanceof String&&(l+="");var y=0,A=!1,M={next:function(){if(!A&&y<l.length){var L=y++;return{value:f(L,l[L]),done:!1}}return A=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(l){return l||function(){return s(this,function(f,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function c(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function d(l,f,y){return l.call.apply(l.bind,arguments)}function p(l,f,y){if(!l)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,A),l.apply(f,M)}}return function(){return l.apply(f,arguments)}}function h(l,f,y){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,h.apply(null,arguments)}function m(l,f){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),l.apply(this,A)}}function x(l,f){function y(){}y.prototype=f.prototype,l.aa=f.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(A,M,L){for(var W=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)W[Ne-2]=arguments[Ne];return f.prototype[M].apply(A,W)}}function v(l){const f=l.length;if(0<f){const y=Array(f);for(let A=0;A<f;A++)y[A]=l[A];return y}return[]}function T(l,f){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(u(A)){const M=l.length||0,L=A.length||0;l.length=M+L;for(let W=0;W<L;W++)l[M+W]=A[W]}else l.push(A)}}class E{constructor(f,y){this.i=f,this.j=y,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function _(l){return/^[\s\xa0]*$/.test(l)}function S(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function N(l){return N[" "](l),l}N[" "]=function(){};var k=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function V(l,f,y){for(const A in l)f.call(y,l[A],A,l)}function b(l,f){for(const y in l)f.call(void 0,l[y],y,l)}function C(l){const f={};for(const y in l)f[y]=l[y];return f}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,f){let y,A;for(let M=1;M<arguments.length;M++){A=arguments[M];for(y in A)l[y]=A[y];for(let L=0;L<I.length;L++)y=I[L],Object.prototype.hasOwnProperty.call(A,y)&&(l[y]=A[y])}}function D(l){var f=1;l=l.split(":");const y=[];for(;0<f&&l.length;)y.push(l.shift()),f--;return l.length&&y.push(l.join(":")),y}function O(l){a.setTimeout(()=>{throw l},0)}function P(){var l=$;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class H{constructor(){this.h=this.g=null}add(f,y){const A=re.get();A.set(f,y),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new E(()=>new X,l=>l.reset());class X{constructor(){this.next=this.g=this.h=null}set(f,y){this.h=f,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,j=!1,$=new H,Y=()=>{const l=a.Promise.resolve(void 0);ne=()=>{l.then(q)}};var q=()=>{for(var l;l=P();){try{l.h.call(l.g)}catch(y){O(y)}var f=re;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}j=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};a.addEventListener("test",y,f),a.removeEventListener("test",y,f)}catch{}return l}();function Fe(l,f){if(ee.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,A=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(k){e:{try{N(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else y=="mouseover"?f=l.fromElement:y=="mouseout"&&(f=l.toElement);this.relatedTarget=f,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:fe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Fe.aa.h.call(this)}}x(Fe,ee);var fe={2:"touch",3:"pen",4:"mouse"};Fe.prototype.h=function(){Fe.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Z="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function ze(l,f,y,A,M){this.listener=l,this.proxy=null,this.src=f,this.type=y,this.capture=!!A,this.ha=M,this.key=++Ee,this.da=this.fa=!1}function pe(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ve(l){this.src=l,this.g={},this.h=0}ve.prototype.add=function(l,f,y,A,M){var L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);var W=it(l,f,A,M);return-1<W?(f=l[W],y||(f.fa=!1)):(f=new ze(f,this.src,L,!!A,M),f.fa=y,l.push(f)),f};function ge(l,f){var y=f.type;if(y in l.g){var A=l.g[y],M=Array.prototype.indexOf.call(A,f,void 0),L;(L=0<=M)&&Array.prototype.splice.call(A,M,1),L&&(pe(f),l.g[y].length==0&&(delete l.g[y],l.h--))}}function it(l,f,y,A){for(var M=0;M<l.length;++M){var L=l[M];if(!L.da&&L.listener==f&&L.capture==!!y&&L.ha==A)return M}return-1}var ft="closure_lm_"+(1e6*Math.random()|0),dn={};function Ot(l,f,y,A,M){if(Array.isArray(f)){for(var L=0;L<f.length;L++)Ot(l,f[L],y,A,M);return null}return y=Go(y),l&&l[Z]?l.K(f,y,c(A)?!!A.capture:!!A,M):nr(l,f,y,!1,A,M)}function nr(l,f,y,A,M,L){if(!f)throw Error("Invalid event type");var W=c(M)?!!M.capture:!!M,Ne=Cr(l);if(Ne||(l[ft]=Ne=new ve(l)),y=Ne.add(f,y,A,W,L),y.proxy)return y;if(A=Ko(),y.proxy=A,A.src=l,A.listener=y,l.addEventListener)Se||(M=W),M===void 0&&(M=!1),l.addEventListener(f.toString(),A,M);else if(l.attachEvent)l.attachEvent(Fl(f.toString()),A);else if(l.addListener&&l.removeListener)l.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ko(){function l(y){return f.call(l.src,l.listener,y)}const f=Jd;return l}function Ze(l,f,y,A,M){if(Array.isArray(f))for(var L=0;L<f.length;L++)Ze(l,f[L],y,A,M);else A=c(A)?!!A.capture:!!A,y=Go(y),l&&l[Z]?(l=l.i,f=String(f).toString(),f in l.g&&(L=l.g[f],y=it(L,y,A,M),-1<y&&(pe(L[y]),Array.prototype.splice.call(L,y,1),L.length==0&&(delete l.g[f],l.h--)))):l&&(l=Cr(l))&&(f=l.g[f.toString()],l=-1,f&&(l=it(f,y,A,M)),(y=-1<l?f[l]:null)&&Mn(y))}function Mn(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Z])ge(f.i,l);else{var y=l.type,A=l.proxy;f.removeEventListener?f.removeEventListener(y,A,l.capture):f.detachEvent?f.detachEvent(Fl(y),A):f.addListener&&f.removeListener&&f.removeListener(A),(y=Cr(f))?(ge(y,l),y.h==0&&(y.src=null,f[ft]=null)):pe(l)}}}function Fl(l){return l in dn?dn[l]:dn[l]="on"+l}function Jd(l,f){if(l.da)l=!0;else{f=new Fe(f,this);var y=l.listener,A=l.ha||l.src;l.fa&&Mn(l),l=y.call(A,f)}return l}function Cr(l){return l=l[ft],l instanceof ve?l:null}var qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Go(l){return typeof l=="function"?l:(l[qo]||(l[qo]=function(f){return l.handleEvent(f)}),l[qo])}function et(){J.call(this),this.i=new ve(this),this.M=this,this.F=null}x(et,J),et.prototype[Z]=!0,et.prototype.removeEventListener=function(l,f,y,A){Ze(this,l,f,y,A)};function qe(l,f){var y,A=l.F;if(A)for(y=[];A;A=A.F)y.push(A);if(l=l.M,A=f.type||f,typeof f=="string")f=new ee(f,l);else if(f instanceof ee)f.target=f.target||l;else{var M=f;f=new ee(A,l),R(f,M)}if(M=!0,y)for(var L=y.length-1;0<=L;L--){var W=f.g=y[L];M=ki(W,A,!0,f)&&M}if(W=f.g=l,M=ki(W,A,!0,f)&&M,M=ki(W,A,!1,f)&&M,y)for(L=0;L<y.length;L++)W=f.g=y[L],M=ki(W,A,!1,f)&&M}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var y=l.g[f],A=0;A<y.length;A++)pe(y[A]);delete l.g[f],l.h--}}this.F=null},et.prototype.K=function(l,f,y,A){return this.i.add(String(l),f,!1,y,A)},et.prototype.L=function(l,f,y,A){return this.i.add(String(l),f,!0,y,A)};function ki(l,f,y,A){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,L=0;L<f.length;++L){var W=f[L];if(W&&!W.da&&W.capture==y){var Ne=W.listener,pt=W.ha||W.src;W.fa&&ge(l.i,W),M=Ne.call(pt,A)!==!1&&M}}return M&&!A.defaultPrevented}function rr(l,f,y){if(typeof l=="function")y&&(l=h(l,y));else if(l&&typeof l.handleEvent=="function")l=h(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function Qo(l){l.g=rr(()=>{l.g=null,l.i&&(l.i=!1,Qo(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class Zd extends J{constructor(f,y){super(),this.m=f,this.l=y,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Qo(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(l){J.call(this),this.h=l,this.g={}}x(br,J);var Yo=[];function zl(l){V(l.g,function(f,y){this.g.hasOwnProperty(y)&&Mn(f)},l),l.g={}}br.prototype.N=function(){br.aa.N.call(this),zl(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Di=a.JSON.stringify,jn=a.JSON.parse,eh=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function oe(){}oe.prototype.h=null;function Pe(l){return l.h||(l.h=l.i())}function Ie(){}var Et={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bt(){ee.call(this,"d")}x(Bt,ee);function Ar(){ee.call(this,"c")}x(Ar,ee);var ir={},Qg=null;function Ul(){return Qg=Qg||new et}ir.La="serverreachability";function Yg(l){ee.call(this,ir.La,l)}x(Yg,ee);function Xo(l){const f=Ul();qe(f,new Yg(f))}ir.STAT_EVENT="statevent";function Xg(l,f){ee.call(this,ir.STAT_EVENT,l),this.stat=f}x(Xg,ee);function Vt(l){const f=Ul();qe(f,new Xg(f,l))}ir.Ma="timingevent";function Jg(l,f){ee.call(this,ir.Ma,l),this.size=f}x(Jg,ee);function Jo(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function Zo(){this.g=!0}Zo.prototype.xa=function(){this.g=!1};function Rb(l,f,y,A,M,L){l.info(function(){if(l.g)if(L)for(var W="",Ne=L.split("&"),pt=0;pt<Ne.length;pt++){var Ce=Ne[pt].split("=");if(1<Ce.length){var xt=Ce[0];Ce=Ce[1];var Tt=xt.split("_");W=2<=Tt.length&&Tt[1]=="type"?W+(xt+"="+Ce+"&"):W+(xt+"=redacted&")}}else W=null;else W=L;return"XMLHTTP REQ ("+A+") [attempt "+M+"]: "+f+`
`+y+`
`+W})}function Pb(l,f,y,A,M,L,W){l.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+M+"]: "+f+`
`+y+`
`+L+" "+W})}function _s(l,f,y,A){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+kb(l,y)+(A?" "+A:"")})}function Nb(l,f){l.info(function(){return"TIMEOUT: "+f})}Zo.prototype.info=function(){};function kb(l,f){if(!l.g)return f;if(!f)return null;try{var y=JSON.parse(f);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var A=y[l];if(!(2>A.length)){var M=A[1];if(Array.isArray(M)&&!(1>M.length)){var L=M[0];if(L!="noop"&&L!="stop"&&L!="close")for(var W=1;W<M.length;W++)M[W]=""}}}}return Di(y)}catch{return f}}var $l={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},th;function Bl(){}x(Bl,oe),Bl.prototype.g=function(){return new XMLHttpRequest},Bl.prototype.i=function(){return{}},th=new Bl;function Ir(l,f,y,A){this.j=l,this.i=f,this.l=y,this.R=A||1,this.U=new br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ey}function ey(){this.i=null,this.g="",this.h=!1}var ty={},nh={};function rh(l,f,y){l.L=1,l.v=ql(sr(f)),l.m=y,l.P=!0,ny(l,null)}function ny(l,f){l.F=Date.now(),Hl(l),l.A=sr(l.v);var y=l.A,A=l.R;Array.isArray(A)||(A=[String(A)]),gy(y.i,"t",A),l.C=0,y=l.j.J,l.h=new ey,l.g=Oy(l.j,y?f:null,!l.m),0<l.O&&(l.M=new Zd(h(l.Y,l,l.g),l.O)),f=l.U,y=l.g,A=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(Yo[0]=M.toString()),M=Yo);for(var L=0;L<M.length;L++){var W=Ot(y,M[L],A||f.handleEvent,!1,f.h||f);if(!W)break;f.g[W.key]=W}f=l.H?C(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Xo(),Rb(l.i,l.u,l.A,l.l,l.R,l.m)}Ir.prototype.ca=function(l){l=l.target;const f=this.M;f&&or(l)==3?f.j():this.Y(l)},Ir.prototype.Y=function(l){try{if(l==this.g)e:{const Tt=or(this.g);var f=this.g.Ba();const Ts=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||Ty(this.g)))){this.J||Tt!=4||f==7||(f==8||0>=Ts?Xo(3):Xo(2)),ih(this);var y=this.g.Z();this.X=y;t:if(ry(this)){var A=Ty(this.g);l="";var M=A.length,L=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oi(this),ea(this);var W="";break t}this.h.i=new a.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,l+=this.h.i.decode(A[f],{stream:!(L&&f==M-1)});A.length=0,this.h.g+=l,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=y==200,Pb(this.i,this.u,this.A,this.l,this.R,Tt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,pt=this.g;if((Ne=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ne)){var Ce=Ne;break t}}Ce=null}if(y=Ce)_s(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sh(this,y);else{this.o=!1,this.s=3,Vt(12),Oi(this),ea(this);break e}}if(this.P){y=!0;let En;for(;!this.J&&this.C<W.length;)if(En=Db(this,W),En==nh){Tt==4&&(this.s=4,Vt(14),y=!1),_s(this.i,this.l,null,"[Incomplete Response]");break}else if(En==ty){this.s=4,Vt(15),_s(this.i,this.l,W,"[Invalid Chunk]"),y=!1;break}else _s(this.i,this.l,En,null),sh(this,En);if(ry(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||W.length!=0||this.h.h||(this.s=1,Vt(16),y=!1),this.o=this.o&&y,!y)_s(this.i,this.l,W,"[Invalid Chunked Response]"),Oi(this),ea(this);else if(0<W.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),dh(xt),xt.M=!0,Vt(11))}}else _s(this.i,this.l,W,null),sh(this,W);Tt==4&&Oi(this),this.o&&!this.J&&(Tt==4?Py(this.j,this):(this.o=!1,Hl(this)))}else Yb(this.g),y==400&&0<W.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),Oi(this),ea(this)}}}catch{}finally{}};function ry(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Db(l,f){var y=l.C,A=f.indexOf(`
`,y);return A==-1?nh:(y=Number(f.substring(y,A)),isNaN(y)?ty:(A+=1,A+y>f.length?nh:(f=f.slice(A,A+y),l.C=A+y,f)))}Ir.prototype.cancel=function(){this.J=!0,Oi(this)};function Hl(l){l.S=Date.now()+l.I,iy(l,l.I)}function iy(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Jo(h(l.ba,l),f)}function ih(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Ir.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Nb(this.i,this.A),this.L!=2&&(Xo(),Vt(17)),Oi(this),this.s=2,ea(this)):iy(this,this.S-l)};function ea(l){l.j.G==0||l.J||Py(l.j,l)}function Oi(l){ih(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,zl(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function sh(l,f){try{var y=l.j;if(y.G!=0&&(y.g==l||oh(y.h,l))){if(!l.K&&oh(y.h,l)&&y.G==3){try{var A=y.Da.g.parse(f)}catch{A=null}if(Array.isArray(A)&&A.length==3){var M=A;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)Zl(y),Xl(y);else break e;ch(y),Vt(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=Jo(h(y.Za,y),6e3));if(1>=ay(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Mi(y,11)}else if((l.K||y.g==l)&&Zl(y),!_(f))for(M=y.Da.g.parse(f),f=0;f<M.length;f++){let Ce=M[f];if(y.T=Ce[0],Ce=Ce[1],y.G==2)if(Ce[0]=="c"){y.K=Ce[1],y.ia=Ce[2];const xt=Ce[3];xt!=null&&(y.la=xt,y.j.info("VER="+y.la));const Tt=Ce[4];Tt!=null&&(y.Aa=Tt,y.j.info("SVER="+y.Aa));const Ts=Ce[5];Ts!=null&&typeof Ts=="number"&&0<Ts&&(A=1.5*Ts,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const En=l.g;if(En){const tu=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tu){var L=A.h;L.g||tu.indexOf("spdy")==-1&&tu.indexOf("quic")==-1&&tu.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(ah(L,L.h),L.h=null))}if(A.D){const hh=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;hh&&(A.ya=hh,Ve(A.I,A.D,hh))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var W=l;if(A.qa=Dy(A,A.J?A.ia:null,A.W),W.K){ly(A.h,W);var Ne=W,pt=A.L;pt&&(Ne.I=pt),Ne.B&&(ih(Ne),Hl(Ne)),A.g=W}else Iy(A);0<y.i.length&&Jl(y)}else Ce[0]!="stop"&&Ce[0]!="close"||Mi(y,7);else y.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?Mi(y,7):uh(y):Ce[0]!="noop"&&y.l&&y.l.ta(Ce),y.v=0)}}Xo(4)}catch{}}var Ob=class{constructor(l,f){this.g=l,this.map=f}};function sy(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oy(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ay(l){return l.h?1:l.g?l.g.size:0}function oh(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function ah(l,f){l.g?l.g.add(f):l.h=f}function ly(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}sy.prototype.cancel=function(){if(this.i=uy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function uy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const y of l.g.values())f=f.concat(y.D);return f}return v(l.i)}function Vb(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var f=[],y=l.length,A=0;A<y;A++)f.push(l[A]);return f}f=[],y=0;for(A in l)f[y++]=l[A];return f}function Mb(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var f=[];l=l.length;for(var y=0;y<l;y++)f.push(y);return f}f=[],y=0;for(const A in l)f[y++]=A;return f}}}function cy(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var y=Mb(l),A=Vb(l),M=A.length,L=0;L<M;L++)f.call(void 0,A[L],y&&y[L],l)}var dy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jb(l,f){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var A=l[y].indexOf("="),M=null;if(0<=A){var L=l[y].substring(0,A);M=l[y].substring(A+1)}else L=l[y];f(L,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Vi(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Vi){this.h=l.h,Wl(this,l.j),this.o=l.o,this.g=l.g,Kl(this,l.s),this.l=l.l;var f=l.i,y=new ra;y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),hy(this,y),this.m=l.m}else l&&(f=String(l).match(dy))?(this.h=!1,Wl(this,f[1]||"",!0),this.o=ta(f[2]||""),this.g=ta(f[3]||"",!0),Kl(this,f[4]),this.l=ta(f[5]||"",!0),hy(this,f[6]||"",!0),this.m=ta(f[7]||"")):(this.h=!1,this.i=new ra(null,this.h))}Vi.prototype.toString=function(){var l=[],f=this.j;f&&l.push(na(f,fy,!0),":");var y=this.g;return(y||f=="file")&&(l.push("//"),(f=this.o)&&l.push(na(f,fy,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(na(y,y.charAt(0)=="/"?zb:Fb,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",na(y,$b)),l.join("")};function sr(l){return new Vi(l)}function Wl(l,f,y){l.j=y?ta(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Kl(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function hy(l,f,y){f instanceof ra?(l.i=f,Bb(l.i,l.h)):(y||(f=na(f,Ub)),l.i=new ra(f,l.h))}function Ve(l,f,y){l.i.set(f,y)}function ql(l){return Ve(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ta(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function na(l,f,y){return typeof l=="string"?(l=encodeURI(l).replace(f,Lb),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Lb(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var fy=/[#\/\?@]/g,Fb=/[#\?:]/g,zb=/[#\?]/g,Ub=/[#\?@]/g,$b=/#/g;function ra(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Rr(l){l.g||(l.g=new Map,l.h=0,l.i&&jb(l.i,function(f,y){l.add(decodeURIComponent(f.replace(/\+/g," ")),y)}))}t=ra.prototype,t.add=function(l,f){Rr(this),this.i=null,l=Es(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(f),this.h+=1,this};function py(l,f){Rr(l),f=Es(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function my(l,f){return Rr(l),f=Es(l,f),l.g.has(f)}t.forEach=function(l,f){Rr(this),this.g.forEach(function(y,A){y.forEach(function(M){l.call(f,M,A,this)},this)},this)},t.na=function(){Rr(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),y=[];for(let A=0;A<f.length;A++){const M=l[A];for(let L=0;L<M.length;L++)y.push(f[A])}return y},t.V=function(l){Rr(this);let f=[];if(typeof l=="string")my(this,l)&&(f=f.concat(this.g.get(Es(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)f=f.concat(l[y])}return f},t.set=function(l,f){return Rr(this),this.i=null,l=Es(this,l),my(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function gy(l,f,y){py(l,f),0<y.length&&(l.i=null,l.g.set(Es(l,f),v(y)),l.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var y=0;y<f.length;y++){var A=f[y];const L=encodeURIComponent(String(A)),W=this.V(A);for(A=0;A<W.length;A++){var M=L;W[A]!==""&&(M+="="+encodeURIComponent(String(W[A]))),l.push(M)}}return this.i=l.join("&")};function Es(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Bb(l,f){f&&!l.j&&(Rr(l),l.i=null,l.g.forEach(function(y,A){var M=A.toLowerCase();A!=M&&(py(this,A),gy(this,M,y))},l)),l.j=f}function Hb(l,f){const y=new Zo;if(a.Image){const A=new Image;A.onload=m(Pr,y,"TestLoadImage: loaded",!0,f,A),A.onerror=m(Pr,y,"TestLoadImage: error",!1,f,A),A.onabort=m(Pr,y,"TestLoadImage: abort",!1,f,A),A.ontimeout=m(Pr,y,"TestLoadImage: timeout",!1,f,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=l}else f(!1)}function Wb(l,f){const y=new Zo,A=new AbortController,M=setTimeout(()=>{A.abort(),Pr(y,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:A.signal}).then(L=>{clearTimeout(M),L.ok?Pr(y,"TestPingServer: ok",!0,f):Pr(y,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),Pr(y,"TestPingServer: error",!1,f)})}function Pr(l,f,y,A,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),A(y)}catch{}}function Kb(){this.g=new eh}function qb(l,f,y){const A=y||"";try{cy(l,function(M,L){let W=M;c(M)&&(W=Di(M)),f.push(A+L+"="+encodeURIComponent(W))})}catch(M){throw f.push(A+"type="+encodeURIComponent("_badmap")),M}}function Gl(l){this.l=l.Ub||null,this.j=l.eb||!1}x(Gl,oe),Gl.prototype.g=function(){return new Ql(this.l,this.j)},Gl.prototype.i=function(l){return function(){return l}}({});function Ql(l,f){et.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Ql,et),t=Ql.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,sa(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,sa(this)),this.g&&(this.readyState=3,sa(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yy(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function yy(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?ia(this):sa(this),this.readyState==3&&yy(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,ia(this))},t.Qa=function(l){this.g&&(this.response=l,ia(this))},t.ga=function(){this.g&&ia(this)};function ia(l){l.readyState=4,l.l=null,l.j=null,l.v=null,sa(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var y=f.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=f.next();return l.join(`\r
`)};function sa(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ql.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function vy(l){let f="";return V(l,function(y,A){f+=A,f+=":",f+=y,f+=`\r
`}),f}function lh(l,f,y){e:{for(A in y){var A=!1;break e}A=!0}A||(y=vy(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):Ve(l,f,y))}function Ge(l){et.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ge,et);var Gb=/^https?$/i,Qb=["POST","PUT"];t=Ge.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():th.g(),this.v=this.o?Pe(this.o):Pe(th),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(L){wy(this,L);return}if(l=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var M in A)y.set(M,A[M]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const L of A.keys())y.set(L,A.get(L));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(L=>L.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Qb,f,void 0))||A||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,W]of y)this.g.setRequestHeader(L,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xy(this),this.u=!0,this.g.send(l),this.u=!1}catch(L){wy(this,L)}};function wy(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,_y(l),Yl(l)}function _y(l){l.A||(l.A=!0,qe(l,"complete"),qe(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,qe(this,"complete"),qe(this,"abort"),Yl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yl(this,!0)),Ge.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ey(this):this.bb())},t.bb=function(){Ey(this)};function Ey(l){if(l.h&&typeof o<"u"&&(!l.v[1]||or(l)!=4||l.Z()!=2)){if(l.u&&or(l)==4)rr(l.Ea,0,l);else if(qe(l,"readystatechange"),or(l)==4){l.h=!1;try{const W=l.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var y;if(!(y=f)){var A;if(A=W===0){var M=String(l.D).match(dy)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),A=!Gb.test(M?M.toLowerCase():"")}y=A}if(y)qe(l,"complete"),qe(l,"success");else{l.m=6;try{var L=2<or(l)?l.g.statusText:""}catch{L=""}l.l=L+" ["+l.Z()+"]",_y(l)}}finally{Yl(l)}}}}function Yl(l,f){if(l.g){xy(l);const y=l.g,A=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||qe(l,"ready");try{y.onreadystatechange=A}catch{}}}function xy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function or(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),jn(f)}};function Ty(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Yb(l){const f={};l=(l.g&&2<=or(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<l.length;A++){if(_(l[A]))continue;var y=D(l[A]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const L=f[M]||[];f[M]=L,L.push(y)}b(f,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oa(l,f,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||f}function Sy(l){this.Aa=0,this.i=[],this.j=new Zo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oa("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oa("baseRetryDelayMs",5e3,l),this.cb=oa("retryDelaySeedMs",1e4,l),this.Wa=oa("forwardChannelMaxRetries",2,l),this.wa=oa("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new sy(l&&l.concurrentRequestLimit),this.Da=new Kb,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Sy.prototype,t.la=8,t.G=1,t.connect=function(l,f,y,A){Vt(0),this.W=l,this.H=f||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=Dy(this,null,this.W),Jl(this)};function uh(l){if(Cy(l),l.G==3){var f=l.U++,y=sr(l.I);if(Ve(y,"SID",l.K),Ve(y,"RID",f),Ve(y,"TYPE","terminate"),aa(l,y),f=new Ir(l,l.j,f),f.L=2,f.v=ql(sr(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=f.v,y=!0),y||(f.g=Oy(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Hl(f)}ky(l)}function Xl(l){l.g&&(dh(l),l.g.cancel(),l.g=null)}function Cy(l){Xl(l),l.u&&(a.clearTimeout(l.u),l.u=null),Zl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Jl(l){if(!oy(l.h)&&!l.s){l.s=!0;var f=l.Ga;ne||Y(),j||(ne(),j=!0),$.add(f,l),l.B=0}}function Xb(l,f){return ay(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Jo(h(l.Ga,l,f),Ny(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Ir(this,this.j,l);let L=this.o;if(this.S&&(L?(L=C(L),R(L,this.S)):L=this.S),this.m!==null||this.O||(M.H=L,L=null),this.P)e:{for(var f=0,y=0;y<this.i.length;y++){t:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(f+=A,4096<f){f=y;break e}if(f===4096||y===this.i.length-1){f=y+1;break e}}f=1e3}else f=1e3;f=Ay(this,M,f),y=sr(this.I),Ve(y,"RID",l),Ve(y,"CVER",22),this.D&&Ve(y,"X-HTTP-Session-Id",this.D),aa(this,y),L&&(this.O?f="headers="+encodeURIComponent(String(vy(L)))+"&"+f:this.m&&lh(y,this.m,L)),ah(this.h,M),this.Ua&&Ve(y,"TYPE","init"),this.P?(Ve(y,"$req",f),Ve(y,"SID","null"),M.T=!0,rh(M,y,null)):rh(M,y,f),this.G=2}}else this.G==3&&(l?by(this,l):this.i.length==0||oy(this.h)||by(this))};function by(l,f){var y;f?y=f.l:y=l.U++;const A=sr(l.I);Ve(A,"SID",l.K),Ve(A,"RID",y),Ve(A,"AID",l.T),aa(l,A),l.m&&l.o&&lh(A,l.m,l.o),y=new Ir(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Ay(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ah(l.h,y),rh(y,A,f)}function aa(l,f){l.H&&V(l.H,function(y,A){Ve(f,A,y)}),l.l&&cy({},function(y,A){Ve(f,A,y)})}function Ay(l,f,y){y=Math.min(l.i.length,y);var A=l.l?h(l.l.Na,l.l,l):null;e:{var M=l.i;let L=-1;for(;;){const W=["count="+y];L==-1?0<y?(L=M[0].g,W.push("ofs="+L)):L=0:W.push("ofs="+L);let Ne=!0;for(let pt=0;pt<y;pt++){let Ce=M[pt].g;const xt=M[pt].map;if(Ce-=L,0>Ce)L=Math.max(0,M[pt].g-100),Ne=!1;else try{qb(xt,W,"req"+Ce+"_")}catch{A&&A(xt)}}if(Ne){A=W.join("&");break e}}}return l=l.i.splice(0,y),f.D=l,A}function Iy(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;ne||Y(),j||(ne(),j=!0),$.add(f,l),l.v=0}}function ch(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Jo(h(l.Fa,l),Ny(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Ry(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Jo(h(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),Xl(this),Ry(this))};function dh(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Ry(l){l.g=new Ir(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=sr(l.qa);Ve(f,"RID","rpc"),Ve(f,"SID",l.K),Ve(f,"AID",l.T),Ve(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ve(f,"TO",l.ja),Ve(f,"TYPE","xmlhttp"),aa(l,f),l.m&&l.o&&lh(f,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=ql(sr(f)),y.m=null,y.P=!0,ny(y,l)}t.Za=function(){this.C!=null&&(this.C=null,Xl(this),ch(this),Vt(19))};function Zl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Py(l,f){var y=null;if(l.g==f){Zl(l),dh(l),l.g=null;var A=2}else if(oh(l.h,f))y=f.D,ly(l.h,f),A=1;else return;if(l.G!=0){if(f.o)if(A==1){y=f.m?f.m.length:0,f=Date.now()-f.F;var M=l.B;A=Ul(),qe(A,new Jg(A,y)),Jl(l)}else Iy(l);else if(M=f.s,M==3||M==0&&0<f.X||!(A==1&&Xb(l,f)||A==2&&ch(l)))switch(y&&0<y.length&&(f=l.h,f.i=f.i.concat(y)),M){case 1:Mi(l,5);break;case 4:Mi(l,10);break;case 3:Mi(l,6);break;default:Mi(l,2)}}}function Ny(l,f){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*f}function Mi(l,f){if(l.j.info("Error code "+f),f==2){var y=h(l.fb,l),A=l.Xa;const M=!A;A=new Vi(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Wl(A,"https"),ql(A),M?Hb(A.toString(),y):Wb(A.toString(),y)}else Vt(2);l.G=0,l.l&&l.l.sa(f),ky(l),Cy(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function ky(l){if(l.G=0,l.ka=[],l.l){const f=uy(l.h);(f.length!=0||l.i.length!=0)&&(T(l.ka,f),T(l.ka,l.i),l.h.i.length=0,v(l.i),l.i.length=0),l.l.ra()}}function Dy(l,f,y){var A=y instanceof Vi?sr(y):new Vi(y);if(A.g!="")f&&(A.g=f+"."+A.g),Kl(A,A.s);else{var M=a.location;A=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var L=new Vi(null);A&&Wl(L,A),f&&(L.g=f),M&&Kl(L,M),y&&(L.l=y),A=L}return y=l.D,f=l.ya,y&&f&&Ve(A,y,f),Ve(A,"VER",l.la),aa(l,A),A}function Oy(l,f,y){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Ge(new Gl({eb:y})):new Ge(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vy(){}t=Vy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function eu(){}eu.prototype.g=function(l,f){return new Xt(l,f)};function Xt(l,f){et.call(this),this.g=new Sy(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!_(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!_(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new xs(this)}x(Xt,et),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){uh(this.g)},Xt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=Di(l),l=y);f.i.push(new Ob(f.Ya++,l)),f.G==3&&Jl(f)},Xt.prototype.N=function(){this.g.l=null,delete this.j,uh(this.g),delete this.g,Xt.aa.N.call(this)};function My(l){Bt.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const y in f){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}x(My,Bt);function jy(){Ar.call(this),this.status=1}x(jy,Ar);function xs(l){this.g=l}x(xs,Vy),xs.prototype.ua=function(){qe(this.g,"a")},xs.prototype.ta=function(l){qe(this.g,new My(l))},xs.prototype.sa=function(l){qe(this.g,new jy)},xs.prototype.ra=function(){qe(this.g,"b")},eu.prototype.createWebChannel=eu.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,lS=function(){return new eu},aS=function(){return Ul()},oS=ir,Rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$l.NO_ERROR=0,$l.TIMEOUT=8,$l.HTTP_ERROR=6,Zu=$l,Zg.COMPLETE="complete",sS=Zg,Ie.EventType=Et,Et.OPEN="a",Et.CLOSE="b",Et.ERROR="c",Et.MESSAGE="d",et.prototype.listen=et.prototype.K,Ta=Ie,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,iS=Ge}).apply(typeof Ru<"u"?Ru:typeof self<"u"?self:typeof window<"u"?window:{});const X0="@firebase/firestore",J0="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new XT("@firebase/firestore");function Is(){return cs.logLevel}function G(t,...e){if(cs.logLevel<=_e.DEBUG){const n=e.map(fg);cs.debug(`Firestore (${$o}): ${t}`,...n)}}function Er(t,...e){if(cs.logLevel<=_e.ERROR){const n=e.map(fg);cs.error(`Firestore (${$o}): ${t}`,...n)}}function Co(t,...e){if(cs.logLevel<=_e.WARN){const n=e.map(fg);cs.warn(`Firestore (${$o}): ${t}`,...n)}}function fg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,uS(t,r,n)}function uS(t,e,n){let r=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Er(r),new Error(r)}function Ae(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||uS(e,i,r)}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Uo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class KV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qV{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new li;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new li,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new li)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new cS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new Rt(e)}}class GV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new GV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,IV(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ae(this.o===void 0,3512);const r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Z0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Z0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=XV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function Pp(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return he(r,i);{const s=dS(),o=JV(s.encode(ew(t,n)),s.encode(ew(e,n)));return o!==0?o:he(r,i)}}n+=r>65535?2:1}return he(t.length,e.length)}function ew(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function JV(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return he(t[n],e[n]);return he(t.length,e.length)}function bo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=-62135596800,nw=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*nw);return new lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tw)throw new te(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nw}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-tw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(e){return new ae(e)}static min(){return new ae(new lt(0,0))}static max(){return new ae(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="__name__";class zn{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=zn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return he(e.length,n.length)}static compareSegments(e,n){const r=zn.isNumericId(e),i=zn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?zn.extractNumericId(e).compare(zn.extractNumericId(n)):Pp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ai.fromString(e.substring(4,e.length-2))}}class $e extends zn{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const ZV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yt extends zn{construct(e,n,r){return new yt(e,n,r)}static isValidIdentifier(e){return ZV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rw}static keyField(){return new yt([rw])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new te(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new te(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new te(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yt(n)}static emptyPath(){return new yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie($e.fromString(e))}static fromName(e){return new ie($e.fromString(e).popFirst(5))}static empty(){return new ie($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new $e(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=-1;function eM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new yi(i,ie.empty(),e)}function tM(t){return new yi(t.readTime,t.key,hl)}class yi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yi(ae.min(),ie.empty(),hl)}static max(){return new yi(ae.max(),ie.empty(),hl)}}function nM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==rM)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new F((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function sM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ho(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Dd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=-1;function Od(t){return t==null}function $c(t){return t===0&&1/t==-1/0}function oM(t){return typeof t=="number"&&Number.isInteger(t)&&!$c(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="";function aM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=iw(e)),e=lM(t.get(n),e);return iw(e)}function lM(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case fS:n+="";break;default:n+=s}}return n}function iw(t){return t+fS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ri(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||gt.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gt.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pu(this.root,e,this.comparator,!0)}}class Pu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??gt.RED,this.left=i??gt.EMPTY,this.right=s??gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new gt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}}gt.EMPTY=null,gt.RED=!0,gt.BLACK=!1;gt.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ow(this.data.getIterator())}getIteratorFrom(e){return new ow(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class ow{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.fields=e,e.sort(yt.comparator)}static empty(){return new rn([])}unionWith(e){let n=new ut(yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new mS("Invalid base64 string: "+s):s}}(e);return new _t(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const uM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(t){if(Ae(!!t,39018),typeof t=="string"){let e=0;const n=uM.exec(t);if(Ae(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(t.seconds),nanos:Xe(t.nanos)}}function Xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wi(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="server_timestamp",yS="__type__",vS="__previous_value__",wS="__local_write_time__";function mg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[yS])===null||n===void 0?void 0:n.stringValue)===gS}function Vd(t){const e=t.mapValue.fields[vS];return mg(e)?Vd(e):e}function fl(t){const e=vi(t.mapValue.fields[wS].timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n,r,i,s,o,a,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d}}const Bc="(default)";class pl{constructor(e,n){this.projectId=e,this.database=n||Bc}static empty(){return new pl("","")}get isDefaultDatabase(){return this.database===Bc}isEqual(e){return e instanceof pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="__type__",ES="__max__",Nu={mapValue:{fields:{__type__:{stringValue:ES}}}},xS="__vector__",Hc="value";function _i(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mg(t)?4:hM(t)?9007199254740991:dM(t)?10:11:se(28295,{value:t})}function Jn(t,e){if(t===e)return!0;const n=_i(t);if(n!==_i(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fl(t).isEqual(fl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=vi(i.timestampValue),a=vi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return wi(i.bytesValue).isEqual(wi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Xe(i.geoPointValue.latitude)===Xe(s.geoPointValue.latitude)&&Xe(i.geoPointValue.longitude)===Xe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Xe(i.integerValue)===Xe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Xe(i.doubleValue),a=Xe(s.doubleValue);return o===a?$c(o)===$c(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return bo(t.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(sw(o)!==sw(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Jn(o[u],a[u])))return!1;return!0}(t,e);default:return se(52216,{left:t})}}function ml(t,e){return(t.values||[]).find(n=>Jn(n,e))!==void 0}function Ao(t,e){if(t===e)return 0;const n=_i(t),r=_i(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Xe(s.integerValue||s.doubleValue),u=Xe(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return aw(t.timestampValue,e.timestampValue);case 4:return aw(fl(t),fl(e));case 5:return Pp(t.stringValue,e.stringValue);case 6:return function(s,o){const a=wi(s),u=wi(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=he(a[c],u[c]);if(d!==0)return d}return he(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=he(Xe(s.latitude),Xe(o.latitude));return a!==0?a:he(Xe(s.longitude),Xe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,c,d;const p=s.fields||{},h=o.fields||{},m=(a=p[Hc])===null||a===void 0?void 0:a.arrayValue,x=(u=h[Hc])===null||u===void 0?void 0:u.arrayValue,v=he(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:lw(m,x)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Nu.mapValue&&o===Nu.mapValue)return 0;if(s===Nu.mapValue)return 1;if(o===Nu.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const h=Pp(u[p],d[p]);if(h!==0)return h;const m=Ao(a[u[p]],c[d[p]]);if(m!==0)return m}return he(u.length,d.length)}(t.mapValue,e.mapValue);default:throw se(23264,{Pe:n})}}function aw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=vi(t),r=vi(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function lw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ao(n[i],r[i]);if(s)return s}return he(n.length,r.length)}function Io(t){return Np(t)}function Np(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=vi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return wi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Np(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Np(n.fields[o])}`;return i+"}"}(t.mapValue):se(61005,{value:t})}function ec(t){switch(_i(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vd(t);return e?16+ec(e):16;case 5:return 2*t.stringValue.length;case 6:return wi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+ec(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ri(r.fields,(s,o)=>{i+=s.length+ec(o)}),i}(t.mapValue);default:throw se(13486,{value:t})}}function kp(t){return!!t&&"integerValue"in t}function gg(t){return!!t&&"arrayValue"in t}function uw(t){return!!t&&"nullValue"in t}function cw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tc(t){return!!t&&"mapValue"in t}function dM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[_S])===null||n===void 0?void 0:n.stringValue)===xS}function ja(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ri(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ja(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ja(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ES}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.value=e}static empty(){return new Kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!tc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ja(n)}setAll(e){let n=yt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ja(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());tc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];tc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ri(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Kt(ja(this.value))}}function TS(t){const e=[];return Ri(t.fields,(n,r)=>{const i=new yt([n]);if(tc(r)){const s=TS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Nt(e,0,ae.min(),ae.min(),ae.min(),Kt.empty(),0)}static newFoundDocument(e,n,r,i){return new Nt(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new Nt(e,2,n,ae.min(),ae.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new Nt(e,3,n,ae.min(),ae.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n){this.position=e,this.inclusive=n}}function dw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=Ao(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function hw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n="asc"){this.field=e,this.dir=n}}function fM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{}class ot extends SS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mM(e,n,r):n==="array-contains"?new vM(e,r):n==="in"?new wM(e,r):n==="not-in"?new _M(e,r):n==="array-contains-any"?new EM(e,r):new ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gM(e,r):new yM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ao(n,this.value)):n!==null&&_i(this.value)===_i(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends SS{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Zn(e,n)}matches(e){return CS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function CS(t){return t.op==="and"}function bS(t){return pM(t)&&CS(t)}function pM(t){for(const e of t.filters)if(e instanceof Zn)return!1;return!0}function Dp(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+Io(t.value);if(bS(t))return t.filters.map(e=>Dp(e)).join(",");{const e=t.filters.map(n=>Dp(n)).join(",");return`${t.op}(${e})`}}function AS(t,e){return t instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.field.isEqual(i.field)&&Jn(r.value,i.value)}(t,e):t instanceof Zn?function(r,i){return i instanceof Zn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&AS(o,i.filters[a]),!0):!1}(t,e):void se(19439)}function IS(t){return t instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Io(n.value)}`}(t):t instanceof Zn?function(n){return n.op.toString()+" {"+n.getFilters().map(IS).join(" ,")+"}"}(t):"Filter"}class mM extends ot{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class gM extends ot{constructor(e,n){super(e,"in",n),this.keys=RS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yM extends ot{constructor(e,n){super(e,"not-in",n),this.keys=RS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function RS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class vM extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gg(n)&&ml(n.arrayValue,this.value)}}class wM extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ml(this.value.arrayValue,n)}}class _M extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ml(this.value.arrayValue,n)}}class EM extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ml(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function fw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new xM(t,e,n,r,i,s,o)}function yg(t){const e=le(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Dp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Od(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Io(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Io(r)).join(",")),e.Ie=n}return e.Ie}function vg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hw(t.startAt,e.startAt)&&hw(t.endAt,e.endAt)}function Op(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function TM(t,e,n,r,i,s,o,a){return new Md(t,e,n,r,i,s,o,a)}function PS(t){return new Md(t)}function pw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SM(t){return t.collectionGroup!==null}function La(t){const e=le(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ut(yt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Kc(s,r))}),n.has(yt.keyField().canonicalString())||e.Ee.push(new Kc(yt.keyField(),r))}return e.Ee}function Qn(t){const e=le(t);return e.de||(e.de=CM(e,La(t))),e.de}function CM(t,e){if(t.limitType==="F")return fw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Kc(i.field,s)});const n=t.endAt?new Wc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wc(t.startAt.position,t.startAt.inclusive):null;return fw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Vp(t,e,n){return new Md(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jd(t,e){return vg(Qn(t),Qn(e))&&t.limitType===e.limitType}function NS(t){return`${yg(Qn(t))}|lt:${t.limitType}`}function Rs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>IS(i)).join(", ")}]`),Od(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Io(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Io(i)).join(",")),`Target(${r})`}(Qn(t))}; limitType=${t.limitType})`}function Ld(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of La(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=dw(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,La(r),i)||r.endAt&&!function(o,a,u){const c=dw(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,La(r),i))}(t,e)}function bM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kS(t){return(e,n)=>{let r=!1;for(const i of La(t)){const s=AM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function AM(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?Ao(u,c):se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ri(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return pS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=new Ke(ie.comparator);function xr(){return IM}const DS=new Ke(ie.comparator);function Sa(...t){let e=DS;for(const n of t)e=e.insert(n.key,n);return e}function OS(t){let e=DS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qi(){return Fa()}function VS(){return Fa()}function Fa(){return new vs(t=>t.toString(),(t,e)=>t.isEqual(e))}const RM=new Ke(ie.comparator),PM=new ut(ie.comparator);function ye(...t){let e=PM;for(const n of t)e=e.add(n);return e}const NM=new ut(he);function kM(){return NM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function MS(t){return{integerValue:""+t}}function DM(t,e){return oM(e)?MS(e):wg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this._=void 0}}function OM(t,e,n){return t instanceof qc?function(i,s){const o={fields:{[yS]:{stringValue:gS},[wS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&mg(s)&&(s=Vd(s)),s&&(o.fields[vS]=s),{mapValue:o}}(n,e):t instanceof gl?LS(t,e):t instanceof yl?FS(t,e):function(i,s){const o=jS(i,s),a=mw(o)+mw(i.Re);return kp(o)&&kp(i.Re)?MS(a):wg(i.serializer,a)}(t,e)}function VM(t,e,n){return t instanceof gl?LS(t,e):t instanceof yl?FS(t,e):n}function jS(t,e){return t instanceof Gc?function(r){return kp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class qc extends Fd{}class gl extends Fd{constructor(e){super(),this.elements=e}}function LS(t,e){const n=zS(e);for(const r of t.elements)n.some(i=>Jn(i,r))||n.push(r);return{arrayValue:{values:n}}}class yl extends Fd{constructor(e){super(),this.elements=e}}function FS(t,e){let n=zS(e);for(const r of t.elements)n=n.filter(i=>!Jn(i,r));return{arrayValue:{values:n}}}class Gc extends Fd{constructor(e,n){super(),this.serializer=e,this.Re=n}}function mw(t){return Xe(t.integerValue||t.doubleValue)}function zS(t){return gg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function MM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof gl&&i instanceof gl||r instanceof yl&&i instanceof yl?bo(r.elements,i.elements,Jn):r instanceof Gc&&i instanceof Gc?Jn(r.Re,i.Re):r instanceof qc&&i instanceof qc}(t.transform,e.transform)}class jM{constructor(e,n){this.version=e,this.transformResults=n}}class Nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zd{}function US(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _g(t.key,Nn.none()):new Dl(t.key,t.data,Nn.none());{const n=t.data,r=Kt.empty();let i=new ut(yt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Pi(t.key,r,new rn(i.toArray()),Nn.none())}}function LM(t,e,n){t instanceof Dl?function(i,s,o){const a=i.value.clone(),u=yw(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Pi?function(i,s,o){if(!nc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=yw(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll($S(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function za(t,e,n,r){return t instanceof Dl?function(s,o,a,u){if(!nc(s.precondition,o))return a;const c=s.value.clone(),d=vw(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Pi?function(s,o,a,u){if(!nc(s.precondition,o))return a;const c=vw(s.fieldTransforms,u,o),d=o.data;return d.setAll($S(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return nc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function FM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=jS(r.transform,i||null);s!=null&&(n===null&&(n=Kt.empty()),n.set(r.field,s))}return n||null}function gw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&bo(r,i,(s,o)=>MM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dl extends zd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pi extends zd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $S(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yw(t,e,n){const r=new Map;Ae(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,VM(o,a,n[i]))}return r}function vw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,OM(s,o,e))}return r}class _g extends zd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zM extends zd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&LM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=za(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=za(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=US(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,(n,r)=>gw(n,r))&&bo(this.baseMutations,e.baseMutations,(n,r)=>gw(n,r))}}class Eg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return RM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Eg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $M=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,we;function HM(t){switch(t){case U.OK:return se(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return se(15467,{code:t})}}function BS(t){if(t===void 0)return Er("GRPC error has no .code"),U.UNKNOWN;switch(t){case tt.OK:return U.OK;case tt.CANCELLED:return U.CANCELLED;case tt.UNKNOWN:return U.UNKNOWN;case tt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case tt.INTERNAL:return U.INTERNAL;case tt.UNAVAILABLE:return U.UNAVAILABLE;case tt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case tt.NOT_FOUND:return U.NOT_FOUND;case tt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case tt.ABORTED:return U.ABORTED;case tt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case tt.DATA_LOSS:return U.DATA_LOSS;default:return se(39323,{code:t})}}(we=tt||(tt={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=new ai([4294967295,4294967295],0);function ww(t){const e=dS().encode(t),n=new rS;return n.update(e),new Uint8Array(n.digest())}function _w(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ai([n,r],0),new ai([i,s],0)]}class xg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ca(`Invalid padding: ${n}`);if(r<0)throw new Ca(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ca(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ca(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ai.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(ai.fromNumber(r)));return i.compare(WM)===1&&(i=new ai([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=ww(e),[r,i]=_w(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.Se(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new xg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=ww(e),[r,i]=_w(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ca extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ol.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ud(ae.min(),i,new Ke(he),xr(),ye())}}class Ol{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ol(r,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class HS{constructor(e,n){this.targetId=e,this.Ce=n}}class WS{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ew{constructor(){this.Fe=0,this.Me=xw(),this.xe=_t.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ye(),n=ye(),r=ye();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se(38017,{changeType:s})}}),new Ol(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=xw()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ae(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class KM{constructor(e){this.ze=e,this.je=new Map,this.He=xr(),this.Je=ku(),this.Ye=ku(),this.Ze=new Ke(he)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(Op(s))if(r===0){const o=new ie(s.path);this.tt(n,o,Nt.newNoDocument(o,ae.min()))}else Ae(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),u=a?this.lt(a,e,o):1;if(u!==0){this.st(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=wi(r).toUint8Array()}catch(u){if(u instanceof mS)return Co("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new xg(o,i,s)}catch(u){return Co(u instanceof Ca?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&Op(a.target)){const u=new ie(a.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,Nt.newNoDocument(u,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=ye();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this._t(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new Ud(e,n,this.Ze,this.He,r);return this.He=xr(),this.Je=ku(),this.Ye=ku(),this.Ze=new Ke(he),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Ew,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new ut(he),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new ut(he),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ew),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function ku(){return new Ke(ie.comparator)}function xw(){return new Ke(ie.comparator)}const qM={asc:"ASCENDING",desc:"DESCENDING"},GM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QM={and:"AND",or:"OR"};class YM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mp(t,e){return t.useProto3Json||Od(e)?e:{value:e}}function Qc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XM(t,e){return Qc(t,e.toTimestamp())}function Yn(t){return Ae(!!t,49232),ae.fromTimestamp(function(n){const r=vi(n);return new lt(r.seconds,r.nanos)}(t))}function Tg(t,e){return jp(t,e).canonicalString()}function jp(t,e){const n=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function qS(t){const e=$e.fromString(t);return Ae(JS(e),10190,{key:e.toString()}),e}function Lp(t,e){return Tg(t.databaseId,e.path)}function of(t,e){const n=qS(e);if(n.get(1)!==t.databaseId.projectId)throw new te(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(QS(n))}function GS(t,e){return Tg(t.databaseId,e)}function JM(t){const e=qS(t);return e.length===4?$e.emptyPath():QS(e)}function Fp(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QS(t){return Ae(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Tw(t,e,n){return{name:Lp(t,e),fields:n.value.mapValue.fields}}function ZM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:se(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Ae(d===void 0||typeof d=="string",58123),_t.fromBase64String(d||"")):(Ae(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),_t.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?U.UNKNOWN:BS(c.code);return new te(d,c.message||"")}(o);n=new WS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=of(t,r.document.name),s=Yn(r.document.updateTime),o=r.document.createTime?Yn(r.document.createTime):ae.min(),a=new Kt({mapValue:{fields:r.document.fields}}),u=Nt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new rc(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=of(t,r.document),s=r.readTime?Yn(r.readTime):ae.min(),o=Nt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new rc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=of(t,r.document),s=r.removedTargetIds||[];n=new rc([],s,i,null)}else{if(!("filter"in e))return se(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new BM(i,s),a=r.targetId;n=new HS(a,o)}}return n}function ej(t,e){let n;if(e instanceof Dl)n={update:Tw(t,e.key,e.value)};else if(e instanceof _g)n={delete:Lp(t,e.key)};else if(e instanceof Pi)n={update:Tw(t,e.key,e.data),updateMask:uj(e.fieldMask)};else{if(!(e instanceof zM))return se(16599,{ft:e.type});n={verify:Lp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof qc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof yl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gc)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw se(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:XM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se(27497)}(t,e.precondition)),n}function tj(t,e){return t&&t.length>0?(Ae(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Yn(i.updateTime):Yn(s);return o.isEqual(ae.min())&&(o=Yn(s)),new jM(o,i.transformResults||[])}(n,e))):[]}function nj(t,e){return{documents:[GS(t,e.path)]}}function rj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=GS(t,i);const s=function(c){if(c.length!==0)return XS(Zn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(h){return{field:Ps(h.field),direction:oj(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Mp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:i}}function ij(t){let e=JM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ae(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){const h=YS(p);return h instanceof Zn&&bS(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(h=>function(x){return new Kc(Ns(x.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(p){let h;return h=typeof p=="object"?p.value:p,Od(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(p){const h=!!p.before,m=p.values||[];return new Wc(m,h)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const h=!p.before,m=p.values||[];return new Wc(m,h)}(n.endAt)),TM(e,i,o,s,a,"F",u,c)}function sj(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ns(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ns(n.unaryFilter.field);return ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ns(n.unaryFilter.field);return ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ns(n.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(t):t.fieldFilter!==void 0?function(n){return ot.create(Ns(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zn.create(n.compositeFilter.filters.map(r=>YS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(n.compositeFilter.op))}(t):se(30097,{filter:t})}function oj(t){return qM[t]}function aj(t){return GM[t]}function lj(t){return QM[t]}function Ps(t){return{fieldPath:t.canonicalString()}}function Ns(t){return yt.fromServerFormat(t.fieldPath)}function XS(t){return t instanceof ot?function(n){if(n.op==="=="){if(cw(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NAN"}};if(uw(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cw(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NAN"}};if(uw(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(n.field),op:aj(n.op),value:n.value}}}(t):t instanceof Zn?function(n){const r=n.getFilters().map(i=>XS(i));return r.length===1?r[0]:{compositeFilter:{op:lj(n.op),filters:r}}}(t):se(54877,{filter:t})}function uj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function JS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n,r,i,s=ae.min(),o=ae.min(),a=_t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.wt=e}}function dj(t){const e=ij({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(){this.Cn=new fj}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(yi.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(yi.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class fj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ut($e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZS=41943040;class Ht{static withCacheSize(e){return new Ht(e,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ht.DEFAULT_COLLECTION_PERCENTILE=10,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ht.DEFAULT=new Ht(ZS,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ht.DISABLED=new Ht(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ro(0)}static lr(){return new Ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="LruGarbageCollector",pj=1048576;function bw([t,e],[n,r]){const i=he(t,n);return i===0?he(e,r):i}class mj{constructor(e){this.Er=e,this.buffer=new ut(bw),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){G(Cw,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ho(n)?G(Cw,"Ignoring IndexedDB error during garbage collection: ",n):await Bo(n)}await this.mr(3e5)})}}class yj{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(Dd.le);const r=new mj(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Sw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sw):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,s,o,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),Is()<=_e.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function vj(t,e){return new yj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(){this.changes=new vs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&za(r.mutation,i,rn.empty(),lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){const i=qi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Sa();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=qi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=xr();const o=Fa(),a=function(){return Fa()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Pi)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),za(d.mutation,c,d.mutation.getFieldMask(),lt.now())):o.set(c.key,rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var p;return a.set(c,new _j(d,(p=o.get(c))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Fa();let i=new Ke((o,a)=>o-a),s=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||rn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const p=(i.get(a.batchId)||ye()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,p=VS();d.forEach(h=>{if(!s.has(h)){const m=US(n.get(h),r.get(h));m!==null&&p.set(h,m),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(qi());let a=hl,u=s;return o.next(c=>F.forEach(c,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{u=u.insert(d,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ye())).next(d=>({batchId:a,changes:OS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=Sa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Sa();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,u=>{const c=function(p,h){return new Md(h,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((p,h)=>{o=o.insert(p,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Nt.newInvalidDocument(d)))});let a=Sa();return o.forEach((u,c)=>{const d=s.get(u);d!==void 0&&za(d.mutation,c,rn.empty(),lt.now()),Ld(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return F.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Yn(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:dj(i.bundledQuery),readTime:Yn(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(){this.overlays=new Ke(ie.comparator),this.Qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qi();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.bt(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=qi(),s=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ke((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=qi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=qi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return F.resolve(a)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $M(n,r));let s=this.Qr.get(n);s===void 0&&(s=ye(),this.Qr.set(n,s)),this.Qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(){this.sessionToken=_t.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(){this.$r=new ut(ct.Ur),this.Kr=new ut(ct.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new ct(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new ct(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ie(new $e([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ie(new $e([])),r=new ct(n,e),i=new ct(n,e+1);let s=ye();return this.Kr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ie.comparator(e.key,n.key)||he(e.Zr,n.Zr)}static Wr(e,n){return he(e.Zr,n.Zr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new ut(ct.Ur)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new UM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Xr=this.Xr.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?pg:this.nr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],o=>{const a=this.ei(o.Zr);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(he);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],a=>{r=r.add(a.Zr)})}),F.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ie.isDocumentKey(s)||(s=s.child(""));const o=new ct(new ie(s),0);let a=new ut(he);return this.Xr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.Zr)),!0)},o),F.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return F.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new ct(n,0),i=this.Xr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this.ii=e,this.docs=function(){return new Ke(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(e,n){let r=xr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Nt.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=xr();const o=n.path,a=new ie(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||nM(tM(d),r)<=0||(i.has(d.key)||Ld(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se(9500)}si(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Aj(this)}getSize(e){return F.resolve(this.size)}}class Aj extends wj{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.persistence=e,this.oi=new vs(n=>yg(n),vg),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this._i=0,this.ai=new Sg,this.targetCount=0,this.ui=Ro.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),F.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ro(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Tr(n),F.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n){this.ci={},this.overlays={},this.li=new Dd(0),this.hi=!1,this.hi=!0,this.Pi=new Sj,this.referenceDelegate=e(this),this.Ti=new Ij(this),this.indexManager=new hj,this.remoteDocumentCache=function(i){return new bj(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new cj(n),this.Ei=new xj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Tj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new Cj(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new Rj(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,n){return F.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class Rj extends iM{constructor(e){super(),this.currentSequenceNumber=e}}class Cg{constructor(e){this.persistence=e,this.Vi=new Sg,this.mi=null}static fi(e){return new Cg(e)}get gi(){if(this.mi)return this.mi;throw se(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.gi,r=>{const i=ie.fromPath(r);return this.pi(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return F.or([()=>F.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Yc{constructor(e,n){this.persistence=e,this.yi=new vs(r=>aM(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=vj(this,n)}static fi(e,n){return new Yc(e,n)}di(){}Ai(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return F.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ae.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ec(e.data.value)),n}Dr(e,n,r){return F.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=ye(),i=ye();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new bg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return CO()?8:sM(TO())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ws(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Pj;return this.bs(e,n,o).next(a=>{if(s.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>s.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Is()<=_e.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Rs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),F.resolve()):(Is()<=_e.DEBUG&&G("QueryEngine","Query:",Rs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Is()<=_e.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Rs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(n))):F.resolve())}ws(e,n){if(pw(n))return F.resolve(null);let r=Qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Vp(n,null,"F"),r=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ye(...s);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.vs(n,a);return this.Cs(n,c,o,u.readTime)?this.ws(e,Vp(n,null,"F")):this.Fs(e,c,n,u)}))})))}Ss(e,n,r,i){return pw(n)||i.isEqual(ae.min())?F.resolve(null):this.ys.getDocuments(e,r).next(s=>{const o=this.vs(n,s);return this.Cs(n,o,r,i)?F.resolve(null):(Is()<=_e.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Rs(n)),this.Fs(e,o,n,eM(i,hl)).next(a=>a))})}vs(e,n){let r=new ut(kS(e));return n.forEach((i,s)=>{Ld(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}bs(e,n,r){return Is()<=_e.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Rs(n)),this.ys.getDocumentsMatchingQuery(e,n,yi.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="LocalStore",kj=3e8;class Dj{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Ke(he),this.Os=new vs(s=>yg(s),vg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ej(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function Oj(t,e,n,r){return new Dj(t,e,n,r)}async function tC(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ye();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({ks:c,removedBatchIds:o,addedBatchIds:a}))})})}function Vj(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const p=c.batch,h=p.keys();let m=F.resolve();return h.forEach(x=>{m=m.next(()=>d.getEntry(u,x)).next(v=>{const T=c.docVersions.get(x);Ae(T!==null,48541),v.version.compareTo(T)<0&&(p.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),d.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ye();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function nC(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function Mj(t,e){const n=le(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];e.targetChanges.forEach((d,p)=>{const h=i.get(p);if(!h)return;a.push(n.Ti.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(s,d.addedDocuments,p)));let m=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(_t.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(p,m),function(v,T,E){return v.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=kj?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(h,m,d)&&a.push(n.Ti.updateTargetData(s,m))});let u=xr(),c=ye();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(jj(s,o,e.documentUpdates).next(d=>{u=d.qs,c=d.Qs})),!r.isEqual(ae.min())){const d=n.Ti.getLastRemoteSnapshotVersion(s).next(p=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.xs=i,s))}function jj(t,e,n){let r=ye(),i=ye();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=xr();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):G(Ag,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{qs:o,Qs:i}})}function Lj(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=pg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Fj(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Ti.allocateTargetId(r).next(o=>(i=new Qr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function zp(t,e,n){const r=le(t),i=r.xs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ho(o))throw o;G(Ag,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function Aw(t,e,n){const r=le(t);let i=ae.min(),s=ye();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const p=le(u),h=p.Os.get(d);return h!==void 0?F.resolve(p.xs.get(h)):p.Ti.getTargetData(c,d)}(r,o,Qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?i:ae.min(),n?s:ye())).next(a=>(zj(r,bM(e),a),{documents:a,$s:s})))}function zj(t,e,n){let r=t.Ns.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ns.set(e,r)}class Iw{constructor(){this.activeTargetIds=kM()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uj{constructor(){this.xo=new Iw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Iw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="ConnectivityMonitor";class Pw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){G(Rw,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){G(Rw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du=null;function Up(){return Du===null?Du=function(){return 268435456+Math.round(2147483648*Math.random())}():Du++,"0x"+Du.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af="RestConnection",Bj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Hj{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Bc?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,s){const o=Up(),a=this.jo(e,n.toUriEncodedString());G(af,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,s);const{host:c}=new URL(a),d=dg(c);return this.Jo(e,a,u,r,d).then(p=>(G(af,`Received RPC '${e}' ${o}: `,p),p),p=>{throw Co(af,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,n,r,i,s,o){return this.zo(e,n,r,i,s)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$o}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,n){const r=Bj[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At="WebChannelConnection";class Kj extends Hj{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=Up();return new Promise((a,u)=>{const c=new iS;c.setWithCredentials(!0),c.listenOnce(sS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Zu.NO_ERROR:const p=c.getResponseJson();G(At,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case Zu.TIMEOUT:G(At,`RPC '${e}' ${o} timed out`),u(new te(U.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const h=c.getStatus();if(G(At,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const x=m==null?void 0:m.error;if(x&&x.status&&x.message){const v=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(_)>=0?_:U.UNKNOWN}(x.status);u(new te(v,x.message))}else u(new te(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new te(U.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{G(At,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);G(At,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",d,r,15)})}T_(e,n,r){const i=Up(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lS(),a=aS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");G(At,`Creating RPC '${e}' stream ${i}: ${d}`,u);const p=o.createWebChannel(d,u);let h=!1,m=!1;const x=new Wj({Zo:T=>{m?G(At,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(h||(G(At,`Opening RPC '${e}' stream ${i} transport.`),p.open(),h=!0),G(At,`RPC '${e}' stream ${i} sending:`,T),p.send(T))},Xo:()=>p.close()}),v=(T,E,_)=>{T.listen(E,S=>{try{_(S)}catch(N){setTimeout(()=>{throw N},0)}})};return v(p,Ta.EventType.OPEN,()=>{m||(G(At,`RPC '${e}' stream ${i} transport opened.`),x.__())}),v(p,Ta.EventType.CLOSE,()=>{m||(m=!0,G(At,`RPC '${e}' stream ${i} transport closed`),x.u_())}),v(p,Ta.EventType.ERROR,T=>{m||(m=!0,Co(At,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),x.u_(new te(U.UNAVAILABLE,"The operation could not be completed")))}),v(p,Ta.EventType.MESSAGE,T=>{var E;if(!m){const _=T.data[0];Ae(!!_,16349);const S=_,N=(S==null?void 0:S.error)||((E=S[0])===null||E===void 0?void 0:E.error);if(N){G(At,`RPC '${e}' stream ${i} received error:`,N);const k=N.status;let V=function(I){const R=tt[I];if(R!==void 0)return BS(R)}(k),b=N.message;V===void 0&&(V=U.INTERNAL,b="Unknown error status: "+k+" with message "+N.message),m=!0,x.u_(new te(V,b)),p.close()}else G(At,`RPC '${e}' stream ${i} received:`,_),x.c_(_)}}),v(a,oS.STAT_EVENT,T=>{T.stat===Rp.PROXY?G(At,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===Rp.NOPROXY&&G(At,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}}function lf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(t){return new YM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=i,this.d_=s,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="PersistentStream";class iC{constructor(e,n,r,i,s,o,a,u){this.xi=e,this.y_=r,this.w_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new rC(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Er(n.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===n&&this.K_(r,i)},r=>{e(()=>{const i=new te(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return G(Nw,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(G(Nw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qj extends iC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=ZM(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?Yn(o.readTime):ae.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=Fp(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Op(u)?{documents:nj(s,u)}:{query:rj(s,u).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=KS(s,o.resumeToken);const c=Mp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=Qc(s,o.snapshotVersion.toTimestamp());const c=Mp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=sj(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=Fp(this.serializer),n.removeTarget=e,this.L_(n)}}class Gj extends iC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=tj(e.writeResults,e.commitTime),r=Yn(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=Fp(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ej(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{}class Yj extends Qj{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new te(U.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,jp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(U.UNKNOWN,s.toString())})}Yo(e,n,r,i,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,jp(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(U.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class Xj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Er(n),this.oa=!1):G("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="RemoteStore";class Jj{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=s,this.Ea.No(o=>{r.enqueueAndForget(async()=>{ws(this)&&(G(ds,"Restarting streams for network reachability change."),await async function(u){const c=le(u);c.Ta.add(4),await Vl(c),c.da.set("Unknown"),c.Ta.delete(4),await Bd(c)}(this))})}),this.da=new Xj(r,i)}}async function Bd(t){if(ws(t))for(const e of t.Ia)await e(!0)}async function Vl(t){for(const e of t.Ia)await e(!1)}function sC(t,e){const n=le(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),Ng(n)?Pg(n):Wo(n).M_()&&Rg(n,e))}function Ig(t,e){const n=le(t),r=Wo(n);n.Pa.delete(e),r.M_()&&oC(n,e),n.Pa.size===0&&(r.M_()?r.N_():ws(n)&&n.da.set("Unknown"))}function Rg(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wo(t).H_(e)}function oC(t,e){t.Aa.Ke(e),Wo(t).J_(e)}function Pg(t){t.Aa=new KM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Wo(t).start(),t.da._a()}function Ng(t){return ws(t)&&!Wo(t).F_()&&t.Pa.size>0}function ws(t){return le(t).Ta.size===0}function aC(t){t.Aa=void 0}async function Zj(t){t.da.set("Online")}async function eL(t){t.Pa.forEach((e,n)=>{Rg(t,e)})}async function tL(t,e){aC(t),Ng(t)?(t.da.ca(e),Pg(t)):t.da.set("Unknown")}async function nL(t,e,n){if(t.da.set("Online"),e instanceof WS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Pa.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Pa.delete(a),i.Aa.removeTarget(a))}(t,e)}catch(r){G(ds,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xc(t,r)}else if(e instanceof rc?t.Aa.Xe(e):e instanceof HS?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(ae.min()))try{const r=await nC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Aa.It(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Pa.get(c);d&&s.Pa.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=s.Pa.get(u);if(!d)return;s.Pa.set(u,d.withResumeToken(_t.EMPTY_BYTE_STRING,d.snapshotVersion)),oC(s,u);const p=new Qr(d.target,u,c,d.sequenceNumber);Rg(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(ds,"Failed to raise snapshot:",r),await Xc(t,r)}}async function Xc(t,e,n){if(!Ho(e))throw e;t.Ta.add(1),await Vl(t),t.da.set("Offline"),n||(n=()=>nC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(ds,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await Bd(t)})}function lC(t,e){return e().catch(n=>Xc(t,n,e))}async function Hd(t){const e=le(t),n=Ei(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:pg;for(;rL(e);)try{const i=await Lj(e.localStore,r);if(i===null){e.ha.length===0&&n.N_();break}r=i.batchId,iL(e,i)}catch(i){await Xc(e,i)}uC(e)&&cC(e)}function rL(t){return ws(t)&&t.ha.length<10}function iL(t,e){t.ha.push(e);const n=Ei(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function uC(t){return ws(t)&&!Ei(t).F_()&&t.ha.length>0}function cC(t){Ei(t).start()}async function sL(t){Ei(t).ta()}async function oL(t){const e=Ei(t);for(const n of t.ha)e.Z_(n.mutations)}async function aL(t,e,n){const r=t.ha.shift(),i=Eg.from(r,e,n);await lC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hd(t)}async function lL(t,e){e&&Ei(t).Y_&&await async function(r,i){if(function(o){return HM(o)&&o!==U.ABORTED}(i.code)){const s=r.ha.shift();Ei(r).O_(),await lC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Hd(r)}}(t,e),uC(t)&&cC(t)}async function kw(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),G(ds,"RemoteStore received new credentials");const r=ws(n);n.Ta.add(3),await Vl(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await Bd(n)}async function uL(t,e){const n=le(t);e?(n.Ta.delete(2),await Bd(n)):e||(n.Ta.add(2),await Vl(n),n.da.set("Unknown"))}function Wo(t){return t.Ra||(t.Ra=function(n,r,i){const s=le(n);return s.ra(),new qj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:Zj.bind(null,t),n_:eL.bind(null,t),i_:tL.bind(null,t),j_:nL.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),Ng(t)?Pg(t):t.da.set("Unknown")):(await t.Ra.stop(),aC(t))})),t.Ra}function Ei(t){return t.Va||(t.Va=function(n,r,i){const s=le(n);return s.ra(),new Gj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:sL.bind(null,t),i_:lL.bind(null,t),X_:oL.bind(null,t),ea:aL.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await Hd(t)):(await t.Va.stop(),t.ha.length>0&&(G(ds,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new kg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dg(t,e){if(Er("AsyncQueue",`${e}: ${t}`),Ho(t))return new te(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=Sa(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new io;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.ma=new Ke(ie.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):se(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class Po{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Po(e,n,io.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class dL{constructor(){this.queries=Ow(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const i=le(n),s=i.queries;i.queries=Ow(),s.forEach((o,a)=>{for(const u of a.ya)u.onError(r)})})(this,new te(U.ABORTED,"Firestore shutting down"))}}function Ow(){return new vs(t=>NS(t),jd)}async function hL(t,e){const n=le(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.wa()&&e.Sa()&&(r=2):(s=new cL,r=e.Sa()?0:1);try{switch(r){case 0:s.pa=await n.onListen(i,!0);break;case 1:s.pa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Dg(o,`Initialization of query '${Rs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ya.push(e),e.Da(n.onlineState),s.pa&&e.va(s.pa)&&Og(n)}async function fL(t,e){const n=le(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ya.indexOf(e);o>=0&&(s.ya.splice(o,1),s.ya.length===0?i=e.Sa()?0:1:!s.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pL(t,e){const n=le(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ya)a.va(i)&&(r=!0);o.pa=i}}r&&Og(n)}function mL(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const s of i.ya)s.onError(n);r.queries.delete(e)}function Og(t){t.ba.forEach(e=>{e.next()})}var $p,Vw;(Vw=$p||($p={})).Ca="default",Vw.Cache="cache";class gL{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Po(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=Po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==$p.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.key=e}}class hC{constructor(e){this.key=e}}class yL{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=ye(),this.mutatedKeys=ye(),this.Ha=kS(e),this.Ja=new io(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new Dw,i=n?n.Ja:this.Ja;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const h=i.get(d),m=Ld(this.query,p)?p:null,x=!!h&&this.mutatedKeys.has(h.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let T=!1;h&&m?h.data.isEqual(m.data)?x!==v&&(r.track({type:3,doc:m}),T=!0):this.eu(h,m)||(r.track({type:2,doc:m}),T=!0,(u&&this.Ha(m,u)>0||c&&this.Ha(m,c)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),T=!0):h&&!m&&(r.track({type:1,doc:h}),T=!0,(u||c)&&(a=!0)),T&&(m?(o=o.add(m),s=v?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ja:o,Xa:r,Cs:a,mutatedKeys:s}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((d,p)=>function(m,x){const v=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Vt:T})}};return v(m)-v(x)}(d.type,p.type)||this.Ha(d.doc,p.doc)),this.tu(r),i=i!=null&&i;const a=n&&!i?this.nu():[],u=this.ja.size===0&&this.current&&!i?1:0,c=u!==this.za;return this.za=u,o.length!==0||c?{snapshot:new Po(this.query,e.Ja,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Dw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=ye(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new hC(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new dC(r))}),n}su(e){this.Ga=e.$s,this.ja=ye();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return Po.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Vg="SyncEngine";class vL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class wL{constructor(e){this.key=e,this._u=!1}}class _L{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new vs(a=>NS(a),jd),this.cu=new Map,this.lu=new Set,this.hu=new Ke(ie.comparator),this.Pu=new Map,this.Tu=new Sg,this.Iu={},this.Eu=new Map,this.du=Ro.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function EL(t,e,n=!0){const r=vC(t);let i;const s=r.uu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ou()):i=await fC(r,e,n,!0),i}async function xL(t,e){const n=vC(t);await fC(n,e,!0,!1)}async function fC(t,e,n,r){const i=await Fj(t.localStore,Qn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await TL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&sC(t.remoteStore,i),a}async function TL(t,e,n,r,i){t.Ru=(p,h,m)=>async function(v,T,E,_){let S=T.view.Za(E);S.Cs&&(S=await Aw(v.localStore,T.query,!1).then(({documents:b})=>T.view.Za(b,S)));const N=_&&_.targetChanges.get(T.targetId),k=_&&_.targetMismatches.get(T.targetId)!=null,V=T.view.applyChanges(S,v.isPrimaryClient,N,k);return jw(v,T.targetId,V.ru),V.snapshot}(t,p,h,m);const s=await Aw(t.localStore,e,!0),o=new yL(e,s.$s),a=o.Za(s.documents),u=Ol.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);jw(t,n,c.ru);const d=new vL(e,n,o);return t.uu.set(e,d),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),c.snapshot}async function SL(t,e,n){const r=le(t),i=r.uu.get(e),s=r.cu.get(i.targetId);if(s.length>1)return r.cu.set(i.targetId,s.filter(o=>!jd(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await zp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ig(r.remoteStore,i.targetId),Bp(r,i.targetId)}).catch(Bo)):(Bp(r,i.targetId),await zp(r.localStore,i.targetId,!0))}async function CL(t,e){const n=le(t),r=n.uu.get(e),i=n.cu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ig(n.remoteStore,r.targetId))}async function bL(t,e,n){const r=DL(t);try{const i=await function(o,a){const u=le(o),c=lt.now(),d=a.reduce((m,x)=>m.add(x.key),ye());let p,h;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let x=xr(),v=ye();return u.Bs.getEntries(m,d).next(T=>{x=T,x.forEach((E,_)=>{_.isValidDocument()||(v=v.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,x)).next(T=>{p=T;const E=[];for(const _ of a){const S=FM(_,p.get(_.key).overlayedDocument);S!=null&&E.push(new Pi(_.key,S,TS(S.value.mapValue),Nn.exists(!0)))}return u.mutationQueue.addMutationBatch(m,c,E,a)}).next(T=>{h=T;const E=T.applyToLocalDocumentSet(p,v);return u.documentOverlayCache.saveOverlays(m,T.batchId,E)})}).then(()=>({batchId:h.batchId,changes:OS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Iu[o.currentUser.toKey()];c||(c=new Ke(he)),c=c.insert(a,u),o.Iu[o.currentUser.toKey()]=c}(r,i.batchId,n),await Ml(r,i.changes),await Hd(r.remoteStore)}catch(i){const s=Dg(i,"Failed to persist write");n.reject(s)}}async function pC(t,e){const n=le(t);try{const r=await Mj(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Pu.get(s);o&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o._u=!0:i.modifiedDocuments.size>0?Ae(o._u,14607):i.removedDocuments.size>0&&(Ae(o._u,42227),o._u=!1))}),await Ml(n,r,e)}catch(r){await Bo(r)}}function Mw(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.uu.forEach((s,o)=>{const a=o.view.Da(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=le(o);u.onlineState=a;let c=!1;u.queries.forEach((d,p)=>{for(const h of p.ya)h.Da(a)&&(c=!0)}),c&&Og(u)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AL(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Pu.get(e),s=i&&i.key;if(s){let o=new Ke(ie.comparator);o=o.insert(s,Nt.newNoDocument(s,ae.min()));const a=ye().add(s),u=new Ud(ae.min(),new Map,new Ke(he),o,a);await pC(r,u),r.hu=r.hu.remove(s),r.Pu.delete(e),Mg(r)}else await zp(r.localStore,e,!1).then(()=>Bp(r,e,n)).catch(Bo)}async function IL(t,e){const n=le(t),r=e.batch.batchId;try{const i=await Vj(n.localStore,e);gC(n,r,null),mC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ml(n,i)}catch(i){await Bo(i)}}async function RL(t,e,n){const r=le(t);try{const i=await function(o,a){const u=le(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(p=>(Ae(p!==null,37113),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);gC(r,e,n),mC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ml(r,i)}catch(i){await Bo(i)}}function mC(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function gC(t,e,n){const r=le(t);let i=r.Iu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function Bp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||yC(t,r)})}function yC(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(Ig(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),Mg(t))}function jw(t,e,n){for(const r of n)r instanceof dC?(t.Tu.addReference(r.key,e),PL(t,r)):r instanceof hC?(G(Vg,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||yC(t,r.key)):se(19791,{mu:r})}function PL(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(G(Vg,"New document in limbo: "+n),t.lu.add(r),Mg(t))}function Mg(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new ie($e.fromString(e)),r=t.du.next();t.Pu.set(r,new wL(n)),t.hu=t.hu.insert(n,r),sC(t.remoteStore,new Qr(Qn(PS(n.path)),r,"TargetPurposeLimboResolution",Dd.le))}}async function Ml(t,e,n){const r=le(t),i=[],s=[],o=[];r.uu.isEmpty()||(r.uu.forEach((a,u)=>{o.push(r.Ru(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=bg.Rs(u.targetId,c);s.push(p)}}))}),await Promise.all(o),r.au.j_(i),await async function(u,c){const d=le(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(c,h=>F.forEach(h.ds,m=>d.persistence.referenceDelegate.addReference(p,h.targetId,m)).next(()=>F.forEach(h.As,m=>d.persistence.referenceDelegate.removeReference(p,h.targetId,m)))))}catch(p){if(!Ho(p))throw p;G(Ag,"Failed to update sequence numbers: "+p)}for(const p of c){const h=p.targetId;if(!p.fromCache){const m=d.xs.get(h),x=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(x);d.xs=d.xs.insert(h,v)}}}(r.localStore,s))}async function NL(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){G(Vg,"User change. New user:",e.toKey());const r=await tC(n.localStore,e);n.currentUser=e,function(s,o){s.Eu.forEach(a=>{a.forEach(u=>{u.reject(new te(U.CANCELLED,o))})}),s.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ml(n,r.ks)}}function kL(t,e){const n=le(t),r=n.Pu.get(e);if(r&&r._u)return ye().add(r.key);{let i=ye();const s=n.cu.get(e);if(!s)return i;for(const o of s){const a=n.uu.get(o);i=i.unionWith(a.view.Ya)}return i}}function vC(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AL.bind(null,e),e.au.j_=pL.bind(null,e.eventManager),e.au.Vu=mL.bind(null,e.eventManager),e}function DL(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RL.bind(null,e),e}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$d(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return Oj(this.persistence,new Nj,e.initialUser,this.serializer)}yu(e){return new eC(Cg.fi,this.serializer)}pu(e){return new Uj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class OL extends Jc{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Ae(this.persistence.referenceDelegate instanceof Yc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gj(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?Ht.withCacheSize(this.cacheSizeBytes):Ht.DEFAULT;return new eC(r=>Yc.fi(r,n),this.serializer)}}class Hp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Mw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NL.bind(null,this.syncEngine),await uL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dL}()}createDatastore(e){const n=$d(e.databaseInfo.databaseId),r=function(s){return new Kj(s)}(e.databaseInfo);return function(s,o,a,u){return new Yj(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Jj(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Mw(this.syncEngine,n,0),function(){return Pw.C()?new Pw:new $j}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,d){const p=new _L(i,s,o,a,u,c);return d&&(p.Au=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=le(i);G(ds,"RemoteStore shutting down."),s.Ta.add(5),await Vl(s),s.Ea.shutdown(),s.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hp.provider={build:()=>new Hp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="FirestoreClient";class ML{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=hS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{G(xi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(xi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Dg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function uf(t,e){t.asyncQueue.verifyOperationInProgress(),G(xi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await tC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Lw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jL(t);G(xi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>kw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>kw(e.remoteStore,i)),t._onlineComponents=e}async function jL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(xi,"Using user provided OfflineComponentProvider");try{await uf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Co("Error using user provided cache. Falling back to memory cache: "+n),await uf(t,new Jc)}}else G(xi,"Using default OfflineComponentProvider"),await uf(t,new OL(void 0));return t._offlineComponents}async function wC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(xi,"Using user provided OnlineComponentProvider"),await Lw(t,t._uninitializedComponentsProvider._online)):(G(xi,"Using default OnlineComponentProvider"),await Lw(t,new Hp))),t._onlineComponents}function LL(t){return wC(t).then(e=>e.syncEngine)}async function FL(t){const e=await wC(t),n=e.eventManager;return n.onListen=EL.bind(null,e.syncEngine),n.onUnlisten=SL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CL.bind(null,e.syncEngine),n}function zL(t,e,n={}){const r=new li;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const d=new VL({next:h=>{d.Cu(),o.enqueueAndForget(()=>fL(s,p)),h.fromCache&&u.source==="server"?c.reject(new te(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),p=new gL(a,d,{includeMetadataChanges:!0,La:!0});return hL(s,p)}(await FL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t,e,n){if(!n)throw new te(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UL(t,e,n,r){if(e===!0&&r===!0)throw new te(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zw(t){if(!ie.isDocumentKey(t))throw new te(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Uw(t){if(ie.isDocumentKey(t))throw new te(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se(12329,{type:typeof t})}function hs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jg(t);throw new te(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="firestore.googleapis.com",$w=!0;class Bw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xC,this.ssl=$w}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:$w;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pj)throw new te(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_C((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new WV;switch(r.type){case"firstParty":return new QV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Fw.get(n);r&&(G("ComponentProvider","Removing Datastore"),Fw.delete(n),r.terminate())}(this),Promise.resolve()}}function $L(t,e,n,r={}){var i;t=hs(t,Wd);const s=dg(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;s&&(vO(`https://${u}`),xO("Firestore",!0)),o.host!==xC&&o.host!==u&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:u,ssl:s,emulatorOptions:r});if(!Fc(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=Rt.MOCK_USER;else{d=wO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new te(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Rt(h)}t._authCredentials=new KV(new cS(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kd(this.firestore,e,this._query)}}class vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class ui extends Kd{constructor(e,n,r){super(e,n,PS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new ie(e))}withConverter(e){return new ui(this.firestore,e,this._path)}}function qd(t,e,...n){if(t=gi(t),EC("collection","path",e),t instanceof Wd){const r=$e.fromString(e,...n);return Uw(r),new ui(t,null,r)}{if(!(t instanceof vn||t instanceof ui))throw new te(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return Uw(r),new ui(t.firestore,null,r)}}function jl(t,e,...n){if(t=gi(t),arguments.length===1&&(e=hS.newId()),EC("doc","path",e),t instanceof Wd){const r=$e.fromString(e,...n);return zw(r),new vn(t,null,new ie(r))}{if(!(t instanceof vn||t instanceof ui))throw new te(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return zw(r),new vn(t.firestore,t instanceof ui?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="AsyncQueue";class Ww{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new rC(this,"async_queue_retry"),this.ec=()=>{const r=lf();r&&G(Hw,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=lf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=lf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new li;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Ho(e))throw e;G(Hw,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Er("INTERNAL UNHANDLED ERROR: ",Kw(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const i=kg.createAndSchedule(this,e,n,r,s=>this.oc(s));return this.Hu.push(i),i}nc(){this.Ju&&se(47125,{_c:Kw(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function Kw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ll extends Wd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Ww,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ww(e),this._firestoreClient=void 0,await e}}}function BL(t,e){const n=typeof t=="object"?t:kV(),r=typeof t=="string"?t:Bc,i=AV(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=gO("firestore");s&&$L(i,...s)}return i}function TC(t){if(t._terminated)throw new te(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||HL(t),t._firestoreClient}function HL(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,d){return new cM(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,_C(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new ML(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this._byteString=e}static fromBase64String(e){try{return new No(_t.fromBase64String(e))}catch(n){throw new te(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new No(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=/^__.*__$/;class KL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Pi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dl(e,this.data,n,this.fieldTransforms)}}class SC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Pi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function CC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{hc:t})}}class Ug{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Ug(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Zc(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(CC(this.hc)&&WL.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class qL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$d(e)}gc(e,n,r,i=!1){return new Ug({hc:e,methodName:n,fc:r,path:yt.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bC(t){const e=t._freezeSettings(),n=$d(t._databaseId);return new qL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GL(t,e,n,r,i,s={}){const o=t.gc(s.merge||s.mergeFields?2:0,e,n,i);$g("Data must be an object, but it was:",o,r);const a=AC(r,o);let u,c;if(s.merge)u=new rn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const h=Wp(e,p,n);if(!o.contains(h))throw new te(U.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);RC(d,h)||d.push(h)}u=new rn(d),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new KL(new Kt(a),u,c)}class Qd extends Lg{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qd}}function QL(t,e,n,r){const i=t.gc(1,e,n);$g("Data must be an object, but it was:",i,r);const s=[],o=Kt.empty();Ri(r,(u,c)=>{const d=Bg(e,u,n);c=gi(c);const p=i.Ac(d);if(c instanceof Qd)s.push(d);else{const h=Yd(c,p);h!=null&&(s.push(d),o.set(d,h))}});const a=new rn(s);return new SC(o,a,i.fieldTransforms)}function YL(t,e,n,r,i,s){const o=t.gc(1,e,n),a=[Wp(e,r,n)],u=[i];if(s.length%2!=0)throw new te(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Wp(e,s[h])),u.push(s[h+1]);const c=[],d=Kt.empty();for(let h=a.length-1;h>=0;--h)if(!RC(c,a[h])){const m=a[h];let x=u[h];x=gi(x);const v=o.Ac(m);if(x instanceof Qd)c.push(m);else{const T=Yd(x,v);T!=null&&(c.push(m),d.set(m,T))}}const p=new rn(c);return new SC(d,p,o.fieldTransforms)}function Yd(t,e){if(IC(t=gi(t)))return $g("Unsupported field value:",e,t),AC(t,e);if(t instanceof Lg)return function(r,i){if(!CC(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Yd(a,i.Rc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=gi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=lt.fromDate(r);return{timestampValue:Qc(i.serializer,s)}}if(r instanceof lt){const s=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qc(i.serializer,s)}}if(r instanceof Fg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof No)return{bytesValue:KS(i.serializer,r._byteString)};if(r instanceof vn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Tg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof zg)return function(o,a){return{mapValue:{fields:{[_S]:{stringValue:xS},[Hc]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Vc("VectorValues must only contain numeric values.");return wg(a.serializer,c)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${jg(r)}`)}(t,e)}function AC(t,e){const n={};return pS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ri(t,(r,i)=>{const s=Yd(i,e.Ic(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function IC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof Fg||t instanceof No||t instanceof vn||t instanceof Lg||t instanceof zg)}function $g(t,e,n){if(!IC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=jg(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function Wp(t,e,n){if((e=gi(e))instanceof Gd)return e._internalPath;if(typeof e=="string")return Bg(t,e);throw Zc("Field path arguments must be of type string or ",t,!1,void 0,n)}const XL=new RegExp("[~\\*/\\[\\]]");function Bg(t,e,n){if(e.search(XL)>=0)throw Zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gd(...e.split("."))._internalPath}catch{throw Zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new te(U.INVALID_ARGUMENT,a+t+u)}function RC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(NC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JL extends PC{data(){return super.data()}}function NC(t,e){return typeof e=="string"?Bg(t,e):e instanceof Gd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class e3{convertValue(e,n="none"){switch(_i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ri(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Hc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Xe(o.doubleValue));return new zg(s)}convertGeoPoint(e){return new Fg(Xe(e.latitude),Xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fl(e));default:return null}}convertTimestamp(e){const n=vi(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);Ae(JS(r),9688,{name:e});const i=new pl(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(n)||Er(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class n3 extends PC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(NC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ic extends n3{data(e={}){return super.data(e)}}class r3{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ou(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ic(this._firestore,this._userDataWriter,r.key,r,new Ou(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new ic(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ou(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new ic(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ou(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:i3(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function i3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:t})}}class s3 extends e3{constructor(e){super(),this.firestore=e}convertBytes(e){return new No(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function kC(t){t=hs(t,Kd);const e=hs(t.firestore,Ll),n=TC(e),r=new s3(e);return ZL(t._query),zL(n,t._query).then(i=>new r3(e,r,t,i))}function DC(t,e,n,...r){t=hs(t,vn);const i=hs(t.firestore,Ll),s=bC(i);let o;return o=typeof(e=gi(e))=="string"||e instanceof Gd?YL(s,"updateDoc",t._key,e,n,r):QL(s,"updateDoc",t._key,e),Hg(i,[o.toMutation(t._key,Nn.exists(!0))])}function OC(t){return Hg(hs(t.firestore,Ll),[new _g(t._key,Nn.none())])}function VC(t,e){const n=hs(t.firestore,Ll),r=jl(t),i=t3(t.converter,e);return Hg(n,[GL(bC(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Nn.exists(!1))]).then(()=>r)}function Hg(t,e){return function(r,i){const s=new li;return r.asyncQueue.enqueueAndForget(async()=>bL(await LL(r),i,s)),s.promise}(TC(t),e)}(function(e,n=!0){(function(i){$o=i})(NV),Uc(new cl("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ll(new qV(r.getProvider("auth-internal")),new YV(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new te(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ro(X0,J0,e),ro(X0,J0,"esm2017")})();const o3={apiKey:"AIzaSyDEtKuDYbkUSBnOBn0VZg4KzypFGnvDKEs",authDomain:"hsccollege-adbd0.firebaseapp.com",projectId:"hsccollege-adbd0",storageBucket:"hsccollege-adbd0.firebasestorage.app",messagingSenderId:"425466241242",appId:"1:425466241242:web:0a7a93cf6828a53a0b85e3",measurementId:"G-RCTXJT6L12"},a3=eS(o3),Ni=BL(a3),l3=async t=>{try{return{id:(await VC(qd(Ni,"courses"),t)).id,...t}}catch(e){throw console.error("Error adding course:",e),e}},u3=async(t,e)=>{try{const n=jl(Ni,"courses",t);return await DC(n,e),{id:t,...e}}catch(n){throw console.error("Error updating course:",n),n}},c3=async t=>{try{const e=jl(Ni,"courses",t);await OC(e)}catch(e){throw console.error("Error deleting course:",e),e}},Ks=async()=>{try{return(await kC(qd(Ni,"courses"))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error getting courses:",t),t}},d3=async t=>{try{return{id:(await VC(qd(Ni,"subjects"),t)).id,...t}}catch(e){throw console.error("Error adding subject:",e),e}},Vu=async(t,e)=>{try{const n=jl(Ni,"subjects",t);return await DC(n,e),{id:t,...e}}catch(n){throw console.error("Error updating subject:",n),n}},h3=async t=>{try{const e=jl(Ni,"subjects",t);await OC(e)}catch(e){throw console.error("Error deleting subject:",e),e}},Xd=async()=>{try{return(await kC(qd(Ni,"subjects"))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error getting subjects:",t),t}},f3=()=>{const t=Nl(),[e,n]=w.useState([]),[r,i]=w.useState([]),[s,o]=w.useState(!0),[a,u]=w.useState("all"),[c,d]=w.useState("all");w.useEffect(()=>{(async()=>{try{o(!0);const[x,v]=await Promise.all([Ks(),Xd()]);n(x),i(v)}catch(x){console.error("Error loading data:",x)}finally{o(!1)}})()},[]);const p=e.filter(m=>!(a!=="all"&&m.subject!==a||c!=="all"&&m.chapter!==c)),h=r.find(m=>m.id===a);return s?g.jsxs("div",{className:"min-h-screen flex flex-col bg-black font-sans",children:[g.jsx(as,{}),g.jsx("main",{className:"flex-1 w-full flex items-center justify-center",children:g.jsx("div",{className:"text-white text-xl",children:"Loading..."})}),g.jsx(ls,{})]}):g.jsxs("div",{className:"min-h-screen flex flex-col bg-black font-sans",children:[g.jsx(as,{}),g.jsxs("main",{className:"flex-1 w-full",children:[g.jsxs("section",{className:"w-full cursor-pointer py-20 px-4 text-center bg-gradient-to-br from-black via-zinc-900 to-zinc-900 animate-fade-in",children:[g.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold text-white mb-4 animate-enter",children:["Unlock ",g.jsx("span",{className:"underline decoration-white decoration-4 decoration-wavy underline-offset-4",children:"Knowledge"})," with ",g.jsx("span",{className:"text-white",children:"HSC College"})]}),g.jsx("p",{className:"max-w-xl mx-auto text-lg md:text-2xl text-gray-300 mb-8",children:"Learn at your pace with hands-on, high-impact courses for every subject. Filter and explore!"}),g.jsx(Ft,{onClick:()=>t("/add-course"),className:"bg-white text-black hover:bg-gray-200 px-8 py-6 text-lg",children:"Add New Course"})]}),g.jsx("div",{className:"bg-zinc-900 border-b border-zinc-800",children:g.jsx("div",{className:"max-w-5xl mx-auto p-4",children:g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[g.jsx("div",{className:"flex-1",children:g.jsxs(Hs,{value:a,onValueChange:m=>{u(m),d("all")},children:[g.jsx(Wi,{className:"bg-zinc-900 border-zinc-800 text-white",children:g.jsx(Ws,{placeholder:"Select a subject"})}),g.jsxs(Ki,{className:"bg-zinc-900 border-zinc-800",children:[g.jsx(fn,{value:"all",className:"text-white hover:bg-zinc-800",children:"All Subjects"}),r.map(m=>g.jsx(fn,{value:m.id,className:"text-white hover:bg-zinc-800",children:m.name},m.id))]})]})}),g.jsx("div",{className:"flex-1",children:g.jsxs(Hs,{value:c,onValueChange:d,disabled:!a||a==="all",children:[g.jsx(Wi,{className:"bg-zinc-900 border-zinc-800 text-white",children:g.jsx(Ws,{placeholder:"Select a chapter"})}),g.jsxs(Ki,{className:"bg-zinc-900 border-zinc-800",children:[g.jsx(fn,{value:"all",className:"text-white hover:bg-zinc-800",children:"All Chapters"}),h==null?void 0:h.chapters.map(m=>g.jsx(fn,{value:m.id,className:"text-white hover:bg-zinc-800",children:m.name},m.id))]})]})})]})})}),g.jsx("section",{className:"max-w-5xl mx-auto py-12 px-4",children:p.length===0?g.jsx("div",{className:"text-gray-400 text-lg flex items-center justify-center min-h-[200px]",children:"No courses found for the selected filters."}):g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:p.map((m,x)=>g.jsx(MD,{course:m,subjects:r,idx:x},m.id))})})]}),g.jsx(ls,{})]})},p3=()=>{const t=Pl();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),g.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),g.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Kn=w.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:Oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Kn.displayName="Input";var m3="Label",MC=w.forwardRef((t,e)=>g.jsx(Te.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));MC.displayName=m3;var jC=MC;const g3=Wm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Mr=w.forwardRef(({className:t,...e},n)=>g.jsx(jC,{ref:n,className:Oe(g3(),t),...e}));Mr.displayName=jC.displayName;var Wg="Dialog",[LC,FC]=Cl(Wg),[y3,Vn]=LC(Wg),zC=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=w.useRef(null),u=w.useRef(null),[c=!1,d]=Rc({prop:r,defaultProp:i,onChange:s});return g.jsx(y3,{scope:e,triggerRef:a,contentRef:u,contentId:eo(),titleId:eo(),descriptionId:eo(),open:c,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(p=>!p),[d]),modal:o,children:n})};zC.displayName=Wg;var UC="DialogTrigger",$C=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Vn(UC,n),s=ke(e,i.triggerRef);return g.jsx(Te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Gg(i.open),...r,ref:s,onClick:ue(t.onClick,i.onOpenToggle)})});$C.displayName=UC;var Kg="DialogPortal",[v3,BC]=LC(Kg,{forceMount:void 0}),HC=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Vn(Kg,e);return g.jsx(v3,{scope:e,forceMount:n,children:w.Children.map(r,o=>g.jsx(Vo,{present:n||s.open,children:g.jsx(yd,{asChild:!0,container:i,children:o})}))})};HC.displayName=Kg;var ed="DialogOverlay",WC=w.forwardRef((t,e)=>{const n=BC(ed,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Vn(ed,t.__scopeDialog);return s.modal?g.jsx(Vo,{present:r||s.open,children:g.jsx(w3,{...i,ref:e})}):null});WC.displayName=ed;var w3=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Vn(ed,n);return g.jsx(lg,{as:ss,allowPinchZoom:!0,shards:[i.contentRef],children:g.jsx(Te.div,{"data-state":Gg(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),fs="DialogContent",KC=w.forwardRef((t,e)=>{const n=BC(fs,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Vn(fs,t.__scopeDialog);return g.jsx(Vo,{present:r||s.open,children:s.modal?g.jsx(_3,{...i,ref:e}):g.jsx(E3,{...i,ref:e})})});KC.displayName=fs;var _3=w.forwardRef((t,e)=>{const n=Vn(fs,t.__scopeDialog),r=w.useRef(null),i=ke(e,n.contentRef,r);return w.useEffect(()=>{const s=r.current;if(s)return nT(s)},[]),g.jsx(qC,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ue(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:ue(t.onFocusOutside,s=>s.preventDefault())})}),E3=w.forwardRef((t,e)=>{const n=Vn(fs,t.__scopeDialog),r=w.useRef(!1),i=w.useRef(!1);return g.jsx(qC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var u,c;(u=t.onInteractOutside)==null||u.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),qC=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=Vn(fs,n),u=w.useRef(null),c=ke(e,u);return Zx(),g.jsxs(g.Fragment,{children:[g.jsx(ag,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:g.jsx(bl,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Gg(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(T3,{titleId:a.titleId}),g.jsx(C3,{contentRef:u,descriptionId:a.descriptionId})]})]})}),qg="DialogTitle",GC=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Vn(qg,n);return g.jsx(Te.h2,{id:i.titleId,...r,ref:e})});GC.displayName=qg;var QC="DialogDescription",YC=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Vn(QC,n);return g.jsx(Te.p,{id:i.descriptionId,...r,ref:e})});YC.displayName=QC;var XC="DialogClose",JC=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Vn(XC,n);return g.jsx(Te.button,{type:"button",...r,ref:e,onClick:ue(t.onClick,()=>i.onOpenChange(!1))})});JC.displayName=XC;function Gg(t){return t?"open":"closed"}var ZC="DialogTitleWarning",[x3,eb]=VR(ZC,{contentName:fs,titleName:qg,docsSlug:"dialog"}),T3=({titleId:t})=>{const e=eb(ZC),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},S3="DialogDescriptionWarning",C3=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${eb(S3).contentName}}.`;return w.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},b3=zC,A3=$C,I3=HC,R3=WC,P3=KC,N3=GC,k3=YC,tb=JC,nb="AlertDialog",[D3,uF]=Cl(nb,[FC]),Sr=FC(),rb=t=>{const{__scopeAlertDialog:e,...n}=t,r=Sr(e);return g.jsx(b3,{...r,...n,modal:!0})};rb.displayName=nb;var O3="AlertDialogTrigger",ib=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Sr(n);return g.jsx(A3,{...i,...r,ref:e})});ib.displayName=O3;var V3="AlertDialogPortal",sb=t=>{const{__scopeAlertDialog:e,...n}=t,r=Sr(e);return g.jsx(I3,{...r,...n})};sb.displayName=V3;var M3="AlertDialogOverlay",ob=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Sr(n);return g.jsx(R3,{...i,...r,ref:e})});ob.displayName=M3;var so="AlertDialogContent",[j3,L3]=D3(so),ab=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=Sr(n),o=w.useRef(null),a=ke(e,o),u=w.useRef(null);return g.jsx(x3,{contentName:so,titleName:lb,docsSlug:"alert-dialog",children:g.jsx(j3,{scope:n,cancelRef:u,children:g.jsxs(P3,{role:"alertdialog",...s,...i,ref:a,onOpenAutoFocus:ue(i.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=u.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[g.jsx(Um,{children:r}),g.jsx(z3,{contentRef:o})]})})})});ab.displayName=so;var lb="AlertDialogTitle",ub=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Sr(n);return g.jsx(N3,{...i,...r,ref:e})});ub.displayName=lb;var cb="AlertDialogDescription",db=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Sr(n);return g.jsx(k3,{...i,...r,ref:e})});db.displayName=cb;var F3="AlertDialogAction",hb=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Sr(n);return g.jsx(tb,{...i,...r,ref:e})});hb.displayName=F3;var fb="AlertDialogCancel",pb=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=L3(fb,n),s=Sr(n),o=ke(e,i);return g.jsx(tb,{...s,...r,ref:o})});pb.displayName=fb;var z3=({contentRef:t})=>{const e=`\`${so}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${so}\` by passing a \`${cb}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${so}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},U3=rb,$3=ib,B3=sb,mb=ob,gb=ab,yb=hb,vb=pb,wb=ub,_b=db;const H3=U3,W3=$3,K3=B3,Eb=w.forwardRef(({className:t,...e},n)=>g.jsx(mb,{className:Oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));Eb.displayName=mb.displayName;const xb=w.forwardRef(({className:t,...e},n)=>g.jsxs(K3,{children:[g.jsx(Eb,{}),g.jsx(gb,{ref:n,className:Oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));xb.displayName=gb.displayName;const Tb=({className:t,...e})=>g.jsx("div",{className:Oe("flex flex-col space-y-2 text-center sm:text-left",t),...e});Tb.displayName="AlertDialogHeader";const Sb=({className:t,...e})=>g.jsx("div",{className:Oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Sb.displayName="AlertDialogFooter";const Cb=w.forwardRef(({className:t,...e},n)=>g.jsx(wb,{ref:n,className:Oe("text-lg font-semibold",t),...e}));Cb.displayName=wb.displayName;const bb=w.forwardRef(({className:t,...e},n)=>g.jsx(_b,{ref:n,className:Oe("text-sm text-muted-foreground",t),...e}));bb.displayName=_b.displayName;const Ab=w.forwardRef(({className:t,...e},n)=>g.jsx(yb,{ref:n,className:Oe(og(),t),...e}));Ab.displayName=yb.displayName;const Ib=w.forwardRef(({className:t,...e},n)=>g.jsx(vb,{ref:n,className:Oe(og({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Ib.displayName=vb.displayName;const q3=({course:t,onEdit:e,onDelete:n,idx:r})=>g.jsxs("div",{className:"bg-zinc-900 rounded-lg overflow-hidden shadow-lg transform transition-all duration-300 hover:scale-105 animate-enter",style:{animationDelay:`${r*100}ms`},children:[g.jsx("div",{className:"relative aspect-video",children:g.jsx("img",{src:t.thumbnailUrl,alt:t.title,className:"w-full h-full object-cover"})}),g.jsxs("div",{className:"p-4 flex flex-col h-[180px]",children:[g.jsx("h3",{className:"text-xl font-semibold text-white mb-2 line-clamp-2",children:t.title}),g.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[g.jsx("span",{className:"px-2 py-1 bg-zinc-800 text-gray-300 rounded text-sm",children:t.subject}),g.jsx("span",{className:"px-2 py-1 bg-zinc-800 text-gray-300 rounded text-sm",children:t.chapter})]}),g.jsxs("div",{className:"mt-auto flex gap-2",children:[g.jsxs(Ft,{variant:"outline",size:"sm",onClick:()=>e(t.id),className:"flex-1 bg-zinc-800 hover:bg-zinc-700 hover:text-white text-white border-zinc-700",children:[g.jsx(bP,{className:"w-4 h-4 mr-2"}),"Edit"]}),g.jsxs(H3,{children:[g.jsx(W3,{asChild:!0,children:g.jsxs(Ft,{variant:"outline",size:"sm",className:"flex-1 bg-zinc-800 hover:bg-red-900/20 text-red-500 border-zinc-700 hover:text-red-500",children:[g.jsx(qE,{className:"w-4 h-4 mr-2"}),"Delete"]})}),g.jsxs(xb,{className:"bg-zinc-900 border-zinc-800",children:[g.jsxs(Tb,{children:[g.jsx(Cb,{className:"text-white",children:"Are you sure?"}),g.jsx(bb,{className:"text-gray-400",children:"This action cannot be undone. This will permanently delete the course."})]}),g.jsxs(Sb,{children:[g.jsx(Ib,{className:"bg-zinc-800 text-white border-zinc-700 hover:bg-zinc-700",children:"Cancel"}),g.jsx(Ab,{onClick:()=>n(t.id),className:"bg-red-600 text-white hover:bg-red-700",children:"Delete"})]})]})]})]})]})]}),qw=()=>{const t=Nl(),{id:e}=Qx(),{toast:n}=zm(),[r,i]=w.useState([]),[s,o]=w.useState([]),[a,u]=w.useState(!0),[c,d]=w.useState({title:"",subject:"all",chapter:"all",thumbnailUrl:"",courseType:"video",videoUrl:"",resources:[]}),[p,h]=w.useState({title:"",url:"",type:"pdf"}),m=!!e;w.useEffect(()=>{(async()=>{try{u(!0);const V=await Xd();i(V);const b=await Ks();if(o(b),m&&e){const C=b.find(I=>I.id===e);C?d({title:C.title,subject:C.subject,chapter:C.chapter,thumbnailUrl:C.thumbnailUrl,courseType:C.courseType,videoUrl:C.videoUrl,resources:C.resources||[]}):(n({title:"Error",description:"Course not found. Redirecting to course list.",variant:"destructive"}),t("/"))}}catch(V){console.error("Error loading data:",V),n({title:"Error",description:"Failed to load data. Please try again.",variant:"destructive"}),t("/")}finally{u(!1)}})()},[e,m,n,t]);const x=async k=>{k.preventDefault();try{if(m&&e){await u3(e,c);const V=await Ks();o(V),n({title:"Course updated successfully!",description:"Your course has been updated."})}else{await l3(c);const V=await Ks();o(V),n({title:"Course added successfully!",description:"Your course has been added to the platform."})}m||d({title:"",subject:"all",chapter:"all",thumbnailUrl:"",courseType:"video",videoUrl:"",resources:[]})}catch(V){console.error("Error saving course:",V),n({title:"Error",description:"Failed to save course. Please try again.",variant:"destructive"})}},v=async k=>{try{await c3(k);const V=await Ks();o(V),n({title:"Course deleted successfully!",description:"The course has been removed from the platform."})}catch(V){console.error("Error deleting course:",V),n({title:"Error",description:"Failed to delete course. Please try again.",variant:"destructive"})}},T=k=>{const{name:V,value:b}=k.target;d(C=>({...C,[V]:b}))},E=(k,V)=>{d(b=>({...b,[k]:V,...k==="subject"?{chapter:"all"}:{}}))},_=r.find(k=>k.id===c.subject),S=()=>{p.title&&p.url&&(d(k=>({...k,resources:[...k.resources,p]})),h({title:"",url:"",type:"pdf"}))},N=k=>{d(V=>({...V,resources:V.resources.filter((b,C)=>C!==k)}))};return a?g.jsxs("div",{className:"min-h-screen flex flex-col bg-black font-sans",children:[g.jsx(as,{}),g.jsx("main",{className:"flex-1 w-full flex items-center justify-center",children:g.jsx("div",{className:"text-white text-xl",children:"Loading..."})}),g.jsx(ls,{})]}):g.jsxs("div",{className:"min-h-screen flex flex-col bg-black font-sans",children:[g.jsx(as,{}),g.jsx("main",{className:"flex-1 w-full",children:g.jsx("section",{className:"w-full py-12 px-4",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:m?"Edit Course":"Add New Course"}),g.jsxs("form",{onSubmit:x,className:"space-y-6 bg-zinc-900 p-6 rounded-lg mb-12",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(Mr,{htmlFor:"title",className:"text-white",children:"Course Title"}),g.jsx(Kn,{id:"title",name:"title",value:c.title,onChange:T,placeholder:"Enter course title",required:!0,className:"bg-zinc-800 border-zinc-700 text-white"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Mr,{htmlFor:"subject",className:"text-white",children:"Subject"}),g.jsxs(Hs,{value:c.subject,onValueChange:k=>E("subject",k),children:[g.jsx(Wi,{className:"bg-zinc-800 border-zinc-700 text-white",children:g.jsx(Ws,{placeholder:"Select a subject"})}),g.jsx(Ki,{className:"bg-zinc-900 border-zinc-800",children:r.map(k=>g.jsx(fn,{value:k.id,className:"text-white hover:bg-zinc-800",children:k.name},k.id))})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Mr,{htmlFor:"chapter",className:"text-white",children:"Chapter"}),g.jsxs(Hs,{value:c.chapter,onValueChange:k=>E("chapter",k),disabled:!c.subject,children:[g.jsx(Wi,{className:"bg-zinc-800 border-zinc-700 text-white",children:g.jsx(Ws,{placeholder:"Select a chapter"})}),g.jsx(Ki,{className:"bg-zinc-900 border-zinc-800",children:_==null?void 0:_.chapters.map(k=>g.jsx(fn,{value:k.id,className:"text-white hover:bg-zinc-800",children:k.name},k.id))})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Mr,{htmlFor:"courseType",className:"text-white",children:"Course Type"}),g.jsxs(Hs,{value:c.courseType,onValueChange:k=>E("courseType",k),children:[g.jsx(Wi,{className:"bg-zinc-800 border-zinc-700 text-white",children:g.jsx(Ws,{placeholder:"Select course type"})}),g.jsxs(Ki,{className:"bg-zinc-900 border-zinc-800",children:[g.jsx(fn,{value:"video",className:"text-white hover:bg-zinc-800",children:"Video Course"}),g.jsx(fn,{value:"books",className:"text-white hover:bg-zinc-800",children:"Book Collection"})]})]})]}),c.courseType==="video"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx(Mr,{htmlFor:"videoUrl",className:"text-white",children:"Video URL"}),g.jsx(Kn,{id:"videoUrl",name:"videoUrl",value:c.videoUrl,onChange:T,placeholder:"Enter video URL",required:!0,className:"bg-zinc-800 border-zinc-700 text-white"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Mr,{htmlFor:"thumbnailUrl",className:"text-white",children:"Thumbnail URL"}),g.jsx(Kn,{id:"thumbnailUrl",name:"thumbnailUrl",value:c.thumbnailUrl,onChange:T,placeholder:"Enter thumbnail image URL",required:!0,className:"bg-zinc-800 border-zinc-700 text-white"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx(Mr,{className:"text-white",children:"Additional Resources"}),g.jsx("div",{className:"space-y-4",children:c.resources.map((k,V)=>g.jsxs("div",{className:"flex items-center gap-4 bg-zinc-800 p-4 rounded-lg",children:[g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-white font-medium truncate",children:k.title}),g.jsx("p",{className:"text-gray-400 text-sm truncate",title:k.url,children:k.url})]}),g.jsx(Ft,{type:"button",variant:"ghost",onClick:()=>N(V),className:"text-red-500 hover:text-red-600 shrink-0",children:g.jsx(qE,{className:"h-4 w-4"})})]},V))}),g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("div",{className:"flex-1 space-y-2",children:[g.jsx(Kn,{value:p.title,onChange:k=>h(V=>({...V,title:k.target.value})),placeholder:"Resource Title",className:"bg-zinc-800 border-zinc-700 text-white"}),g.jsx(Kn,{value:p.url,onChange:k=>h(V=>({...V,url:k.target.value})),placeholder:"Resource URL",className:"bg-zinc-800 border-zinc-700 text-white"}),g.jsxs(Hs,{value:p.type,onValueChange:k=>h(V=>({...V,type:k})),children:[g.jsx(Wi,{className:"bg-zinc-800 border-zinc-700 text-white",children:g.jsx(Ws,{placeholder:"Select resource type"})}),g.jsxs(Ki,{className:"bg-zinc-900 border-zinc-800",children:[g.jsx(fn,{value:"pdf",className:"text-white hover:bg-zinc-800",children:"PDF"}),g.jsx(fn,{value:"link",className:"text-white hover:bg-zinc-800",children:"Link"}),g.jsx(fn,{value:"other",className:"text-white hover:bg-zinc-800",children:"Other"})]})]})]}),g.jsx(Ft,{type:"button",onClick:S,className:"bg-white text-black hover:bg-gray-200 self-end shrink-0",children:"Add Resource"})]})]}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx(Ft,{type:"submit",className:"bg-white text-black hover:bg-gray-200",children:m?"Update Course":"Add Course"}),g.jsx(Ft,{type:"button",variant:"outline",onClick:()=>t("/"),className:"border-zinc-800 text-black bg-white hover:bg-white/90",children:"Cancel"})]})]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map((k,V)=>g.jsx(q3,{course:k,idx:V,onEdit:b=>t(`/edit-course/${b}`),onDelete:v},k.id))})]})})}),g.jsx(ls,{})]})},G3=()=>{const{id:t}=Qx(),e=Nl(),[n,r]=w.useState(null),[i,s]=w.useState([]),[o,a]=w.useState(!0),[u,c]=w.useState(!0);w.useEffect(()=>{(async()=>{try{a(!0);const[x,v]=await Promise.all([Ks(),Xd()]),T=x.find(E=>E.id===t);T?(r(T),s(v)):e("/")}catch(x){console.error("Error loading data:",x),e("/")}finally{a(!1)}})()},[t,e]);const d=m=>{const x=i.find(v=>v.id===m);return(x==null?void 0:x.name)||m},p=(m,x)=>{const v=i.find(E=>E.id===m),T=v==null?void 0:v.chapters.find(E=>E.id===x);return(T==null?void 0:T.name)||x},h=m=>m.includes("youtube.com")||m.includes("youtu.be")?`https://www.youtube.com/embed/${m.includes("youtube.com/watch?v=")?m.split("watch?v=")[1].split("&")[0]:m.split("youtu.be/")[1].split("?")[0]}`:m.includes("vimeo.com")?`https://player.vimeo.com/video/${m.split("vimeo.com/")[1].split("?")[0]}`:m;return o?g.jsxs("div",{className:"min-h-screen flex flex-col bg-black font-sans",children:[g.jsx(as,{}),g.jsx("main",{className:"flex-1 w-full flex items-center justify-center",children:g.jsx("div",{className:"text-white text-xl",children:"Loading..."})}),g.jsx(ls,{})]}):n?g.jsxs("div",{className:"min-h-screen flex flex-col bg-black font-sans",children:[g.jsx(as,{}),g.jsx("main",{className:"flex-1 w-full",children:g.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[g.jsx(Ft,{variant:"ghost",onClick:()=>e("/"),className:"text-white hover:bg-white/90 mb-6",children:" Back to Courses"}),g.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:n.title}),n.courseType==="video"&&n.videoUrl?g.jsxs("div",{className:"aspect-video w-full bg-zinc-900 rounded-lg overflow-hidden mb-8 relative",children:[u&&g.jsx("div",{className:"absolute inset-0 bg-zinc-800 animate-pulse flex items-center justify-center",children:g.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin"})}),g.jsx("iframe",{src:h(n.videoUrl),className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:n.title,onLoad:()=>c(!1)})]}):g.jsxs("div",{className:"w-full bg-zinc-900 rounded-lg overflow-hidden mb-8 p-6",children:[g.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Book Collection"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.resources.map((m,x)=>g.jsx("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:"bg-zinc-800 p-4 rounded-lg hover:bg-zinc-700 transition-colors",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(SP,{className:"h-6 w-6 text-blue-400"}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-white font-medium",children:m.title}),g.jsx("p",{className:"text-gray-400 text-sm truncate",children:m.url})]})]})},x))})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Course Details"}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"text-xl font-semibold text-white",children:"Additional Resources"}),g.jsx("div",{className:"space-y-4",children:n.resources.map((m,x)=>g.jsx("div",{className:"flex items-center gap-4 bg-zinc-800 p-4 rounded-lg",children:g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-white font-medium truncate",children:m.title}),g.jsx("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-sm truncate block",title:m.url,children:m.url})]})},x))})]})]}),g.jsxs("div",{className:"bg-zinc-900 p-6 rounded-lg",children:[g.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Course Information"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-400",children:"Subject"}),g.jsx("p",{className:"text-white capitalize",children:d(n.subject)})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-400",children:"Chapter"}),g.jsx("p",{className:"text-white capitalize",children:p(n.subject,n.chapter)})]})]})]})]})]})}),g.jsx(ls,{})]}):null},Q3=()=>{var V;const{toast:t}=zm(),[e,n]=w.useState([]),[r,i]=w.useState(""),[s,o]=w.useState(""),[a,u]=w.useState(null),[c,d]=w.useState(null),[p,h]=w.useState(null),[m,x]=w.useState(!1);w.useEffect(()=>{v()},[]);const v=async()=>{try{x(!0);const b=await Xd();n(b)}catch(b){console.error("Error loading subjects:",b),t({title:"Error",description:"Failed to load subjects. Please try again.",variant:"destructive"})}finally{x(!1)}},T=async()=>{if(r.trim())try{x(!0),await d3({name:r,chapters:[]}),await v(),i(""),t({title:"Subject added successfully!",description:`Added ${r} to subjects.`})}catch(b){console.error("Error adding subject:",b),t({title:"Error",description:"Failed to add subject. Please try again.",variant:"destructive"})}finally{x(!1)}},E=async()=>{if(!(!a||!s.trim()))try{x(!0);const b=e.find(I=>I.id===a);if(!b)return;const C={...b,chapters:[...b.chapters,{id:s.toLowerCase().replace(/\s+/g,"-"),name:s}]};await Vu(a,C),await v(),o(""),t({title:"Chapter added successfully!",description:`Added ${s} to ${b.name}.`})}catch(b){console.error("Error adding chapter:",b),t({title:"Error",description:"Failed to add chapter. Please try again.",variant:"destructive"})}finally{x(!1)}},_=async b=>{try{x(!0),await h3(b),await v(),a===b&&u(null),t({title:"Subject deleted successfully!",description:"The subject has been removed."})}catch(C){console.error("Error deleting subject:",C),t({title:"Error",description:"Failed to delete subject. Please try again.",variant:"destructive"})}finally{x(!1)}},S=async(b,C)=>{try{x(!0);const I=e.find(D=>D.id===b);if(!I)return;const R={...I,chapters:I.chapters.filter(D=>D.id!==C)};await Vu(b,R),await v(),t({title:"Chapter deleted successfully!",description:"The chapter has been removed."})}catch(I){console.error("Error deleting chapter:",I),t({title:"Error",description:"Failed to delete chapter. Please try again.",variant:"destructive"})}finally{x(!1)}},N=async(b,C)=>{if(C.trim())try{x(!0);const I=e.find(D=>D.id===b);if(!I)return;const R={...I,name:C};await Vu(b,R),await v(),d(null),t({title:"Subject updated successfully!",description:"The subject name has been updated."})}catch(I){console.error("Error updating subject:",I),t({title:"Error",description:"Failed to update subject. Please try again.",variant:"destructive"})}finally{x(!1)}},k=async(b,C,I)=>{if(I.trim())try{x(!0);const R=e.find(O=>O.id===b);if(!R)return;const D={...R,chapters:R.chapters.map(O=>O.id===C?{...O,name:I}:O)};await Vu(b,D),await v(),h(null),t({title:"Chapter updated successfully!",description:"The chapter name has been updated."})}catch(R){console.error("Error updating chapter:",R),t({title:"Error",description:"Failed to update chapter. Please try again.",variant:"destructive"})}finally{x(!1)}};return g.jsxs("div",{className:"min-h-screen flex flex-col bg-black font-sans",children:[g.jsx(as,{}),g.jsx("main",{className:"flex-1 w-full",children:g.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[g.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Course Management"}),g.jsxs("div",{className:"bg-zinc-900 p-6 rounded-lg mb-8",children:[g.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Add New Subject"}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx("div",{className:"flex-1",children:g.jsx(Kn,{value:r,onChange:b=>i(b.target.value),placeholder:"Enter subject name",className:"bg-zinc-800 border-zinc-700 text-white",disabled:m})}),g.jsx(Ft,{onClick:T,className:"bg-white text-black hover:bg-gray-200",disabled:m,children:m?"Adding...":"Add Subject"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-zinc-900 p-6 rounded-lg",children:[g.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Subjects"}),g.jsx("div",{className:"space-y-4",children:e.map(b=>g.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-800 rounded-lg",children:[c===b.id?g.jsx(Kn,{defaultValue:b.name,onBlur:C=>N(b.id,C.target.value),onKeyDown:C=>{C.key==="Enter"&&N(b.id,C.currentTarget.value)},className:"bg-zinc-700 border-zinc-600 text-white",autoFocus:!0,disabled:m}):g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("span",{className:"text-white cursor-pointer",onClick:()=>u(b.id),children:b.name}),g.jsxs("span",{className:"text-gray-400",children:["(",b.chapters.length," chapters)"]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(Ft,{variant:"ghost",onClick:()=>d(b.id),className:"text-white hover:bg-zinc-700",disabled:m,children:"Edit"}),g.jsx(Ft,{variant:"ghost",onClick:()=>_(b.id),className:"text-red-400 hover:bg-zinc-700",disabled:m,children:"Delete"})]})]},b.id))})]}),g.jsxs("div",{className:"bg-zinc-900 p-6 rounded-lg",children:[g.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Chapters"}),a?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex gap-4 mb-4",children:[g.jsx("div",{className:"flex-1",children:g.jsx(Kn,{value:s,onChange:b=>o(b.target.value),placeholder:"Enter chapter name",className:"bg-zinc-800 border-zinc-700 text-white",disabled:m})}),g.jsx(Ft,{onClick:E,className:"bg-white text-black hover:bg-gray-200",disabled:m,children:m?"Adding...":"Add Chapter"})]}),g.jsx("div",{className:"space-y-4",children:(V=e.find(b=>b.id===a))==null?void 0:V.chapters.map(b=>g.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-800 rounded-lg",children:[p===b.id?g.jsx(Kn,{defaultValue:b.name,onBlur:C=>k(a,b.id,C.target.value),onKeyDown:C=>{C.key==="Enter"&&k(a,b.id,C.currentTarget.value)},className:"bg-zinc-700 border-zinc-600 text-white",autoFocus:!0,disabled:m}):g.jsx("span",{className:"text-white",children:b.name}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(Ft,{variant:"ghost",onClick:()=>h(b.id),className:"text-white hover:bg-zinc-700",disabled:m,children:"Edit"}),g.jsx(Ft,{variant:"ghost",onClick:()=>S(a,b.id),className:"text-red-400 hover:bg-zinc-700",disabled:m,children:"Delete"})]})]},b.id))})]}):g.jsx("p",{className:"text-gray-400",children:"Select a subject to manage its chapters"})]})]})]})}),g.jsx(ls,{})]})},Y3=new Vk,X3=()=>g.jsx(jk,{client:Y3,children:g.jsxs(hk,{children:[g.jsx(uN,{}),g.jsx(LN,{}),g.jsx(kD,{children:g.jsxs(CD,{children:[g.jsx(zi,{path:"/",element:g.jsx(f3,{})}),g.jsx(zi,{path:"/add-course",element:g.jsx(qw,{})}),g.jsx(zi,{path:"/edit-course/:id",element:g.jsx(qw,{})}),g.jsx(zi,{path:"/course/:id",element:g.jsx(G3,{})}),g.jsx(zi,{path:"/course",element:g.jsx(Q3,{})}),g.jsx(zi,{path:"*",element:g.jsx(p3,{})})]})})]})});yE(document.getElementById("root")).render(g.jsx(X3,{}));
