var Fy=t=>{throw TypeError(t)};var ph=(t,e,n)=>e.has(t)||Fy("Cannot "+n);var z=(t,e,n)=>(ph(t,e,"read from private field"),n?n.call(t):e.get(t)),be=(t,e,n)=>e.has(t)?Fy("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),de=(t,e,n,r)=>(ph(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ct=(t,e,n)=>(ph(t,e,"access private method"),n);var ru=(t,e,n,r)=>({set _(i){de(t,e,i,n)},get _(){return z(t,e,r)}});function tA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function r_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var i_={exports:{}},nd={},s_={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var El=Symbol.for("react.element"),nA=Symbol.for("react.portal"),rA=Symbol.for("react.fragment"),iA=Symbol.for("react.strict_mode"),sA=Symbol.for("react.profiler"),oA=Symbol.for("react.provider"),aA=Symbol.for("react.context"),lA=Symbol.for("react.forward_ref"),uA=Symbol.for("react.suspense"),cA=Symbol.for("react.memo"),dA=Symbol.for("react.lazy"),zy=Symbol.iterator;function hA(t){return t===null||typeof t!="object"?null:(t=zy&&t[zy]||t["@@iterator"],typeof t=="function"?t:null)}var o_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a_=Object.assign,l_={};function Do(t,e,n){this.props=t,this.context=e,this.refs=l_,this.updater=n||o_}Do.prototype.isReactComponent={};Do.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Do.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function u_(){}u_.prototype=Do.prototype;function qp(t,e,n){this.props=t,this.context=e,this.refs=l_,this.updater=n||o_}var Gp=qp.prototype=new u_;Gp.constructor=qp;a_(Gp,Do.prototype);Gp.isPureReactComponent=!0;var Uy=Array.isArray,c_=Object.prototype.hasOwnProperty,Qp={current:null},d_={key:!0,ref:!0,__self:!0,__source:!0};function h_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)c_.call(e,r)&&!d_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:El,type:t,key:s,ref:o,props:i,_owner:Qp.current}}function fA(t,e){return{$$typeof:El,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yp(t){return typeof t=="object"&&t!==null&&t.$$typeof===El}function pA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $y=/\/+/g;function mh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pA(""+t.key):e.toString(36)}function ju(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case El:case nA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+mh(o,0):r,Uy(i)?(n="",t!=null&&(n=t.replace($y,"$&/")+"/"),ju(i,e,n,"",function(c){return c})):i!=null&&(Yp(i)&&(i=fA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($y,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Uy(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+mh(s,a);o+=ju(s,e,n,u,i)}else if(u=hA(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+mh(s,a++),o+=ju(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function iu(t,e,n){if(t==null)return t;var r=[],i=0;return ju(t,r,"","",function(s){return e.call(n,s,i++)}),r}function mA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ut={current:null},Lu={transition:null},gA={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:Lu,ReactCurrentOwner:Qp};function f_(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:iu,forEach:function(t,e,n){iu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return iu(t,function(){e++}),e},toArray:function(t){return iu(t,function(e){return e})||[]},only:function(t){if(!Yp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=Do;me.Fragment=rA;me.Profiler=sA;me.PureComponent=qp;me.StrictMode=iA;me.Suspense=uA;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gA;me.act=f_;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=a_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Qp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)c_.call(e,u)&&!d_.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:El,type:t.type,key:i,ref:s,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:aA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oA,_context:t},t.Consumer=t};me.createElement=h_;me.createFactory=function(t){var e=h_.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:lA,render:t}};me.isValidElement=Yp;me.lazy=function(t){return{$$typeof:dA,_payload:{_status:-1,_result:t},_init:mA}};me.memo=function(t,e){return{$$typeof:cA,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=Lu.transition;Lu.transition={};try{t()}finally{Lu.transition=e}};me.unstable_act=f_;me.useCallback=function(t,e){return Ut.current.useCallback(t,e)};me.useContext=function(t){return Ut.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Ut.current.useDeferredValue(t)};me.useEffect=function(t,e){return Ut.current.useEffect(t,e)};me.useId=function(){return Ut.current.useId()};me.useImperativeHandle=function(t,e,n){return Ut.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Ut.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Ut.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Ut.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Ut.current.useReducer(t,e,n)};me.useRef=function(t){return Ut.current.useRef(t)};me.useState=function(t){return Ut.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Ut.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Ut.current.useTransition()};me.version="18.3.1";s_.exports=me;var v=s_.exports;const K=r_(v),p_=tA({__proto__:null,default:K},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yA=v,vA=Symbol.for("react.element"),wA=Symbol.for("react.fragment"),_A=Object.prototype.hasOwnProperty,xA=yA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EA={key:!0,ref:!0,__self:!0,__source:!0};function m_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)_A.call(e,r)&&!EA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vA,type:t,key:s,ref:o,props:i,_owner:xA.current}}nd.Fragment=wA;nd.jsx=m_;nd.jsxs=m_;i_.exports=nd;var m=i_.exports,g_={exports:{}},cn={},y_={exports:{}},v_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,$){var Y=j.length;j.push($);e:for(;0<Y;){var q=Y-1>>>1,J=j[q];if(0<i(J,$))j[q]=$,j[Y]=J,Y=q;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var $=j[0],Y=j.pop();if(Y!==$){j[0]=Y;e:for(var q=0,J=j.length,ee=J>>>1;q<ee;){var Se=2*(q+1)-1,Fe=j[Se],fe=Se+1,Z=j[fe];if(0>i(Fe,Y))fe<J&&0>i(Z,Fe)?(j[q]=Z,j[fe]=Y,q=fe):(j[q]=Fe,j[Se]=Y,q=Se);else if(fe<J&&0>i(Z,Y))j[q]=Z,j[fe]=Y,q=fe;else break e}}return $}function i(j,$){var Y=j.sortIndex-$.sortIndex;return Y!==0?Y:j.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,p=null,h=3,w=!1,x=!1,g=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(j){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=j)r(c),$.sortIndex=$.expirationTime,e(u,$);else break;$=n(c)}}function N(j){if(g=!1,C(j),!x)if(n(u)!==null)x=!0,X(O);else{var $=n(c);$!==null&&ne(N,$.startTime-j)}}function O(j,$){x=!1,g&&(g=!1,E(b),b=-1),w=!0;var Y=h;try{for(C($),p=n(u);p!==null&&(!(p.expirationTime>$)||j&&!k());){var q=p.callback;if(typeof q=="function"){p.callback=null,h=p.priorityLevel;var J=q(p.expirationTime<=$);$=t.unstable_now(),typeof J=="function"?p.callback=J:p===n(u)&&r(u),C($)}else r(u);p=n(u)}if(p!==null)var ee=!0;else{var Se=n(c);Se!==null&&ne(N,Se.startTime-$),ee=!1}return ee}finally{p=null,h=Y,w=!1}}var V=!1,T=null,b=-1,A=5,R=-1;function k(){return!(t.unstable_now()-R<A)}function D(){if(T!==null){var j=t.unstable_now();R=j;var $=!0;try{$=T(!0,j)}finally{$?P():(V=!1,T=null)}}else V=!1}var P;if(typeof _=="function")P=function(){_(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,re=H.port2;H.port1.onmessage=D,P=function(){re.postMessage(null)}}else P=function(){S(D,0)};function X(j){T=j,V||(V=!0,P())}function ne(j,$){b=S(function(){j(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){x||w||(x=!0,X(O))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(j){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var Y=h;h=$;try{return j()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Y=h;h=j;try{return $()}finally{h=Y}},t.unstable_scheduleCallback=function(j,$,Y){var q=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?q+Y:q):Y=q,j){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Y+J,j={id:d++,callback:$,priorityLevel:j,startTime:Y,expirationTime:J,sortIndex:-1},Y>q?(j.sortIndex=Y,e(c,j),n(u)===null&&j===n(c)&&(g?(E(b),b=-1):g=!0,ne(N,Y-q))):(j.sortIndex=J,e(u,j),x||w||(x=!0,X(O))),j},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(j){var $=h;return function(){var Y=h;h=$;try{return j.apply(this,arguments)}finally{h=Y}}}})(v_);y_.exports=v_;var TA=y_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SA=v,ln=TA;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w_=new Set,Ba={};function ps(t,e){yo(t,e),yo(t+"Capture",e)}function yo(t,e){for(Ba[t]=e,t=0;t<e.length;t++)w_.add(e[t])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),df=Object.prototype.hasOwnProperty,CA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,By={},Hy={};function bA(t){return df.call(Hy,t)?!0:df.call(By,t)?!1:CA.test(t)?Hy[t]=!0:(By[t]=!0,!1)}function AA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function IA(t,e,n,r){if(e===null||typeof e>"u"||AA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $t(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_t[t]=new $t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_t[e]=new $t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_t[t]=new $t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_t[t]=new $t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_t[t]=new $t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_t[t]=new $t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_t[t]=new $t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_t[t]=new $t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_t[t]=new $t(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xp=/[\-:]([a-z])/g;function Jp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xp,Jp);_t[e]=new $t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xp,Jp);_t[e]=new $t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xp,Jp);_t[e]=new $t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_t[t]=new $t(t,1,!1,t.toLowerCase(),null,!1,!1)});_t.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_t[t]=new $t(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zp(t,e,n,r){var i=_t.hasOwnProperty(e)?_t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(IA(e,n,i,r)&&(n=null),r||i===null?bA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Sr=SA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,su=Symbol.for("react.element"),Ds=Symbol.for("react.portal"),Os=Symbol.for("react.fragment"),em=Symbol.for("react.strict_mode"),hf=Symbol.for("react.profiler"),__=Symbol.for("react.provider"),x_=Symbol.for("react.context"),tm=Symbol.for("react.forward_ref"),ff=Symbol.for("react.suspense"),pf=Symbol.for("react.suspense_list"),nm=Symbol.for("react.memo"),Lr=Symbol.for("react.lazy"),E_=Symbol.for("react.offscreen"),Wy=Symbol.iterator;function ca(t){return t===null||typeof t!="object"?null:(t=Wy&&t[Wy]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,gh;function _a(t){if(gh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gh=e&&e[1]||""}return`
`+gh+t}var yh=!1;function vh(t,e){if(!t||yh)return"";yh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{yh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_a(t):""}function RA(t){switch(t.tag){case 5:return _a(t.type);case 16:return _a("Lazy");case 13:return _a("Suspense");case 19:return _a("SuspenseList");case 0:case 2:case 15:return t=vh(t.type,!1),t;case 11:return t=vh(t.type.render,!1),t;case 1:return t=vh(t.type,!0),t;default:return""}}function mf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Os:return"Fragment";case Ds:return"Portal";case hf:return"Profiler";case em:return"StrictMode";case ff:return"Suspense";case pf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x_:return(t.displayName||"Context")+".Consumer";case __:return(t._context.displayName||"Context")+".Provider";case tm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nm:return e=t.displayName||null,e!==null?e:mf(t.type)||"Memo";case Lr:e=t._payload,t=t._init;try{return mf(t(e))}catch{}}return null}function PA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mf(e);case 8:return e===em?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function T_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NA(t){var e=T_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ou(t){t._valueTracker||(t._valueTracker=NA(t))}function S_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=T_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function oc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gf(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ky(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=di(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function C_(t,e){e=e.checked,e!=null&&Zp(t,"checked",e,!1)}function yf(t,e){C_(t,e);var n=di(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vf(t,e.type,n):e.hasOwnProperty("defaultValue")&&vf(t,e.type,di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vf(t,e,n){(e!=="number"||oc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xa=Array.isArray;function Gs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+di(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function wf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(xa(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:di(n)}}function b_(t,e){var n=di(e.value),r=di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Qy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function A_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _f(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?A_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var au,I_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(au=au||document.createElement("div"),au.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=au.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ha(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kA=["Webkit","ms","Moz","O"];Object.keys(Ia).forEach(function(t){kA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ia[e]=Ia[t]})});function R_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ia.hasOwnProperty(t)&&Ia[t]?(""+e).trim():e+"px"}function P_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=R_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var DA=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xf(t,e){if(e){if(DA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Ef(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tf=null;function rm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sf=null,Qs=null,Ys=null;function Yy(t){if(t=Cl(t)){if(typeof Sf!="function")throw Error(B(280));var e=t.stateNode;e&&(e=ad(e),Sf(t.stateNode,t.type,e))}}function N_(t){Qs?Ys?Ys.push(t):Ys=[t]:Qs=t}function k_(){if(Qs){var t=Qs,e=Ys;if(Ys=Qs=null,Yy(t),e)for(t=0;t<e.length;t++)Yy(e[t])}}function D_(t,e){return t(e)}function O_(){}var wh=!1;function V_(t,e,n){if(wh)return t(e,n);wh=!0;try{return D_(t,e,n)}finally{wh=!1,(Qs!==null||Ys!==null)&&(O_(),k_())}}function Wa(t,e){var n=t.stateNode;if(n===null)return null;var r=ad(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Cf=!1;if(mr)try{var da={};Object.defineProperty(da,"passive",{get:function(){Cf=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{Cf=!1}function OA(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ra=!1,ac=null,lc=!1,bf=null,VA={onError:function(t){Ra=!0,ac=t}};function MA(t,e,n,r,i,s,o,a,u){Ra=!1,ac=null,OA.apply(VA,arguments)}function jA(t,e,n,r,i,s,o,a,u){if(MA.apply(this,arguments),Ra){if(Ra){var c=ac;Ra=!1,ac=null}else throw Error(B(198));lc||(lc=!0,bf=c)}}function ms(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function M_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Xy(t){if(ms(t)!==t)throw Error(B(188))}function LA(t){var e=t.alternate;if(!e){if(e=ms(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Xy(i),t;if(s===r)return Xy(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function j_(t){return t=LA(t),t!==null?L_(t):null}function L_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=L_(t);if(e!==null)return e;t=t.sibling}return null}var F_=ln.unstable_scheduleCallback,Jy=ln.unstable_cancelCallback,FA=ln.unstable_shouldYield,zA=ln.unstable_requestPaint,Je=ln.unstable_now,UA=ln.unstable_getCurrentPriorityLevel,im=ln.unstable_ImmediatePriority,z_=ln.unstable_UserBlockingPriority,uc=ln.unstable_NormalPriority,$A=ln.unstable_LowPriority,U_=ln.unstable_IdlePriority,rd=null,Qn=null;function BA(t){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(rd,t,void 0,(t.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:KA,HA=Math.log,WA=Math.LN2;function KA(t){return t>>>=0,t===0?32:31-(HA(t)/WA|0)|0}var lu=64,uu=4194304;function Ea(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ea(a):(s&=o,s!==0&&(r=Ea(s)))}else o=n&~i,o!==0?r=Ea(o):s!==0&&(r=Ea(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pn(e),i=1<<n,r|=t[n],e&=~i;return r}function qA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Pn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=qA(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Af(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $_(){var t=lu;return lu<<=1,!(lu&4194240)&&(lu=64),t}function _h(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Tl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pn(e),t[e]=n}function QA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function sm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Re=0;function B_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var H_,om,W_,K_,q_,If=!1,cu=[],Xr=null,Jr=null,Zr=null,Ka=new Map,qa=new Map,zr=[],YA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zy(t,e){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":Ka.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qa.delete(e.pointerId)}}function ha(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Cl(e),e!==null&&om(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function XA(t,e,n,r,i){switch(e){case"focusin":return Xr=ha(Xr,t,e,n,r,i),!0;case"dragenter":return Jr=ha(Jr,t,e,n,r,i),!0;case"mouseover":return Zr=ha(Zr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ka.set(s,ha(Ka.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,qa.set(s,ha(qa.get(s)||null,t,e,n,r,i)),!0}return!1}function G_(t){var e=Hi(t.target);if(e!==null){var n=ms(e);if(n!==null){if(e=n.tag,e===13){if(e=M_(n),e!==null){t.blockedOn=e,q_(t.priority,function(){W_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Rf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Tf=r,n.target.dispatchEvent(r),Tf=null}else return e=Cl(n),e!==null&&om(e),t.blockedOn=n,!1;e.shift()}return!0}function ev(t,e,n){Fu(t)&&n.delete(e)}function JA(){If=!1,Xr!==null&&Fu(Xr)&&(Xr=null),Jr!==null&&Fu(Jr)&&(Jr=null),Zr!==null&&Fu(Zr)&&(Zr=null),Ka.forEach(ev),qa.forEach(ev)}function fa(t,e){t.blockedOn===e&&(t.blockedOn=null,If||(If=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,JA)))}function Ga(t){function e(i){return fa(i,t)}if(0<cu.length){fa(cu[0],t);for(var n=1;n<cu.length;n++){var r=cu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xr!==null&&fa(Xr,t),Jr!==null&&fa(Jr,t),Zr!==null&&fa(Zr,t),Ka.forEach(e),qa.forEach(e),n=0;n<zr.length;n++)r=zr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zr.length&&(n=zr[0],n.blockedOn===null);)G_(n),n.blockedOn===null&&zr.shift()}var Xs=Sr.ReactCurrentBatchConfig,dc=!0;function ZA(t,e,n,r){var i=Re,s=Xs.transition;Xs.transition=null;try{Re=1,am(t,e,n,r)}finally{Re=i,Xs.transition=s}}function eI(t,e,n,r){var i=Re,s=Xs.transition;Xs.transition=null;try{Re=4,am(t,e,n,r)}finally{Re=i,Xs.transition=s}}function am(t,e,n,r){if(dc){var i=Rf(t,e,n,r);if(i===null)Ph(t,e,r,hc,n),Zy(t,r);else if(XA(i,t,e,n,r))r.stopPropagation();else if(Zy(t,r),e&4&&-1<YA.indexOf(t)){for(;i!==null;){var s=Cl(i);if(s!==null&&H_(s),s=Rf(t,e,n,r),s===null&&Ph(t,e,r,hc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ph(t,e,r,null,n)}}var hc=null;function Rf(t,e,n,r){if(hc=null,t=rm(r),t=Hi(t),t!==null)if(e=ms(t),e===null)t=null;else if(n=e.tag,n===13){if(t=M_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hc=t,null}function Q_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UA()){case im:return 1;case z_:return 4;case uc:case $A:return 16;case U_:return 536870912;default:return 16}default:return 16}}var qr=null,lm=null,zu=null;function Y_(){if(zu)return zu;var t,e=lm,n=e.length,r,i="value"in qr?qr.value:qr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return zu=i.slice(t,1<r?1-r:void 0)}function Uu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function du(){return!0}function tv(){return!1}function dn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?du:tv,this.isPropagationStopped=tv,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=du)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=du)},persist:function(){},isPersistent:du}),e}var Oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},um=dn(Oo),Sl=We({},Oo,{view:0,detail:0}),tI=dn(Sl),xh,Eh,pa,id=We({},Sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pa&&(pa&&t.type==="mousemove"?(xh=t.screenX-pa.screenX,Eh=t.screenY-pa.screenY):Eh=xh=0,pa=t),xh)},movementY:function(t){return"movementY"in t?t.movementY:Eh}}),nv=dn(id),nI=We({},id,{dataTransfer:0}),rI=dn(nI),iI=We({},Sl,{relatedTarget:0}),Th=dn(iI),sI=We({},Oo,{animationName:0,elapsedTime:0,pseudoElement:0}),oI=dn(sI),aI=We({},Oo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lI=dn(aI),uI=We({},Oo,{data:0}),rv=dn(uI),cI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hI[t])?!!e[t]:!1}function cm(){return fI}var pI=We({},Sl,{key:function(t){if(t.key){var e=cI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cm,charCode:function(t){return t.type==="keypress"?Uu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mI=dn(pI),gI=We({},id,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iv=dn(gI),yI=We({},Sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cm}),vI=dn(yI),wI=We({},Oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),_I=dn(wI),xI=We({},id,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),EI=dn(xI),TI=[9,13,27,32],dm=mr&&"CompositionEvent"in window,Pa=null;mr&&"documentMode"in document&&(Pa=document.documentMode);var SI=mr&&"TextEvent"in window&&!Pa,X_=mr&&(!dm||Pa&&8<Pa&&11>=Pa),sv=" ",ov=!1;function J_(t,e){switch(t){case"keyup":return TI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vs=!1;function CI(t,e){switch(t){case"compositionend":return Z_(e);case"keypress":return e.which!==32?null:(ov=!0,sv);case"textInput":return t=e.data,t===sv&&ov?null:t;default:return null}}function bI(t,e){if(Vs)return t==="compositionend"||!dm&&J_(t,e)?(t=Y_(),zu=lm=qr=null,Vs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return X_&&e.locale!=="ko"?null:e.data;default:return null}}var AI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function av(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!AI[t.type]:e==="textarea"}function e1(t,e,n,r){N_(r),e=fc(e,"onChange"),0<e.length&&(n=new um("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Na=null,Qa=null;function II(t){d1(t,0)}function sd(t){var e=Ls(t);if(S_(e))return t}function RI(t,e){if(t==="change")return e}var t1=!1;if(mr){var Sh;if(mr){var Ch="oninput"in document;if(!Ch){var lv=document.createElement("div");lv.setAttribute("oninput","return;"),Ch=typeof lv.oninput=="function"}Sh=Ch}else Sh=!1;t1=Sh&&(!document.documentMode||9<document.documentMode)}function uv(){Na&&(Na.detachEvent("onpropertychange",n1),Qa=Na=null)}function n1(t){if(t.propertyName==="value"&&sd(Qa)){var e=[];e1(e,Qa,t,rm(t)),V_(II,e)}}function PI(t,e,n){t==="focusin"?(uv(),Na=e,Qa=n,Na.attachEvent("onpropertychange",n1)):t==="focusout"&&uv()}function NI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sd(Qa)}function kI(t,e){if(t==="click")return sd(e)}function DI(t,e){if(t==="input"||t==="change")return sd(e)}function OI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dn=typeof Object.is=="function"?Object.is:OI;function Ya(t,e){if(Dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!df.call(e,i)||!Dn(t[i],e[i]))return!1}return!0}function cv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dv(t,e){var n=cv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cv(n)}}function r1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?r1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function i1(){for(var t=window,e=oc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=oc(t.document)}return e}function hm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VI(t){var e=i1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&r1(n.ownerDocument.documentElement,n)){if(r!==null&&hm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=dv(n,s);var o=dv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var MI=mr&&"documentMode"in document&&11>=document.documentMode,Ms=null,Pf=null,ka=null,Nf=!1;function hv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nf||Ms==null||Ms!==oc(r)||(r=Ms,"selectionStart"in r&&hm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ka&&Ya(ka,r)||(ka=r,r=fc(Pf,"onSelect"),0<r.length&&(e=new um("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ms)))}function hu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var js={animationend:hu("Animation","AnimationEnd"),animationiteration:hu("Animation","AnimationIteration"),animationstart:hu("Animation","AnimationStart"),transitionend:hu("Transition","TransitionEnd")},bh={},s1={};mr&&(s1=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function od(t){if(bh[t])return bh[t];if(!js[t])return t;var e=js[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in s1)return bh[t]=e[n];return t}var o1=od("animationend"),a1=od("animationiteration"),l1=od("animationstart"),u1=od("transitionend"),c1=new Map,fv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(t,e){c1.set(t,e),ps(e,[t])}for(var Ah=0;Ah<fv.length;Ah++){var Ih=fv[Ah],jI=Ih.toLowerCase(),LI=Ih[0].toUpperCase()+Ih.slice(1);bi(jI,"on"+LI)}bi(o1,"onAnimationEnd");bi(a1,"onAnimationIteration");bi(l1,"onAnimationStart");bi("dblclick","onDoubleClick");bi("focusin","onFocus");bi("focusout","onBlur");bi(u1,"onTransitionEnd");yo("onMouseEnter",["mouseout","mouseover"]);yo("onMouseLeave",["mouseout","mouseover"]);yo("onPointerEnter",["pointerout","pointerover"]);yo("onPointerLeave",["pointerout","pointerover"]);ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ta));function pv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,jA(r,e,void 0,t),t.currentTarget=null}function d1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;pv(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;pv(i,a,c),s=u}}}if(lc)throw t=bf,lc=!1,bf=null,t}function je(t,e){var n=e[Mf];n===void 0&&(n=e[Mf]=new Set);var r=t+"__bubble";n.has(r)||(h1(e,t,2,!1),n.add(r))}function Rh(t,e,n){var r=0;e&&(r|=4),h1(n,t,r,e)}var fu="_reactListening"+Math.random().toString(36).slice(2);function Xa(t){if(!t[fu]){t[fu]=!0,w_.forEach(function(n){n!=="selectionchange"&&(FI.has(n)||Rh(n,!1,t),Rh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fu]||(e[fu]=!0,Rh("selectionchange",!1,e))}}function h1(t,e,n,r){switch(Q_(e)){case 1:var i=ZA;break;case 4:i=eI;break;default:i=am}n=i.bind(null,e,n,t),i=void 0,!Cf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ph(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Hi(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}V_(function(){var c=s,d=rm(n),p=[];e:{var h=c1.get(t);if(h!==void 0){var w=um,x=t;switch(t){case"keypress":if(Uu(n)===0)break e;case"keydown":case"keyup":w=mI;break;case"focusin":x="focus",w=Th;break;case"focusout":x="blur",w=Th;break;case"beforeblur":case"afterblur":w=Th;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=nv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=rI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=vI;break;case o1:case a1:case l1:w=oI;break;case u1:w=_I;break;case"scroll":w=tI;break;case"wheel":w=EI;break;case"copy":case"cut":case"paste":w=lI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=iv}var g=(e&4)!==0,S=!g&&t==="scroll",E=g?h!==null?h+"Capture":null:h;g=[];for(var _=c,C;_!==null;){C=_;var N=C.stateNode;if(C.tag===5&&N!==null&&(C=N,E!==null&&(N=Wa(_,E),N!=null&&g.push(Ja(_,N,C)))),S)break;_=_.return}0<g.length&&(h=new w(h,x,null,n,d),p.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",h&&n!==Tf&&(x=n.relatedTarget||n.fromElement)&&(Hi(x)||x[gr]))break e;if((w||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,w?(x=n.relatedTarget||n.toElement,w=c,x=x?Hi(x):null,x!==null&&(S=ms(x),x!==S||x.tag!==5&&x.tag!==6)&&(x=null)):(w=null,x=c),w!==x)){if(g=nv,N="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=iv,N="onPointerLeave",E="onPointerEnter",_="pointer"),S=w==null?h:Ls(w),C=x==null?h:Ls(x),h=new g(N,_+"leave",w,n,d),h.target=S,h.relatedTarget=C,N=null,Hi(d)===c&&(g=new g(E,_+"enter",x,n,d),g.target=C,g.relatedTarget=S,N=g),S=N,w&&x)t:{for(g=w,E=x,_=0,C=g;C;C=Cs(C))_++;for(C=0,N=E;N;N=Cs(N))C++;for(;0<_-C;)g=Cs(g),_--;for(;0<C-_;)E=Cs(E),C--;for(;_--;){if(g===E||E!==null&&g===E.alternate)break t;g=Cs(g),E=Cs(E)}g=null}else g=null;w!==null&&mv(p,h,w,g,!1),x!==null&&S!==null&&mv(p,S,x,g,!0)}}e:{if(h=c?Ls(c):window,w=h.nodeName&&h.nodeName.toLowerCase(),w==="select"||w==="input"&&h.type==="file")var O=RI;else if(av(h))if(t1)O=DI;else{O=NI;var V=PI}else(w=h.nodeName)&&w.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=kI);if(O&&(O=O(t,c))){e1(p,O,n,d);break e}V&&V(t,h,c),t==="focusout"&&(V=h._wrapperState)&&V.controlled&&h.type==="number"&&vf(h,"number",h.value)}switch(V=c?Ls(c):window,t){case"focusin":(av(V)||V.contentEditable==="true")&&(Ms=V,Pf=c,ka=null);break;case"focusout":ka=Pf=Ms=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,hv(p,n,d);break;case"selectionchange":if(MI)break;case"keydown":case"keyup":hv(p,n,d)}var T;if(dm)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vs?J_(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(X_&&n.locale!=="ko"&&(Vs||b!=="onCompositionStart"?b==="onCompositionEnd"&&Vs&&(T=Y_()):(qr=d,lm="value"in qr?qr.value:qr.textContent,Vs=!0)),V=fc(c,b),0<V.length&&(b=new rv(b,t,null,n,d),p.push({event:b,listeners:V}),T?b.data=T:(T=Z_(n),T!==null&&(b.data=T)))),(T=SI?CI(t,n):bI(t,n))&&(c=fc(c,"onBeforeInput"),0<c.length&&(d=new rv("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=T))}d1(p,e)})}function Ja(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wa(t,n),s!=null&&r.unshift(Ja(t,s,i)),s=Wa(t,e),s!=null&&r.push(Ja(t,s,i))),t=t.return}return r}function Cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=Wa(n,s),u!=null&&o.unshift(Ja(n,u,a))):i||(u=Wa(n,s),u!=null&&o.push(Ja(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var zI=/\r\n?/g,UI=/\u0000|\uFFFD/g;function gv(t){return(typeof t=="string"?t:""+t).replace(zI,`
`).replace(UI,"")}function pu(t,e,n){if(e=gv(e),gv(t)!==e&&n)throw Error(B(425))}function pc(){}var kf=null,Df=null;function Of(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vf=typeof setTimeout=="function"?setTimeout:void 0,$I=typeof clearTimeout=="function"?clearTimeout:void 0,yv=typeof Promise=="function"?Promise:void 0,BI=typeof queueMicrotask=="function"?queueMicrotask:typeof yv<"u"?function(t){return yv.resolve(null).then(t).catch(HI)}:Vf;function HI(t){setTimeout(function(){throw t})}function Nh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ga(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ga(e)}function ei(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vo=Math.random().toString(36).slice(2),qn="__reactFiber$"+Vo,Za="__reactProps$"+Vo,gr="__reactContainer$"+Vo,Mf="__reactEvents$"+Vo,WI="__reactListeners$"+Vo,KI="__reactHandles$"+Vo;function Hi(t){var e=t[qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gr]||n[qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vv(t);t!==null;){if(n=t[qn])return n;t=vv(t)}return e}t=n,n=t.parentNode}return null}function Cl(t){return t=t[qn]||t[gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ls(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function ad(t){return t[Za]||null}var jf=[],Fs=-1;function Ai(t){return{current:t}}function Le(t){0>Fs||(t.current=jf[Fs],jf[Fs]=null,Fs--)}function De(t,e){Fs++,jf[Fs]=t.current,t.current=e}var hi={},Dt=Ai(hi),Gt=Ai(!1),ns=hi;function vo(t,e){var n=t.type.contextTypes;if(!n)return hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qt(t){return t=t.childContextTypes,t!=null}function mc(){Le(Gt),Le(Dt)}function wv(t,e,n){if(Dt.current!==hi)throw Error(B(168));De(Dt,e),De(Gt,n)}function f1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,PA(t)||"Unknown",i));return We({},n,r)}function gc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,ns=Dt.current,De(Dt,t),De(Gt,Gt.current),!0}function _v(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=f1(t,e,ns),r.__reactInternalMemoizedMergedChildContext=t,Le(Gt),Le(Dt),De(Dt,t)):Le(Gt),De(Gt,n)}var dr=null,ld=!1,kh=!1;function p1(t){dr===null?dr=[t]:dr.push(t)}function qI(t){ld=!0,p1(t)}function Ii(){if(!kh&&dr!==null){kh=!0;var t=0,e=Re;try{var n=dr;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dr=null,ld=!1}catch(i){throw dr!==null&&(dr=dr.slice(t+1)),F_(im,Ii),i}finally{Re=e,kh=!1}}return null}var zs=[],Us=0,yc=null,vc=0,mn=[],gn=0,rs=null,hr=1,fr="";function Ui(t,e){zs[Us++]=vc,zs[Us++]=yc,yc=t,vc=e}function m1(t,e,n){mn[gn++]=hr,mn[gn++]=fr,mn[gn++]=rs,rs=t;var r=hr;t=fr;var i=32-Pn(r)-1;r&=~(1<<i),n+=1;var s=32-Pn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,hr=1<<32-Pn(e)+i|n<<i|r,fr=s+t}else hr=1<<s|n<<i|r,fr=t}function fm(t){t.return!==null&&(Ui(t,1),m1(t,1,0))}function pm(t){for(;t===yc;)yc=zs[--Us],zs[Us]=null,vc=zs[--Us],zs[Us]=null;for(;t===rs;)rs=mn[--gn],mn[gn]=null,fr=mn[--gn],mn[gn]=null,hr=mn[--gn],mn[gn]=null}var on=null,rn=null,Ue=!1,Rn=null;function g1(t,e){var n=yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,on=t,rn=ei(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,on=t,rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=rs!==null?{id:hr,overflow:fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,on=t,rn=null,!0):!1;default:return!1}}function Lf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ff(t){if(Ue){var e=rn;if(e){var n=e;if(!xv(t,e)){if(Lf(t))throw Error(B(418));e=ei(n.nextSibling);var r=on;e&&xv(t,e)?g1(r,n):(t.flags=t.flags&-4097|2,Ue=!1,on=t)}}else{if(Lf(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ue=!1,on=t}}}function Ev(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;on=t}function mu(t){if(t!==on)return!1;if(!Ue)return Ev(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Of(t.type,t.memoizedProps)),e&&(e=rn)){if(Lf(t))throw y1(),Error(B(418));for(;e;)g1(t,e),e=ei(e.nextSibling)}if(Ev(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rn=ei(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rn=null}}else rn=on?ei(t.stateNode.nextSibling):null;return!0}function y1(){for(var t=rn;t;)t=ei(t.nextSibling)}function wo(){rn=on=null,Ue=!1}function mm(t){Rn===null?Rn=[t]:Rn.push(t)}var GI=Sr.ReactCurrentBatchConfig;function ma(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function gu(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Tv(t){var e=t._init;return e(t._payload)}function v1(t){function e(E,_){if(t){var C=E.deletions;C===null?(E.deletions=[_],E.flags|=16):C.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function i(E,_){return E=ii(E,_),E.index=0,E.sibling=null,E}function s(E,_,C){return E.index=C,t?(C=E.alternate,C!==null?(C=C.index,C<_?(E.flags|=2,_):C):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,_,C,N){return _===null||_.tag!==6?(_=Fh(C,E.mode,N),_.return=E,_):(_=i(_,C),_.return=E,_)}function u(E,_,C,N){var O=C.type;return O===Os?d(E,_,C.props.children,N,C.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Lr&&Tv(O)===_.type)?(N=i(_,C.props),N.ref=ma(E,_,C),N.return=E,N):(N=Gu(C.type,C.key,C.props,null,E.mode,N),N.ref=ma(E,_,C),N.return=E,N)}function c(E,_,C,N){return _===null||_.tag!==4||_.stateNode.containerInfo!==C.containerInfo||_.stateNode.implementation!==C.implementation?(_=zh(C,E.mode,N),_.return=E,_):(_=i(_,C.children||[]),_.return=E,_)}function d(E,_,C,N,O){return _===null||_.tag!==7?(_=ts(C,E.mode,N,O),_.return=E,_):(_=i(_,C),_.return=E,_)}function p(E,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Fh(""+_,E.mode,C),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case su:return C=Gu(_.type,_.key,_.props,null,E.mode,C),C.ref=ma(E,null,_),C.return=E,C;case Ds:return _=zh(_,E.mode,C),_.return=E,_;case Lr:var N=_._init;return p(E,N(_._payload),C)}if(xa(_)||ca(_))return _=ts(_,E.mode,C,null),_.return=E,_;gu(E,_)}return null}function h(E,_,C,N){var O=_!==null?_.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return O!==null?null:a(E,_,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case su:return C.key===O?u(E,_,C,N):null;case Ds:return C.key===O?c(E,_,C,N):null;case Lr:return O=C._init,h(E,_,O(C._payload),N)}if(xa(C)||ca(C))return O!==null?null:d(E,_,C,N,null);gu(E,C)}return null}function w(E,_,C,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return E=E.get(C)||null,a(_,E,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case su:return E=E.get(N.key===null?C:N.key)||null,u(_,E,N,O);case Ds:return E=E.get(N.key===null?C:N.key)||null,c(_,E,N,O);case Lr:var V=N._init;return w(E,_,C,V(N._payload),O)}if(xa(N)||ca(N))return E=E.get(C)||null,d(_,E,N,O,null);gu(_,N)}return null}function x(E,_,C,N){for(var O=null,V=null,T=_,b=_=0,A=null;T!==null&&b<C.length;b++){T.index>b?(A=T,T=null):A=T.sibling;var R=h(E,T,C[b],N);if(R===null){T===null&&(T=A);break}t&&T&&R.alternate===null&&e(E,T),_=s(R,_,b),V===null?O=R:V.sibling=R,V=R,T=A}if(b===C.length)return n(E,T),Ue&&Ui(E,b),O;if(T===null){for(;b<C.length;b++)T=p(E,C[b],N),T!==null&&(_=s(T,_,b),V===null?O=T:V.sibling=T,V=T);return Ue&&Ui(E,b),O}for(T=r(E,T);b<C.length;b++)A=w(T,E,b,C[b],N),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?b:A.key),_=s(A,_,b),V===null?O=A:V.sibling=A,V=A);return t&&T.forEach(function(k){return e(E,k)}),Ue&&Ui(E,b),O}function g(E,_,C,N){var O=ca(C);if(typeof O!="function")throw Error(B(150));if(C=O.call(C),C==null)throw Error(B(151));for(var V=O=null,T=_,b=_=0,A=null,R=C.next();T!==null&&!R.done;b++,R=C.next()){T.index>b?(A=T,T=null):A=T.sibling;var k=h(E,T,R.value,N);if(k===null){T===null&&(T=A);break}t&&T&&k.alternate===null&&e(E,T),_=s(k,_,b),V===null?O=k:V.sibling=k,V=k,T=A}if(R.done)return n(E,T),Ue&&Ui(E,b),O;if(T===null){for(;!R.done;b++,R=C.next())R=p(E,R.value,N),R!==null&&(_=s(R,_,b),V===null?O=R:V.sibling=R,V=R);return Ue&&Ui(E,b),O}for(T=r(E,T);!R.done;b++,R=C.next())R=w(T,E,b,R.value,N),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?b:R.key),_=s(R,_,b),V===null?O=R:V.sibling=R,V=R);return t&&T.forEach(function(D){return e(E,D)}),Ue&&Ui(E,b),O}function S(E,_,C,N){if(typeof C=="object"&&C!==null&&C.type===Os&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case su:e:{for(var O=C.key,V=_;V!==null;){if(V.key===O){if(O=C.type,O===Os){if(V.tag===7){n(E,V.sibling),_=i(V,C.props.children),_.return=E,E=_;break e}}else if(V.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Lr&&Tv(O)===V.type){n(E,V.sibling),_=i(V,C.props),_.ref=ma(E,V,C),_.return=E,E=_;break e}n(E,V);break}else e(E,V);V=V.sibling}C.type===Os?(_=ts(C.props.children,E.mode,N,C.key),_.return=E,E=_):(N=Gu(C.type,C.key,C.props,null,E.mode,N),N.ref=ma(E,_,C),N.return=E,E=N)}return o(E);case Ds:e:{for(V=C.key;_!==null;){if(_.key===V)if(_.tag===4&&_.stateNode.containerInfo===C.containerInfo&&_.stateNode.implementation===C.implementation){n(E,_.sibling),_=i(_,C.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=zh(C,E.mode,N),_.return=E,E=_}return o(E);case Lr:return V=C._init,S(E,_,V(C._payload),N)}if(xa(C))return x(E,_,C,N);if(ca(C))return g(E,_,C,N);gu(E,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,_!==null&&_.tag===6?(n(E,_.sibling),_=i(_,C),_.return=E,E=_):(n(E,_),_=Fh(C,E.mode,N),_.return=E,E=_),o(E)):n(E,_)}return S}var _o=v1(!0),w1=v1(!1),wc=Ai(null),_c=null,$s=null,gm=null;function ym(){gm=$s=_c=null}function vm(t){var e=wc.current;Le(wc),t._currentValue=e}function zf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Js(t,e){_c=t,gm=$s=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qt=!0),t.firstContext=null)}function _n(t){var e=t._currentValue;if(gm!==t)if(t={context:t,memoizedValue:e,next:null},$s===null){if(_c===null)throw Error(B(308));$s=t,_c.dependencies={lanes:0,firstContext:t}}else $s=$s.next=t;return e}var Wi=null;function wm(t){Wi===null?Wi=[t]:Wi.push(t)}function _1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,wm(e)):(n.next=i.next,i.next=n),e.interleaved=n,yr(t,r)}function yr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fr=!1;function _m(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function x1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,yr(t,n)}return i=r.interleaved,i===null?(e.next=e,wm(r)):(e.next=i.next,i.next=e),r.interleaved=e,yr(t,n)}function $u(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sm(t,n)}}function Sv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xc(t,e,n,r){var i=t.updateQueue;Fr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,d=c=u=null,a=s;do{var h=a.lane,w=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,g=a;switch(h=e,w=n,g.tag){case 1:if(x=g.payload,typeof x=="function"){p=x.call(w,p,h);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,h=typeof x=="function"?x.call(w,p,h):x,h==null)break e;p=We({},p,h);break e;case 2:Fr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else w={eventTime:w,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=w,u=p):d=d.next=w,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ss|=o,t.lanes=o,t.memoizedState=p}}function Cv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var bl={},Yn=Ai(bl),el=Ai(bl),tl=Ai(bl);function Ki(t){if(t===bl)throw Error(B(174));return t}function xm(t,e){switch(De(tl,e),De(el,t),De(Yn,bl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_f(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_f(e,t)}Le(Yn),De(Yn,e)}function xo(){Le(Yn),Le(el),Le(tl)}function E1(t){Ki(tl.current);var e=Ki(Yn.current),n=_f(e,t.type);e!==n&&(De(el,t),De(Yn,n))}function Em(t){el.current===t&&(Le(Yn),Le(el))}var Be=Ai(0);function Ec(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dh=[];function Tm(){for(var t=0;t<Dh.length;t++)Dh[t]._workInProgressVersionPrimary=null;Dh.length=0}var Bu=Sr.ReactCurrentDispatcher,Oh=Sr.ReactCurrentBatchConfig,is=0,He=null,ot=null,ht=null,Tc=!1,Da=!1,nl=0,QI=0;function bt(){throw Error(B(321))}function Sm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dn(t[n],e[n]))return!1;return!0}function Cm(t,e,n,r,i,s){if(is=s,He=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bu.current=t===null||t.memoizedState===null?ZI:eR,t=n(r,i),Da){s=0;do{if(Da=!1,nl=0,25<=s)throw Error(B(301));s+=1,ht=ot=null,e.updateQueue=null,Bu.current=tR,t=n(r,i)}while(Da)}if(Bu.current=Sc,e=ot!==null&&ot.next!==null,is=0,ht=ot=He=null,Tc=!1,e)throw Error(B(300));return t}function bm(){var t=nl!==0;return nl=0,t}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?He.memoizedState=ht=t:ht=ht.next=t,ht}function xn(){if(ot===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=ht===null?He.memoizedState:ht.next;if(e!==null)ht=e,ot=t;else{if(t===null)throw Error(B(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ht===null?He.memoizedState=ht=t:ht=ht.next=t}return ht}function rl(t,e){return typeof e=="function"?e(t):e}function Vh(t){var e=xn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=ot,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var d=c.lane;if((is&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=p,o=r):u=u.next=p,He.lanes|=d,ss|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,Dn(r,e.memoizedState)||(qt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,He.lanes|=s,ss|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mh(t){var e=xn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Dn(s,e.memoizedState)||(qt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function T1(){}function S1(t,e){var n=He,r=xn(),i=e(),s=!Dn(r.memoizedState,i);if(s&&(r.memoizedState=i,qt=!0),r=r.queue,Am(A1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,il(9,b1.bind(null,n,r,i,e),void 0,null),ft===null)throw Error(B(349));is&30||C1(n,e,i)}return i}function C1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function b1(t,e,n,r){e.value=n,e.getSnapshot=r,I1(e)&&R1(t)}function A1(t,e,n){return n(function(){I1(e)&&R1(t)})}function I1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dn(t,n)}catch{return!0}}function R1(t){var e=yr(t,1);e!==null&&Nn(e,t,1,-1)}function bv(t){var e=$n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:t},e.queue=t,t=t.dispatch=JI.bind(null,He,t),[e.memoizedState,t]}function il(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function P1(){return xn().memoizedState}function Hu(t,e,n,r){var i=$n();He.flags|=t,i.memoizedState=il(1|e,n,void 0,r===void 0?null:r)}function ud(t,e,n,r){var i=xn();r=r===void 0?null:r;var s=void 0;if(ot!==null){var o=ot.memoizedState;if(s=o.destroy,r!==null&&Sm(r,o.deps)){i.memoizedState=il(e,n,s,r);return}}He.flags|=t,i.memoizedState=il(1|e,n,s,r)}function Av(t,e){return Hu(8390656,8,t,e)}function Am(t,e){return ud(2048,8,t,e)}function N1(t,e){return ud(4,2,t,e)}function k1(t,e){return ud(4,4,t,e)}function D1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function O1(t,e,n){return n=n!=null?n.concat([t]):null,ud(4,4,D1.bind(null,e,t),n)}function Im(){}function V1(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function M1(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function j1(t,e,n){return is&21?(Dn(n,e)||(n=$_(),He.lanes|=n,ss|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=n)}function YI(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=Oh.transition;Oh.transition={};try{t(!1),e()}finally{Re=n,Oh.transition=r}}function L1(){return xn().memoizedState}function XI(t,e,n){var r=ri(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},F1(t))z1(e,n);else if(n=_1(t,e,n,r),n!==null){var i=zt();Nn(n,t,r,i),U1(n,e,r)}}function JI(t,e,n){var r=ri(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(F1(t))z1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Dn(a,o)){var u=e.interleaved;u===null?(i.next=i,wm(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=_1(t,e,i,r),n!==null&&(i=zt(),Nn(n,t,r,i),U1(n,e,r))}}function F1(t){var e=t.alternate;return t===He||e!==null&&e===He}function z1(t,e){Da=Tc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function U1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sm(t,n)}}var Sc={readContext:_n,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},ZI={readContext:_n,useCallback:function(t,e){return $n().memoizedState=[t,e===void 0?null:e],t},useContext:_n,useEffect:Av,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hu(4194308,4,D1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hu(4,2,t,e)},useMemo:function(t,e){var n=$n();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$n();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=XI.bind(null,He,t),[r.memoizedState,t]},useRef:function(t){var e=$n();return t={current:t},e.memoizedState=t},useState:bv,useDebugValue:Im,useDeferredValue:function(t){return $n().memoizedState=t},useTransition:function(){var t=bv(!1),e=t[0];return t=YI.bind(null,t[1]),$n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=He,i=$n();if(Ue){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),ft===null)throw Error(B(349));is&30||C1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Av(A1.bind(null,r,s,t),[t]),r.flags|=2048,il(9,b1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=$n(),e=ft.identifierPrefix;if(Ue){var n=fr,r=hr;n=(r&~(1<<32-Pn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=nl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=QI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},eR={readContext:_n,useCallback:V1,useContext:_n,useEffect:Am,useImperativeHandle:O1,useInsertionEffect:N1,useLayoutEffect:k1,useMemo:M1,useReducer:Vh,useRef:P1,useState:function(){return Vh(rl)},useDebugValue:Im,useDeferredValue:function(t){var e=xn();return j1(e,ot.memoizedState,t)},useTransition:function(){var t=Vh(rl)[0],e=xn().memoizedState;return[t,e]},useMutableSource:T1,useSyncExternalStore:S1,useId:L1,unstable_isNewReconciler:!1},tR={readContext:_n,useCallback:V1,useContext:_n,useEffect:Am,useImperativeHandle:O1,useInsertionEffect:N1,useLayoutEffect:k1,useMemo:M1,useReducer:Mh,useRef:P1,useState:function(){return Mh(rl)},useDebugValue:Im,useDeferredValue:function(t){var e=xn();return ot===null?e.memoizedState=t:j1(e,ot.memoizedState,t)},useTransition:function(){var t=Mh(rl)[0],e=xn().memoizedState;return[t,e]},useMutableSource:T1,useSyncExternalStore:S1,useId:L1,unstable_isNewReconciler:!1};function Cn(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Uf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var cd={isMounted:function(t){return(t=t._reactInternals)?ms(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zt(),i=ri(t),s=pr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ti(t,s,i),e!==null&&(Nn(e,t,i,r),$u(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zt(),i=ri(t),s=pr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ti(t,s,i),e!==null&&(Nn(e,t,i,r),$u(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zt(),r=ri(t),i=pr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ti(t,i,r),e!==null&&(Nn(e,t,r,n),$u(e,t,r))}};function Iv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ya(n,r)||!Ya(i,s):!0}function $1(t,e,n){var r=!1,i=hi,s=e.contextType;return typeof s=="object"&&s!==null?s=_n(s):(i=Qt(e)?ns:Dt.current,r=e.contextTypes,s=(r=r!=null)?vo(t,i):hi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Rv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&cd.enqueueReplaceState(e,e.state,null)}function $f(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},_m(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=_n(s):(s=Qt(e)?ns:Dt.current,i.context=vo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Uf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&cd.enqueueReplaceState(i,i.state,null),xc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Eo(t,e){try{var n="",r=e;do n+=RA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function jh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var nR=typeof WeakMap=="function"?WeakMap:Map;function B1(t,e,n){n=pr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bc||(bc=!0,Zf=r),Bf(t,e)},n}function H1(t,e,n){n=pr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Bf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Bf(t,e),typeof r!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Pv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new nR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=gR.bind(null,t,e,n),e.then(t,t))}function Nv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function kv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pr(-1,1),e.tag=2,ti(n,e,1))),n.lanes|=1),t)}var rR=Sr.ReactCurrentOwner,qt=!1;function Lt(t,e,n,r){e.child=t===null?w1(e,null,n,r):_o(e,t.child,n,r)}function Dv(t,e,n,r,i){n=n.render;var s=e.ref;return Js(e,i),r=Cm(t,e,n,r,s,i),n=bm(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vr(t,e,i)):(Ue&&n&&fm(e),e.flags|=1,Lt(t,e,r,i),e.child)}function Ov(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Mm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,W1(t,e,s,r,i)):(t=Gu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ya,n(o,r)&&t.ref===e.ref)return vr(t,e,i)}return e.flags|=1,t=ii(s,r),t.ref=e.ref,t.return=e,e.child=t}function W1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ya(s,r)&&t.ref===e.ref)if(qt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(qt=!0);else return e.lanes=t.lanes,vr(t,e,i)}return Hf(t,e,n,r,i)}function K1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Hs,en),en|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(Hs,en),en|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,De(Hs,en),en|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,De(Hs,en),en|=r;return Lt(t,e,i,n),e.child}function q1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hf(t,e,n,r,i){var s=Qt(n)?ns:Dt.current;return s=vo(e,s),Js(e,i),n=Cm(t,e,n,r,s,i),r=bm(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vr(t,e,i)):(Ue&&r&&fm(e),e.flags|=1,Lt(t,e,n,i),e.child)}function Vv(t,e,n,r,i){if(Qt(n)){var s=!0;gc(e)}else s=!1;if(Js(e,i),e.stateNode===null)Wu(t,e),$1(e,n,r),$f(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=_n(c):(c=Qt(n)?ns:Dt.current,c=vo(e,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Rv(e,o,r,c),Fr=!1;var h=e.memoizedState;o.state=h,xc(e,r,o,i),u=e.memoizedState,a!==r||h!==u||Gt.current||Fr?(typeof d=="function"&&(Uf(e,n,d,r),u=e.memoizedState),(a=Fr||Iv(e,n,a,r,h,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,x1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Cn(e.type,a),o.props=c,p=e.pendingProps,h=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=_n(u):(u=Qt(n)?ns:Dt.current,u=vo(e,u));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||h!==u)&&Rv(e,o,r,u),Fr=!1,h=e.memoizedState,o.state=h,xc(e,r,o,i);var x=e.memoizedState;a!==p||h!==x||Gt.current||Fr?(typeof w=="function"&&(Uf(e,n,w,r),x=e.memoizedState),(c=Fr||Iv(e,n,c,r,h,x,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Wf(t,e,n,r,s,i)}function Wf(t,e,n,r,i,s){q1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&_v(e,n,!1),vr(t,e,s);r=e.stateNode,rR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=_o(e,t.child,null,s),e.child=_o(e,null,a,s)):Lt(t,e,a,s),e.memoizedState=r.state,i&&_v(e,n,!0),e.child}function G1(t){var e=t.stateNode;e.pendingContext?wv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wv(t,e.context,!1),xm(t,e.containerInfo)}function Mv(t,e,n,r,i){return wo(),mm(i),e.flags|=256,Lt(t,e,n,r),e.child}var Kf={dehydrated:null,treeContext:null,retryLane:0};function qf(t){return{baseLanes:t,cachePool:null,transitions:null}}function Q1(t,e,n){var r=e.pendingProps,i=Be.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(Be,i&1),t===null)return Ff(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=fd(o,r,0,null),t=ts(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=qf(n),e.memoizedState=Kf,t):Rm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return iR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ii(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ii(a,s):(s=ts(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?qf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Kf,r}return s=t.child,t=s.sibling,r=ii(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Rm(t,e){return e=fd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yu(t,e,n,r){return r!==null&&mm(r),_o(e,t.child,null,n),t=Rm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=jh(Error(B(422))),yu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=fd({mode:"visible",children:r.children},i,0,null),s=ts(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&_o(e,t.child,null,o),e.child.memoizedState=qf(o),e.memoizedState=Kf,s);if(!(e.mode&1))return yu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=jh(s,r,void 0),yu(t,e,o,r)}if(a=(o&t.childLanes)!==0,qt||a){if(r=ft,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yr(t,i),Nn(r,t,i,-1))}return Vm(),r=jh(Error(B(421))),yu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=yR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,rn=ei(i.nextSibling),on=e,Ue=!0,Rn=null,t!==null&&(mn[gn++]=hr,mn[gn++]=fr,mn[gn++]=rs,hr=t.id,fr=t.overflow,rs=e),e=Rm(e,r.children),e.flags|=4096,e)}function jv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),zf(t.return,e,n)}function Lh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Y1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Lt(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jv(t,n,e);else if(t.tag===19)jv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(Be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ec(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Lh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ec(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Lh(e,!0,n,null,s);break;case"together":Lh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ss|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sR(t,e,n){switch(e.tag){case 3:G1(e),wo();break;case 5:E1(e);break;case 1:Qt(e.type)&&gc(e);break;case 4:xm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(wc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?Q1(t,e,n):(De(Be,Be.current&1),t=vr(t,e,n),t!==null?t.sibling:null);De(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Y1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,K1(t,e,n)}return vr(t,e,n)}var X1,Gf,J1,Z1;X1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gf=function(){};J1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ki(Yn.current);var s=null;switch(n){case"input":i=gf(t,i),r=gf(t,r),s=[];break;case"select":i=We({},i,{value:void 0}),r=We({},r,{value:void 0}),s=[];break;case"textarea":i=wf(t,i),r=wf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pc)}xf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ba.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ba.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&je("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Z1=function(t,e,n,r){n!==r&&(e.flags|=4)};function ga(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function At(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function oR(t,e,n){var r=e.pendingProps;switch(pm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(e),null;case 1:return Qt(e.type)&&mc(),At(e),null;case 3:return r=e.stateNode,xo(),Le(Gt),Le(Dt),Tm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rn!==null&&(np(Rn),Rn=null))),Gf(t,e),At(e),null;case 5:Em(e);var i=Ki(tl.current);if(n=e.type,t!==null&&e.stateNode!=null)J1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return At(e),null}if(t=Ki(Yn.current),mu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qn]=e,r[Za]=s,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(i=0;i<Ta.length;i++)je(Ta[i],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":Ky(r,s),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},je("invalid",r);break;case"textarea":Gy(r,s),je("invalid",r)}xf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&pu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pu(r.textContent,a,t),i=["children",""+a]):Ba.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",r)}switch(n){case"input":ou(r),qy(r,s,!0);break;case"textarea":ou(r),Qy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=pc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=A_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qn]=e,t[Za]=r,X1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ef(n,r),n){case"dialog":je("cancel",t),je("close",t),i=r;break;case"iframe":case"object":case"embed":je("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ta.length;i++)je(Ta[i],t);i=r;break;case"source":je("error",t),i=r;break;case"img":case"image":case"link":je("error",t),je("load",t),i=r;break;case"details":je("toggle",t),i=r;break;case"input":Ky(t,r),i=gf(t,r),je("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=We({},r,{value:void 0}),je("invalid",t);break;case"textarea":Gy(t,r),i=wf(t,r),je("invalid",t);break;default:i=r}xf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?P_(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&I_(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ha(t,u):typeof u=="number"&&Ha(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ba.hasOwnProperty(s)?u!=null&&s==="onScroll"&&je("scroll",t):u!=null&&Zp(t,s,u,o))}switch(n){case"input":ou(t),qy(t,r,!1);break;case"textarea":ou(t),Qy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+di(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Gs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Gs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=pc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return At(e),null;case 6:if(t&&e.stateNode!=null)Z1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Ki(tl.current),Ki(Yn.current),mu(e)){if(r=e.stateNode,n=e.memoizedProps,r[qn]=e,(s=r.nodeValue!==n)&&(t=on,t!==null))switch(t.tag){case 3:pu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qn]=e,e.stateNode=r}return At(e),null;case 13:if(Le(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&rn!==null&&e.mode&1&&!(e.flags&128))y1(),wo(),e.flags|=98560,s=!1;else if(s=mu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[qn]=e}else wo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;At(e),s=!1}else Rn!==null&&(np(Rn),Rn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?lt===0&&(lt=3):Vm())),e.updateQueue!==null&&(e.flags|=4),At(e),null);case 4:return xo(),Gf(t,e),t===null&&Xa(e.stateNode.containerInfo),At(e),null;case 10:return vm(e.type._context),At(e),null;case 17:return Qt(e.type)&&mc(),At(e),null;case 19:if(Le(Be),s=e.memoizedState,s===null)return At(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ga(s,!1);else{if(lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ec(t),o!==null){for(e.flags|=128,ga(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(Be,Be.current&1|2),e.child}t=t.sibling}s.tail!==null&&Je()>To&&(e.flags|=128,r=!0,ga(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ec(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ga(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ue)return At(e),null}else 2*Je()-s.renderingStartTime>To&&n!==1073741824&&(e.flags|=128,r=!0,ga(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Je(),e.sibling=null,n=Be.current,De(Be,r?n&1|2:n&1),e):(At(e),null);case 22:case 23:return Om(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?en&1073741824&&(At(e),e.subtreeFlags&6&&(e.flags|=8192)):At(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function aR(t,e){switch(pm(e),e.tag){case 1:return Qt(e.type)&&mc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xo(),Le(Gt),Le(Dt),Tm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Em(e),null;case 13:if(Le(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));wo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(Be),null;case 4:return xo(),null;case 10:return vm(e.type._context),null;case 22:case 23:return Om(),null;case 24:return null;default:return null}}var vu=!1,Nt=!1,lR=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Bs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ye(t,e,r)}else n.current=null}function Qf(t,e,n){try{n()}catch(r){Ye(t,e,r)}}var Lv=!1;function uR(t,e){if(kf=dc,t=i1(),hm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,p=t,h=null;t:for(;;){for(var w;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(w=p.firstChild)!==null;)h=p,p=w;for(;;){if(p===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++d===r&&(u=o),(w=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=w}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Df={focusedElem:t,selectionRange:n},dc=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,S=x.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?g:Cn(e.type,g),S);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(N){Ye(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return x=Lv,Lv=!1,x}function Oa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qf(e,n,s)}i=i.next}while(i!==r)}}function dd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Yf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ex(t){var e=t.alternate;e!==null&&(t.alternate=null,ex(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qn],delete e[Za],delete e[Mf],delete e[WI],delete e[KI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tx(t){return t.tag===5||t.tag===3||t.tag===4}function Fv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pc));else if(r!==4&&(t=t.child,t!==null))for(Xf(t,e,n),t=t.sibling;t!==null;)Xf(t,e,n),t=t.sibling}function Jf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jf(t,e,n),t=t.sibling;t!==null;)Jf(t,e,n),t=t.sibling}var gt=null,In=!1;function kr(t,e,n){for(n=n.child;n!==null;)nx(t,e,n),n=n.sibling}function nx(t,e,n){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(rd,n)}catch{}switch(n.tag){case 5:Nt||Bs(n,e);case 6:var r=gt,i=In;gt=null,kr(t,e,n),gt=r,In=i,gt!==null&&(In?(t=gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(In?(t=gt,n=n.stateNode,t.nodeType===8?Nh(t.parentNode,n):t.nodeType===1&&Nh(t,n),Ga(t)):Nh(gt,n.stateNode));break;case 4:r=gt,i=In,gt=n.stateNode.containerInfo,In=!0,kr(t,e,n),gt=r,In=i;break;case 0:case 11:case 14:case 15:if(!Nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qf(n,e,o),i=i.next}while(i!==r)}kr(t,e,n);break;case 1:if(!Nt&&(Bs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ye(n,e,a)}kr(t,e,n);break;case 21:kr(t,e,n);break;case 22:n.mode&1?(Nt=(r=Nt)||n.memoizedState!==null,kr(t,e,n),Nt=r):kr(t,e,n);break;default:kr(t,e,n)}}function zv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lR),e.forEach(function(r){var i=vR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:gt=a.stateNode,In=!1;break e;case 3:gt=a.stateNode.containerInfo,In=!0;break e;case 4:gt=a.stateNode.containerInfo,In=!0;break e}a=a.return}if(gt===null)throw Error(B(160));nx(s,o,i),gt=null,In=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Ye(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rx(e,t),e=e.sibling}function rx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tn(e,t),zn(t),r&4){try{Oa(3,t,t.return),dd(3,t)}catch(g){Ye(t,t.return,g)}try{Oa(5,t,t.return)}catch(g){Ye(t,t.return,g)}}break;case 1:Tn(e,t),zn(t),r&512&&n!==null&&Bs(n,n.return);break;case 5:if(Tn(e,t),zn(t),r&512&&n!==null&&Bs(n,n.return),t.flags&32){var i=t.stateNode;try{Ha(i,"")}catch(g){Ye(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&C_(i,s),Ef(a,o);var c=Ef(a,s);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?P_(i,p):d==="dangerouslySetInnerHTML"?I_(i,p):d==="children"?Ha(i,p):Zp(i,d,p,c)}switch(a){case"input":yf(i,s);break;case"textarea":b_(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Gs(i,!!s.multiple,w,!1):h!==!!s.multiple&&(s.defaultValue!=null?Gs(i,!!s.multiple,s.defaultValue,!0):Gs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Za]=s}catch(g){Ye(t,t.return,g)}}break;case 6:if(Tn(e,t),zn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Ye(t,t.return,g)}}break;case 3:if(Tn(e,t),zn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ga(e.containerInfo)}catch(g){Ye(t,t.return,g)}break;case 4:Tn(e,t),zn(t);break;case 13:Tn(e,t),zn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(km=Je())),r&4&&zv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Nt=(c=Nt)||d,Tn(e,t),Nt=c):Tn(e,t),zn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(p=Q=d;Q!==null;){switch(h=Q,w=h.child,h.tag){case 0:case 11:case 14:case 15:Oa(4,h,h.return);break;case 1:Bs(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(g){Ye(r,n,g)}}break;case 5:Bs(h,h.return);break;case 22:if(h.memoizedState!==null){$v(p);continue}}w!==null?(w.return=h,Q=w):$v(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=R_("display",o))}catch(g){Ye(t,t.return,g)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(g){Ye(t,t.return,g)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Tn(e,t),zn(t),r&4&&zv(t);break;case 21:break;default:Tn(e,t),zn(t)}}function zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(tx(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ha(i,""),r.flags&=-33);var s=Fv(t);Jf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Fv(t);Xf(t,a,o);break;default:throw Error(B(161))}}catch(u){Ye(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cR(t,e,n){Q=t,ix(t)}function ix(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||vu;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Nt;a=vu;var c=Nt;if(vu=o,(Nt=u)&&!c)for(Q=i;Q!==null;)o=Q,u=o.child,o.tag===22&&o.memoizedState!==null?Bv(i):u!==null?(u.return=o,Q=u):Bv(i);for(;s!==null;)Q=s,ix(s),s=s.sibling;Q=i,vu=a,Nt=c}Uv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):Uv(t)}}function Uv(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nt||dd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Nt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Cn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Cv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Cv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Ga(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Nt||e.flags&512&&Yf(e)}catch(h){Ye(e,e.return,h)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function $v(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Bv(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dd(4,e)}catch(u){Ye(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Ye(e,i,u)}}var s=e.return;try{Yf(e)}catch(u){Ye(e,s,u)}break;case 5:var o=e.return;try{Yf(e)}catch(u){Ye(e,o,u)}}}catch(u){Ye(e,e.return,u)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var dR=Math.ceil,Cc=Sr.ReactCurrentDispatcher,Pm=Sr.ReactCurrentOwner,vn=Sr.ReactCurrentBatchConfig,Ee=0,ft=null,rt=null,wt=0,en=0,Hs=Ai(0),lt=0,sl=null,ss=0,hd=0,Nm=0,Va=null,Wt=null,km=0,To=1/0,cr=null,bc=!1,Zf=null,ni=null,wu=!1,Gr=null,Ac=0,Ma=0,ep=null,Ku=-1,qu=0;function zt(){return Ee&6?Je():Ku!==-1?Ku:Ku=Je()}function ri(t){return t.mode&1?Ee&2&&wt!==0?wt&-wt:GI.transition!==null?(qu===0&&(qu=$_()),qu):(t=Re,t!==0||(t=window.event,t=t===void 0?16:Q_(t.type)),t):1}function Nn(t,e,n,r){if(50<Ma)throw Ma=0,ep=null,Error(B(185));Tl(t,n,r),(!(Ee&2)||t!==ft)&&(t===ft&&(!(Ee&2)&&(hd|=n),lt===4&&Ur(t,wt)),Yt(t,r),n===1&&Ee===0&&!(e.mode&1)&&(To=Je()+500,ld&&Ii()))}function Yt(t,e){var n=t.callbackNode;GA(t,e);var r=cc(t,t===ft?wt:0);if(r===0)n!==null&&Jy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Jy(n),e===1)t.tag===0?qI(Hv.bind(null,t)):p1(Hv.bind(null,t)),BI(function(){!(Ee&6)&&Ii()}),n=null;else{switch(B_(r)){case 1:n=im;break;case 4:n=z_;break;case 16:n=uc;break;case 536870912:n=U_;break;default:n=uc}n=hx(n,sx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sx(t,e){if(Ku=-1,qu=0,Ee&6)throw Error(B(327));var n=t.callbackNode;if(Zs()&&t.callbackNode!==n)return null;var r=cc(t,t===ft?wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ic(t,r);else{e=r;var i=Ee;Ee|=2;var s=ax();(ft!==t||wt!==e)&&(cr=null,To=Je()+500,es(t,e));do try{pR();break}catch(a){ox(t,a)}while(!0);ym(),Cc.current=s,Ee=i,rt!==null?e=0:(ft=null,wt=0,e=lt)}if(e!==0){if(e===2&&(i=Af(t),i!==0&&(r=i,e=tp(t,i))),e===1)throw n=sl,es(t,0),Ur(t,r),Yt(t,Je()),n;if(e===6)Ur(t,r);else{if(i=t.current.alternate,!(r&30)&&!hR(i)&&(e=Ic(t,r),e===2&&(s=Af(t),s!==0&&(r=s,e=tp(t,s))),e===1))throw n=sl,es(t,0),Ur(t,r),Yt(t,Je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:$i(t,Wt,cr);break;case 3:if(Ur(t,r),(r&130023424)===r&&(e=km+500-Je(),10<e)){if(cc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){zt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vf($i.bind(null,t,Wt,cr),e);break}$i(t,Wt,cr);break;case 4:if(Ur(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Pn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dR(r/1960))-r,10<r){t.timeoutHandle=Vf($i.bind(null,t,Wt,cr),r);break}$i(t,Wt,cr);break;case 5:$i(t,Wt,cr);break;default:throw Error(B(329))}}}return Yt(t,Je()),t.callbackNode===n?sx.bind(null,t):null}function tp(t,e){var n=Va;return t.current.memoizedState.isDehydrated&&(es(t,e).flags|=256),t=Ic(t,e),t!==2&&(e=Wt,Wt=n,e!==null&&np(e)),t}function np(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function hR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Dn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ur(t,e){for(e&=~Nm,e&=~hd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pn(e),r=1<<n;t[n]=-1,e&=~r}}function Hv(t){if(Ee&6)throw Error(B(327));Zs();var e=cc(t,0);if(!(e&1))return Yt(t,Je()),null;var n=Ic(t,e);if(t.tag!==0&&n===2){var r=Af(t);r!==0&&(e=r,n=tp(t,r))}if(n===1)throw n=sl,es(t,0),Ur(t,e),Yt(t,Je()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$i(t,Wt,cr),Yt(t,Je()),null}function Dm(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(To=Je()+500,ld&&Ii())}}function os(t){Gr!==null&&Gr.tag===0&&!(Ee&6)&&Zs();var e=Ee;Ee|=1;var n=vn.transition,r=Re;try{if(vn.transition=null,Re=1,t)return t()}finally{Re=r,vn.transition=n,Ee=e,!(Ee&6)&&Ii()}}function Om(){en=Hs.current,Le(Hs)}function es(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$I(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(pm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mc();break;case 3:xo(),Le(Gt),Le(Dt),Tm();break;case 5:Em(r);break;case 4:xo();break;case 13:Le(Be);break;case 19:Le(Be);break;case 10:vm(r.type._context);break;case 22:case 23:Om()}n=n.return}if(ft=t,rt=t=ii(t.current,null),wt=en=e,lt=0,sl=null,Nm=hd=ss=0,Wt=Va=null,Wi!==null){for(e=0;e<Wi.length;e++)if(n=Wi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Wi=null}return t}function ox(t,e){do{var n=rt;try{if(ym(),Bu.current=Sc,Tc){for(var r=He.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Tc=!1}if(is=0,ht=ot=He=null,Da=!1,nl=0,Pm.current=null,n===null||n.return===null){lt=1,sl=e,rt=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=wt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=Nv(o);if(w!==null){w.flags&=-257,kv(w,o,a,s,e),w.mode&1&&Pv(s,c,e),e=w,u=c;var x=e.updateQueue;if(x===null){var g=new Set;g.add(u),e.updateQueue=g}else x.add(u);break e}else{if(!(e&1)){Pv(s,c,e),Vm();break e}u=Error(B(426))}}else if(Ue&&a.mode&1){var S=Nv(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),kv(S,o,a,s,e),mm(Eo(u,a));break e}}s=u=Eo(u,a),lt!==4&&(lt=2),Va===null?Va=[s]:Va.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=B1(s,u,e);Sv(s,E);break e;case 1:a=u;var _=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ni===null||!ni.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=H1(s,a,e);Sv(s,N);break e}}s=s.return}while(s!==null)}ux(n)}catch(O){e=O,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(!0)}function ax(){var t=Cc.current;return Cc.current=Sc,t===null?Sc:t}function Vm(){(lt===0||lt===3||lt===2)&&(lt=4),ft===null||!(ss&268435455)&&!(hd&268435455)||Ur(ft,wt)}function Ic(t,e){var n=Ee;Ee|=2;var r=ax();(ft!==t||wt!==e)&&(cr=null,es(t,e));do try{fR();break}catch(i){ox(t,i)}while(!0);if(ym(),Ee=n,Cc.current=r,rt!==null)throw Error(B(261));return ft=null,wt=0,lt}function fR(){for(;rt!==null;)lx(rt)}function pR(){for(;rt!==null&&!FA();)lx(rt)}function lx(t){var e=dx(t.alternate,t,en);t.memoizedProps=t.pendingProps,e===null?ux(t):rt=e,Pm.current=null}function ux(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=aR(n,e),n!==null){n.flags&=32767,rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{lt=6,rt=null;return}}else if(n=oR(n,e,en),n!==null){rt=n;return}if(e=e.sibling,e!==null){rt=e;return}rt=e=t}while(e!==null);lt===0&&(lt=5)}function $i(t,e,n){var r=Re,i=vn.transition;try{vn.transition=null,Re=1,mR(t,e,n,r)}finally{vn.transition=i,Re=r}return null}function mR(t,e,n,r){do Zs();while(Gr!==null);if(Ee&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(QA(t,s),t===ft&&(rt=ft=null,wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wu||(wu=!0,hx(uc,function(){return Zs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=vn.transition,vn.transition=null;var o=Re;Re=1;var a=Ee;Ee|=4,Pm.current=null,uR(t,n),rx(n,t),VI(Df),dc=!!kf,Df=kf=null,t.current=n,cR(n),zA(),Ee=a,Re=o,vn.transition=s}else t.current=n;if(wu&&(wu=!1,Gr=t,Ac=i),s=t.pendingLanes,s===0&&(ni=null),BA(n.stateNode),Yt(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bc)throw bc=!1,t=Zf,Zf=null,t;return Ac&1&&t.tag!==0&&Zs(),s=t.pendingLanes,s&1?t===ep?Ma++:(Ma=0,ep=t):Ma=0,Ii(),null}function Zs(){if(Gr!==null){var t=B_(Ac),e=vn.transition,n=Re;try{if(vn.transition=null,Re=16>t?16:t,Gr===null)var r=!1;else{if(t=Gr,Gr=null,Ac=0,Ee&6)throw Error(B(331));var i=Ee;for(Ee|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(Q=c;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:Oa(8,d,s)}var p=d.child;if(p!==null)p.return=d,Q=p;else for(;Q!==null;){d=Q;var h=d.sibling,w=d.return;if(ex(d),d===c){Q=null;break}if(h!==null){h.return=w,Q=h;break}Q=w}}}var x=s.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var S=g.sibling;g.sibling=null,g=S}while(g!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Oa(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,Q=E;break e}Q=s.return}}var _=t.current;for(Q=_;Q!==null;){o=Q;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,Q=C;else e:for(o=_;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dd(9,a)}}catch(O){Ye(a,a.return,O)}if(a===o){Q=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,Q=N;break e}Q=a.return}}if(Ee=i,Ii(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(rd,t)}catch{}r=!0}return r}finally{Re=n,vn.transition=e}}return!1}function Wv(t,e,n){e=Eo(n,e),e=B1(t,e,1),t=ti(t,e,1),e=zt(),t!==null&&(Tl(t,1,e),Yt(t,e))}function Ye(t,e,n){if(t.tag===3)Wv(t,t,n);else for(;e!==null;){if(e.tag===3){Wv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ni===null||!ni.has(r))){t=Eo(n,t),t=H1(e,t,1),e=ti(e,t,1),t=zt(),e!==null&&(Tl(e,1,t),Yt(e,t));break}}e=e.return}}function gR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zt(),t.pingedLanes|=t.suspendedLanes&n,ft===t&&(wt&n)===n&&(lt===4||lt===3&&(wt&130023424)===wt&&500>Je()-km?es(t,0):Nm|=n),Yt(t,e)}function cx(t,e){e===0&&(t.mode&1?(e=uu,uu<<=1,!(uu&130023424)&&(uu=4194304)):e=1);var n=zt();t=yr(t,e),t!==null&&(Tl(t,e,n),Yt(t,n))}function yR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cx(t,n)}function vR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),cx(t,n)}var dx;dx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gt.current)qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qt=!1,sR(t,e,n);qt=!!(t.flags&131072)}else qt=!1,Ue&&e.flags&1048576&&m1(e,vc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wu(t,e),t=e.pendingProps;var i=vo(e,Dt.current);Js(e,n),i=Cm(null,e,r,t,i,n);var s=bm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qt(r)?(s=!0,gc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_m(e),i.updater=cd,e.stateNode=i,i._reactInternals=e,$f(e,r,t,n),e=Wf(null,e,r,!0,s,n)):(e.tag=0,Ue&&s&&fm(e),Lt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_R(r),t=Cn(r,t),i){case 0:e=Hf(null,e,r,t,n);break e;case 1:e=Vv(null,e,r,t,n);break e;case 11:e=Dv(null,e,r,t,n);break e;case 14:e=Ov(null,e,r,Cn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),Hf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),Vv(t,e,r,i,n);case 3:e:{if(G1(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,x1(t,e),xc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Eo(Error(B(423)),e),e=Mv(t,e,r,n,i);break e}else if(r!==i){i=Eo(Error(B(424)),e),e=Mv(t,e,r,n,i);break e}else for(rn=ei(e.stateNode.containerInfo.firstChild),on=e,Ue=!0,Rn=null,n=w1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wo(),r===i){e=vr(t,e,n);break e}Lt(t,e,r,n)}e=e.child}return e;case 5:return E1(e),t===null&&Ff(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Of(r,i)?o=null:s!==null&&Of(r,s)&&(e.flags|=32),q1(t,e),Lt(t,e,o,n),e.child;case 6:return t===null&&Ff(e),null;case 13:return Q1(t,e,n);case 4:return xm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_o(e,null,r,n):Lt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),Dv(t,e,r,i,n);case 7:return Lt(t,e,e.pendingProps,n),e.child;case 8:return Lt(t,e,e.pendingProps.children,n),e.child;case 12:return Lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,De(wc,r._currentValue),r._currentValue=o,s!==null)if(Dn(s.value,o)){if(s.children===i.children&&!Gt.current){e=vr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=pr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),zf(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),zf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Lt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Js(e,n),i=_n(i),r=r(i),e.flags|=1,Lt(t,e,r,n),e.child;case 14:return r=e.type,i=Cn(r,e.pendingProps),i=Cn(r.type,i),Ov(t,e,r,i,n);case 15:return W1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),Wu(t,e),e.tag=1,Qt(r)?(t=!0,gc(e)):t=!1,Js(e,n),$1(e,r,i),$f(e,r,i,n),Wf(null,e,r,!0,t,n);case 19:return Y1(t,e,n);case 22:return K1(t,e,n)}throw Error(B(156,e.tag))};function hx(t,e){return F_(t,e)}function wR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,e,n,r){return new wR(t,e,n,r)}function Mm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _R(t){if(typeof t=="function")return Mm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tm)return 11;if(t===nm)return 14}return 2}function ii(t,e){var n=t.alternate;return n===null?(n=yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Mm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Os:return ts(n.children,i,s,e);case em:o=8,i|=8;break;case hf:return t=yn(12,n,e,i|2),t.elementType=hf,t.lanes=s,t;case ff:return t=yn(13,n,e,i),t.elementType=ff,t.lanes=s,t;case pf:return t=yn(19,n,e,i),t.elementType=pf,t.lanes=s,t;case E_:return fd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case __:o=10;break e;case x_:o=9;break e;case tm:o=11;break e;case nm:o=14;break e;case Lr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=yn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ts(t,e,n,r){return t=yn(7,t,r,e),t.lanes=n,t}function fd(t,e,n,r){return t=yn(22,t,r,e),t.elementType=E_,t.lanes=n,t.stateNode={isHidden:!1},t}function Fh(t,e,n){return t=yn(6,t,null,e),t.lanes=n,t}function zh(t,e,n){return e=yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_h(0),this.expirationTimes=_h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_h(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jm(t,e,n,r,i,s,o,a,u){return t=new xR(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=yn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_m(s),t}function ER(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ds,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fx(t){if(!t)return hi;t=t._reactInternals;e:{if(ms(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Qt(n))return f1(t,n,e)}return e}function px(t,e,n,r,i,s,o,a,u){return t=jm(n,r,!0,t,i,s,o,a,u),t.context=fx(null),n=t.current,r=zt(),i=ri(n),s=pr(r,i),s.callback=e??null,ti(n,s,i),t.current.lanes=i,Tl(t,i,r),Yt(t,r),t}function pd(t,e,n,r){var i=e.current,s=zt(),o=ri(i);return n=fx(n),e.context===null?e.context=n:e.pendingContext=n,e=pr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ti(i,e,o),t!==null&&(Nn(t,i,o,s),$u(t,i,o)),o}function Rc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Kv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Lm(t,e){Kv(t,e),(t=t.alternate)&&Kv(t,e)}function TR(){return null}var mx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fm(t){this._internalRoot=t}md.prototype.render=Fm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));pd(t,e,null,null)};md.prototype.unmount=Fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;os(function(){pd(null,t,null,null)}),e[gr]=null}};function md(t){this._internalRoot=t}md.prototype.unstable_scheduleHydration=function(t){if(t){var e=K_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zr.length&&e!==0&&e<zr[n].priority;n++);zr.splice(n,0,t),n===0&&G_(t)}};function zm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qv(){}function SR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Rc(o);s.call(c)}}var o=px(e,r,t,0,null,!1,!1,"",qv);return t._reactRootContainer=o,t[gr]=o.current,Xa(t.nodeType===8?t.parentNode:t),os(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Rc(u);a.call(c)}}var u=jm(t,0,!1,null,null,!1,!1,"",qv);return t._reactRootContainer=u,t[gr]=u.current,Xa(t.nodeType===8?t.parentNode:t),os(function(){pd(e,u,n,r)}),u}function yd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Rc(o);a.call(u)}}pd(e,o,t,i)}else o=SR(n,e,t,i,r);return Rc(o)}H_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ea(e.pendingLanes);n!==0&&(sm(e,n|1),Yt(e,Je()),!(Ee&6)&&(To=Je()+500,Ii()))}break;case 13:os(function(){var r=yr(t,1);if(r!==null){var i=zt();Nn(r,t,1,i)}}),Lm(t,1)}};om=function(t){if(t.tag===13){var e=yr(t,134217728);if(e!==null){var n=zt();Nn(e,t,134217728,n)}Lm(t,134217728)}};W_=function(t){if(t.tag===13){var e=ri(t),n=yr(t,e);if(n!==null){var r=zt();Nn(n,t,e,r)}Lm(t,e)}};K_=function(){return Re};q_=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};Sf=function(t,e,n){switch(e){case"input":if(yf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ad(r);if(!i)throw Error(B(90));S_(r),yf(r,i)}}}break;case"textarea":b_(t,n);break;case"select":e=n.value,e!=null&&Gs(t,!!n.multiple,e,!1)}};D_=Dm;O_=os;var CR={usingClientEntryPoint:!1,Events:[Cl,Ls,ad,N_,k_,Dm]},ya={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bR={bundleType:ya.bundleType,version:ya.version,rendererPackageName:ya.rendererPackageName,rendererConfig:ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=j_(t),t===null?null:t.stateNode},findFiberByHostInstance:ya.findFiberByHostInstance||TR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_u.isDisabled&&_u.supportsFiber)try{rd=_u.inject(bR),Qn=_u}catch{}}cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CR;cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zm(e))throw Error(B(200));return ER(t,e,null,n)};cn.createRoot=function(t,e){if(!zm(t))throw Error(B(299));var n=!1,r="",i=mx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=jm(t,1,!1,null,null,n,!1,r,i),t[gr]=e.current,Xa(t.nodeType===8?t.parentNode:t),new Fm(e)};cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=j_(e),t=t===null?null:t.stateNode,t};cn.flushSync=function(t){return os(t)};cn.hydrate=function(t,e,n){if(!gd(e))throw Error(B(200));return yd(null,t,e,!0,n)};cn.hydrateRoot=function(t,e,n){if(!zm(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=mx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=px(e,null,t,1,n??null,i,!1,s,o),t[gr]=e.current,Xa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new md(e)};cn.render=function(t,e,n){if(!gd(e))throw Error(B(200));return yd(null,t,e,!1,n)};cn.unmountComponentAtNode=function(t){if(!gd(t))throw Error(B(40));return t._reactRootContainer?(os(function(){yd(null,null,t,!1,function(){t._reactRootContainer=null,t[gr]=null})}),!0):!1};cn.unstable_batchedUpdates=Dm;cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gd(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return yd(t,e,n,!1,r)};cn.version="18.3.1-next-f1338f8080-20240426";function gx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gx)}catch(t){console.error(t)}}gx(),g_.exports=cn;var gs=g_.exports;const yx=r_(gs);var vx,Gv=gs;vx=Gv.createRoot,Gv.hydrateRoot;const AR=1,IR=1e6;let Uh=0;function RR(){return Uh=(Uh+1)%Number.MAX_SAFE_INTEGER,Uh.toString()}const $h=new Map,Qv=t=>{if($h.has(t))return;const e=setTimeout(()=>{$h.delete(t),ja({type:"REMOVE_TOAST",toastId:t})},IR);$h.set(t,e)},PR=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,AR)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Qv(n):t.toasts.forEach(r=>{Qv(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Qu=[];let Yu={toasts:[]};function ja(t){Yu=PR(Yu,t),Qu.forEach(e=>{e(Yu)})}function NR({...t}){const e=RR(),n=i=>ja({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>ja({type:"DISMISS_TOAST",toastId:e});return ja({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Um(){const[t,e]=v.useState(Yu);return v.useEffect(()=>(Qu.push(e),()=>{const n=Qu.indexOf(e);n>-1&&Qu.splice(n,1)}),[t]),{...t,toast:NR,dismiss:n=>ja({type:"DISMISS_TOAST",toastId:n})}}function ue(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function kR(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function wx(...t){return e=>t.forEach(n=>kR(n,e))}function ke(...t){return v.useCallback(wx(...t),t)}function DR(t,e=[]){let n=[];function r(s,o){const a=v.createContext(o),u=n.length;n=[...n,o];function c(p){const{scope:h,children:w,...x}=p,g=(h==null?void 0:h[t][u])||a,S=v.useMemo(()=>x,Object.values(x));return m.jsx(g.Provider,{value:S,children:w})}function d(p,h){const w=(h==null?void 0:h[t][u])||a,x=v.useContext(w);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>v.createContext(o));return function(a){const u=(a==null?void 0:a[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return i.scopeName=t,[r,OR(i,...e)]}function OR(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const p=u(s)[`__scope${c}`];return{...a,...p}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var as=v.forwardRef((t,e)=>{const{children:n,...r}=t,i=v.Children.toArray(n),s=i.find(VR);if(s){const o=s.props.children,a=i.map(u=>u===s?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:u);return m.jsx(rp,{...r,ref:e,children:v.isValidElement(o)?v.cloneElement(o,void 0,a):null})}return m.jsx(rp,{...r,ref:e,children:n})});as.displayName="Slot";var rp=v.forwardRef((t,e)=>{const{children:n,...r}=t;if(v.isValidElement(n)){const i=jR(n);return v.cloneElement(n,{...MR(r,n.props),ref:e?wx(e,i):i})}return v.Children.count(n)>1?v.Children.only(null):null});rp.displayName="SlotClone";var $m=({children:t})=>m.jsx(m.Fragment,{children:t});function VR(t){return v.isValidElement(t)&&t.type===$m}function MR(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function jR(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function _x(t){const e=t+"CollectionProvider",[n,r]=DR(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:x,children:g}=w,S=K.useRef(null),E=K.useRef(new Map).current;return m.jsx(i,{scope:x,itemMap:E,collectionRef:S,children:g})};o.displayName=e;const a=t+"CollectionSlot",u=K.forwardRef((w,x)=>{const{scope:g,children:S}=w,E=s(a,g),_=ke(x,E.collectionRef);return m.jsx(as,{ref:_,children:S})});u.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",p=K.forwardRef((w,x)=>{const{scope:g,children:S,...E}=w,_=K.useRef(null),C=ke(x,_),N=s(c,g);return K.useEffect(()=>(N.itemMap.set(_,{ref:_,...E}),()=>void N.itemMap.delete(_))),m.jsx(as,{[d]:"",ref:C,children:S})});p.displayName=c;function h(w){const x=s(t+"CollectionConsumer",w);return K.useCallback(()=>{const S=x.collectionRef.current;if(!S)return[];const E=Array.from(S.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((N,O)=>E.indexOf(N.ref.current)-E.indexOf(O.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},h,r]}function LR(t,e){const n=v.createContext(e),r=s=>{const{children:o,...a}=s,u=v.useMemo(()=>a,Object.values(a));return m.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function i(s){const o=v.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Al(t,e=[]){let n=[];function r(s,o){const a=v.createContext(o),u=n.length;n=[...n,o];const c=p=>{var E;const{scope:h,children:w,...x}=p,g=((E=h==null?void 0:h[t])==null?void 0:E[u])||a,S=v.useMemo(()=>x,Object.values(x));return m.jsx(g.Provider,{value:S,children:w})};c.displayName=s+"Provider";function d(p,h){var g;const w=((g=h==null?void 0:h[t])==null?void 0:g[u])||a,x=v.useContext(w);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>v.createContext(o));return function(a){const u=(a==null?void 0:a[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return i.scopeName=t,[r,FR(i,...e)]}function FR(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const p=u(s)[`__scope${c}`];return{...a,...p}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var zR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Te=zR.reduce((t,e)=>{const n=v.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?as:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function xx(t,e){t&&gs.flushSync(()=>t.dispatchEvent(e))}function un(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function UR(t,e=globalThis==null?void 0:globalThis.document){const n=un(t);v.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var $R="DismissableLayer",ip="dismissableLayer.update",BR="dismissableLayer.pointerDownOutside",HR="dismissableLayer.focusOutside",Yv,Ex=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Il=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...u}=t,c=v.useContext(Ex),[d,p]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=v.useState({}),x=ke(e,T=>p(T)),g=Array.from(c.layers),[S]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),E=g.indexOf(S),_=d?g.indexOf(d):-1,C=c.layersWithOutsidePointerEventsDisabled.size>0,N=_>=E,O=KR(T=>{const b=T.target,A=[...c.branches].some(R=>R.contains(b));!N||A||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},h),V=qR(T=>{const b=T.target;[...c.branches].some(R=>R.contains(b))||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},h);return UR(T=>{_===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},h),v.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Yv=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Xv(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Yv)}},[d,h,n,c]),v.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Xv())},[d,c]),v.useEffect(()=>{const T=()=>w({});return document.addEventListener(ip,T),()=>document.removeEventListener(ip,T)},[]),m.jsx(Te.div,{...u,ref:x,style:{pointerEvents:C?N?"auto":"none":void 0,...t.style},onFocusCapture:ue(t.onFocusCapture,V.onFocusCapture),onBlurCapture:ue(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:ue(t.onPointerDownCapture,O.onPointerDownCapture)})});Il.displayName=$R;var WR="DismissableLayerBranch",Tx=v.forwardRef((t,e)=>{const n=v.useContext(Ex),r=v.useRef(null),i=ke(e,r);return v.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),m.jsx(Te.div,{...t,ref:i})});Tx.displayName=WR;function KR(t,e=globalThis==null?void 0:globalThis.document){const n=un(t),r=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let u=function(){Sx(BR,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function qR(t,e=globalThis==null?void 0:globalThis.document){const n=un(t),r=v.useRef(!1);return v.useEffect(()=>{const i=s=>{s.target&&!r.current&&Sx(HR,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Xv(){const t=new CustomEvent(ip);document.dispatchEvent(t)}function Sx(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?xx(i,s):i.dispatchEvent(s)}var GR=Il,QR=Tx,Ot=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},YR="Portal",vd=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=v.useState(!1);Ot(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?yx.createPortal(m.jsx(Te.div,{...r,ref:e}),o):null});vd.displayName=YR;function XR(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var Mo=t=>{const{present:e,children:n}=t,r=JR(e),i=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),s=ke(r.ref,ZR(i));return typeof n=="function"||r.isPresent?v.cloneElement(i,{ref:s}):null};Mo.displayName="Presence";function JR(t){const[e,n]=v.useState(),r=v.useRef({}),i=v.useRef(t),s=v.useRef("none"),o=t?"mounted":"unmounted",[a,u]=XR(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=xu(r.current);s.current=a==="mounted"?c:"none"},[a]),Ot(()=>{const c=r.current,d=i.current;if(d!==t){const h=s.current,w=xu(c);t?u("MOUNT"):w==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(d&&h!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),Ot(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,p=w=>{const g=xu(r.current).includes(w.animationName);if(w.target===e&&g&&(u("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},h=w=>{w.target===e&&(s.current=xu(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function xu(t){return(t==null?void 0:t.animationName)||"none"}function ZR(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Pc({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=eP({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=un(n),u=v.useCallback(c=>{if(s){const p=typeof c=="function"?c(t):c;p!==t&&a(p)}else i(c)},[s,t,i,a]);return[o,u]}function eP({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,i=v.useRef(r),s=un(e);return v.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var tP="VisuallyHidden",Rl=v.forwardRef((t,e)=>m.jsx(Te.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Rl.displayName=tP;var nP=Rl,Bm="ToastProvider",[Hm,rP,iP]=_x("Toast"),[Cx,oF]=Al("Toast",[iP]),[sP,wd]=Cx(Bm),bx=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,u]=v.useState(null),[c,d]=v.useState(0),p=v.useRef(!1),h=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Bm}\`. Expected non-empty \`string\`.`),m.jsx(Hm.Provider,{scope:e,children:m.jsx(sP,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:u,onToastAdd:v.useCallback(()=>d(w=>w+1),[]),onToastRemove:v.useCallback(()=>d(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:h,children:o})})};bx.displayName=Bm;var Ax="ToastViewport",oP=["F8"],sp="toast.viewportPause",op="toast.viewportResume",Ix=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=oP,label:i="Notifications ({hotkey})",...s}=t,o=wd(Ax,n),a=rP(n),u=v.useRef(null),c=v.useRef(null),d=v.useRef(null),p=v.useRef(null),h=ke(e,p,o.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;v.useEffect(()=>{const S=E=>{var C;r.length!==0&&r.every(N=>E[N]||E.code===N)&&((C=p.current)==null||C.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),v.useEffect(()=>{const S=u.current,E=p.current;if(x&&S&&E){const _=()=>{if(!o.isClosePausedRef.current){const V=new CustomEvent(sp);E.dispatchEvent(V),o.isClosePausedRef.current=!0}},C=()=>{if(o.isClosePausedRef.current){const V=new CustomEvent(op);E.dispatchEvent(V),o.isClosePausedRef.current=!1}},N=V=>{!S.contains(V.relatedTarget)&&C()},O=()=>{S.contains(document.activeElement)||C()};return S.addEventListener("focusin",_),S.addEventListener("focusout",N),S.addEventListener("pointermove",_),S.addEventListener("pointerleave",O),window.addEventListener("blur",_),window.addEventListener("focus",C),()=>{S.removeEventListener("focusin",_),S.removeEventListener("focusout",N),S.removeEventListener("pointermove",_),S.removeEventListener("pointerleave",O),window.removeEventListener("blur",_),window.removeEventListener("focus",C)}}},[x,o.isClosePausedRef]);const g=v.useCallback(({tabbingDirection:S})=>{const _=a().map(C=>{const N=C.ref.current,O=[N,...wP(N)];return S==="forwards"?O:O.reverse()});return(S==="forwards"?_.reverse():_).flat()},[a]);return v.useEffect(()=>{const S=p.current;if(S){const E=_=>{var O,V,T;const C=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!C){const b=document.activeElement,A=_.shiftKey;if(_.target===S&&A){(O=c.current)==null||O.focus();return}const D=g({tabbingDirection:A?"backwards":"forwards"}),P=D.findIndex(H=>H===b);Bh(D.slice(P+1))?_.preventDefault():A?(V=c.current)==null||V.focus():(T=d.current)==null||T.focus()}};return S.addEventListener("keydown",E),()=>S.removeEventListener("keydown",E)}},[a,g]),m.jsxs(QR,{ref:u,role:"region","aria-label":i.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&m.jsx(ap,{ref:c,onFocusFromOutsideViewport:()=>{const S=g({tabbingDirection:"forwards"});Bh(S)}}),m.jsx(Hm.Slot,{scope:n,children:m.jsx(Te.ol,{tabIndex:-1,...s,ref:h})}),x&&m.jsx(ap,{ref:d,onFocusFromOutsideViewport:()=>{const S=g({tabbingDirection:"backwards"});Bh(S)}})]})});Ix.displayName=Ax;var Rx="ToastFocusProxy",ap=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=wd(Rx,n);return m.jsx(Rl,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});ap.displayName=Rx;var _d="Toast",aP="toast.swipeStart",lP="toast.swipeMove",uP="toast.swipeCancel",cP="toast.swipeEnd",Px=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,u]=Pc({prop:r,defaultProp:i,onChange:s});return m.jsx(Mo,{present:n||a,children:m.jsx(fP,{open:a,...o,ref:e,onClose:()=>u(!1),onPause:un(t.onPause),onResume:un(t.onResume),onSwipeStart:ue(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ue(t.onSwipeMove,c=>{const{x:d,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:ue(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ue(t.onSwipeEnd,c=>{const{x:d,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});Px.displayName=_d;var[dP,hP]=Cx(_d,{onClose(){}}),fP=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:u,onResume:c,onSwipeStart:d,onSwipeMove:p,onSwipeCancel:h,onSwipeEnd:w,...x}=t,g=wd(_d,n),[S,E]=v.useState(null),_=ke(e,H=>E(H)),C=v.useRef(null),N=v.useRef(null),O=i||g.duration,V=v.useRef(0),T=v.useRef(O),b=v.useRef(0),{onToastAdd:A,onToastRemove:R}=g,k=un(()=>{var re;(S==null?void 0:S.contains(document.activeElement))&&((re=g.viewport)==null||re.focus()),o()}),D=v.useCallback(H=>{!H||H===1/0||(window.clearTimeout(b.current),V.current=new Date().getTime(),b.current=window.setTimeout(k,H))},[k]);v.useEffect(()=>{const H=g.viewport;if(H){const re=()=>{D(T.current),c==null||c()},X=()=>{const ne=new Date().getTime()-V.current;T.current=T.current-ne,window.clearTimeout(b.current),u==null||u()};return H.addEventListener(sp,X),H.addEventListener(op,re),()=>{H.removeEventListener(sp,X),H.removeEventListener(op,re)}}},[g.viewport,O,u,c,D]),v.useEffect(()=>{s&&!g.isClosePausedRef.current&&D(O)},[s,O,g.isClosePausedRef,D]),v.useEffect(()=>(A(),()=>R()),[A,R]);const P=v.useMemo(()=>S?jx(S):null,[S]);return g.viewport?m.jsxs(m.Fragment,{children:[P&&m.jsx(pP,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),m.jsx(dP,{scope:n,onClose:k,children:gs.createPortal(m.jsx(Hm.ItemSlot,{scope:n,children:m.jsx(GR,{asChild:!0,onEscapeKeyDown:ue(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||k(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(Te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ue(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:ue(t.onPointerDown,H=>{H.button===0&&(C.current={x:H.clientX,y:H.clientY})}),onPointerMove:ue(t.onPointerMove,H=>{if(!C.current)return;const re=H.clientX-C.current.x,X=H.clientY-C.current.y,ne=!!N.current,j=["left","right"].includes(g.swipeDirection),$=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Y=j?$(0,re):0,q=j?0:$(0,X),J=H.pointerType==="touch"?10:2,ee={x:Y,y:q},Se={originalEvent:H,delta:ee};ne?(N.current=ee,Eu(lP,p,Se,{discrete:!1})):Jv(ee,g.swipeDirection,J)?(N.current=ee,Eu(aP,d,Se,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(re)>J||Math.abs(X)>J)&&(C.current=null)}),onPointerUp:ue(t.onPointerUp,H=>{const re=N.current,X=H.target;if(X.hasPointerCapture(H.pointerId)&&X.releasePointerCapture(H.pointerId),N.current=null,C.current=null,re){const ne=H.currentTarget,j={originalEvent:H,delta:re};Jv(re,g.swipeDirection,g.swipeThreshold)?Eu(cP,w,j,{discrete:!0}):Eu(uP,h,j,{discrete:!0}),ne.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),pP=t=>{const{__scopeToast:e,children:n,...r}=t,i=wd(_d,e),[s,o]=v.useState(!1),[a,u]=v.useState(!1);return yP(()=>o(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:m.jsx(vd,{asChild:!0,children:m.jsx(Rl,{...r,children:s&&m.jsxs(m.Fragment,{children:[i.label," ",n]})})})},mP="ToastTitle",Nx=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(Te.div,{...r,ref:e})});Nx.displayName=mP;var gP="ToastDescription",kx=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(Te.div,{...r,ref:e})});kx.displayName=gP;var Dx="ToastAction",Ox=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?m.jsx(Mx,{altText:n,asChild:!0,children:m.jsx(Wm,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Dx}\`. Expected non-empty \`string\`.`),null)});Ox.displayName=Dx;var Vx="ToastClose",Wm=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=hP(Vx,n);return m.jsx(Mx,{asChild:!0,children:m.jsx(Te.button,{type:"button",...r,ref:e,onClick:ue(t.onClick,i.onClose)})})});Wm.displayName=Vx;var Mx=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return m.jsx(Te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function jx(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),vP(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...jx(r))}}),e}function Eu(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?xx(i,s):i.dispatchEvent(s)}var Jv=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function yP(t=()=>{}){const e=un(t);Ot(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function vP(t){return t.nodeType===t.ELEMENT_NODE}function wP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Bh(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var _P=bx,Lx=Ix,Fx=Px,zx=Nx,Ux=kx,$x=Ox,Bx=Wm;function Hx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Hx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Wx(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Hx(t))&&(r&&(r+=" "),r+=e);return r}const Zv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,e0=Wx,Km=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return e0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],p=s==null?void 0:s[c];if(d===null)return null;const h=Zv(d)||Zv(p);return i[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[p,h]=d;return h===void 0||(c[p]=h),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:p,className:h,...w}=d;return Object.entries(w).every(x=>{let[g,S]=x;return Array.isArray(S)?S.includes({...s,...a}[g]):{...s,...a}[g]===S})?[...c,p,h]:c},[]);return e0(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},u)=>v.createElement("svg",{ref:u,...EP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Kx("lucide",i),...a},[...o.map(([c,d])=>v.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=(t,e)=>{const n=v.forwardRef(({className:r,...i},s)=>v.createElement(TP,{ref:s,iconNode:e,className:Kx(`lucide-${xP(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=Mn("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=Mn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=Mn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=Mn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=Mn("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=Mn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=Mn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=Mn("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=Mn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=Mn("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=Mn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qm="-",NP=t=>{const e=DP(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(qm);return a[0]===""&&a.length!==1&&a.shift(),Xx(a,e)||kP(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},Xx=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Xx(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(qm);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},t0=/^\[(.+)\]$/,kP=t=>{if(t0.test(t)){const e=t0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},DP=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return VP(Object.entries(t.classGroups),n).forEach(([s,o])=>{lp(o,r,s,e)}),r},lp=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:n0(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(OP(i)){lp(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{lp(o,n0(e,s),n,r)})})},n0=(t,e)=>{let n=t;return e.split(qm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},OP=t=>t.isThemeGetter,VP=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,MP=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},Jx="!",jP=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const u=[];let c=0,d=0,p;for(let S=0;S<a.length;S++){let E=a[S];if(c===0){if(E===i&&(r||a.slice(S,S+s)===e)){u.push(a.slice(d,S)),d=S+s;continue}if(E==="/"){p=S;continue}}E==="["?c++:E==="]"&&c--}const h=u.length===0?a:a.substring(d),w=h.startsWith(Jx),x=w?h.substring(1):h,g=p&&p>d?p-d:void 0;return{modifiers:u,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},LP=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},FP=t=>({cache:MP(t.cacheSize),parseClassName:jP(t),...NP(t)}),zP=/\s+/,UP=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(zP);let a="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:d,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:w}=n(c);let x=!!w,g=r(x?h.substring(0,w):h);if(!g){if(!x){a=c+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=c+(a.length>0?" "+a:a);continue}x=!1}const S=LP(d).join(":"),E=p?S+Jx:S,_=E+g;if(s.includes(_))continue;s.push(_);const C=i(g,x);for(let N=0;N<C.length;++N){const O=C[N];s.push(E+O)}a=c+(a.length>0?" "+a:a)}return a};function $P(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Zx(e))&&(r&&(r+=" "),r+=n);return r}const Zx=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Zx(t[r]))&&(n&&(n+=" "),n+=e);return n};function BP(t,...e){let n,r,i,s=o;function o(u){const c=e.reduce((d,p)=>p(d),t());return n=FP(c),r=n.cache.get,i=n.cache.set,s=a,a(u)}function a(u){const c=r(u);if(c)return c;const d=UP(u,n);return i(u,d),d}return function(){return s($P.apply(null,arguments))}}const Me=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},eE=/^\[(?:([a-z-]+):)?(.+)\]$/i,HP=/^\d+\/\d+$/,WP=new Set(["px","full","screen"]),KP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lr=t=>eo(t)||WP.has(t)||HP.test(t),Dr=t=>jo(t,"length",iN),eo=t=>!!t&&!Number.isNaN(Number(t)),Hh=t=>jo(t,"number",eo),va=t=>!!t&&Number.isInteger(Number(t)),XP=t=>t.endsWith("%")&&eo(t.slice(0,-1)),ce=t=>eE.test(t),Or=t=>KP.test(t),JP=new Set(["length","size","percentage"]),ZP=t=>jo(t,JP,tE),eN=t=>jo(t,"position",tE),tN=new Set(["image","url"]),nN=t=>jo(t,tN,oN),rN=t=>jo(t,"",sN),wa=()=>!0,jo=(t,e,n)=>{const r=eE.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},iN=t=>qP.test(t)&&!GP.test(t),tE=()=>!1,sN=t=>QP.test(t),oN=t=>YP.test(t),aN=()=>{const t=Me("colors"),e=Me("spacing"),n=Me("blur"),r=Me("brightness"),i=Me("borderColor"),s=Me("borderRadius"),o=Me("borderSpacing"),a=Me("borderWidth"),u=Me("contrast"),c=Me("grayscale"),d=Me("hueRotate"),p=Me("invert"),h=Me("gap"),w=Me("gradientColorStops"),x=Me("gradientColorStopPositions"),g=Me("inset"),S=Me("margin"),E=Me("opacity"),_=Me("padding"),C=Me("saturate"),N=Me("scale"),O=Me("sepia"),V=Me("skew"),T=Me("space"),b=Me("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ce,e],D=()=>[ce,e],P=()=>["",lr,Dr],H=()=>["auto",eo,ce],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",ce],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[eo,ce];return{cacheSize:500,separator:":",theme:{colors:[wa],spacing:[lr,Dr],blur:["none","",Or,ce],brightness:q(),borderColor:[t],borderRadius:["none","","full",Or,ce],borderSpacing:D(),borderWidth:P(),contrast:q(),grayscale:$(),hueRotate:q(),invert:$(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[XP,Dr],inset:k(),margin:k(),opacity:q(),padding:D(),saturate:q(),scale:q(),sepia:$(),skew:q(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[Or]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),ce]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",va,ce]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",va,ce]}],"grid-cols":[{"grid-cols":[wa]}],"col-start-end":[{col:["auto",{span:["full",va,ce]},ce]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[wa]}],"row-start-end":[{row:["auto",{span:[va,ce]},ce]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,e]}],"min-w":[{"min-w":[ce,e,"min","max","fit"]}],"max-w":[{"max-w":[ce,e,"none","full","min","max","fit","prose",{screen:[Or]},Or]}],h:[{h:[ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Or,Dr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hh]}],"font-family":[{font:[wa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",eo,Hh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",lr,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",lr,Dr]}],"underline-offset":[{"underline-offset":["auto",lr,ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),eN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ZP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nN]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:X()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[lr,ce]}],"outline-w":[{outline:[lr,Dr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[lr,Dr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Or,rN]}],"shadow-color":[{shadow:[wa]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Or,ce]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[C]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[va,ce]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[lr,Dr,Hh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lN=BP(aN);function Oe(...t){return lN(Wx(t))}const uN=_P,nE=v.forwardRef(({className:t,...e},n)=>m.jsx(Lx,{ref:n,className:Oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));nE.displayName=Lx.displayName;const cN=Km("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),rE=v.forwardRef(({className:t,variant:e,...n},r)=>m.jsx(Fx,{ref:r,className:Oe(cN({variant:e}),t),...n}));rE.displayName=Fx.displayName;const dN=v.forwardRef(({className:t,...e},n)=>m.jsx($x,{ref:n,className:Oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));dN.displayName=$x.displayName;const iE=v.forwardRef(({className:t,...e},n)=>m.jsx(Bx,{ref:n,className:Oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:m.jsx(Yx,{className:"h-4 w-4"})}));iE.displayName=Bx.displayName;const sE=v.forwardRef(({className:t,...e},n)=>m.jsx(zx,{ref:n,className:Oe("text-sm font-semibold",t),...e}));sE.displayName=zx.displayName;const oE=v.forwardRef(({className:t,...e},n)=>m.jsx(Ux,{ref:n,className:Oe("text-sm opacity-90",t),...e}));oE.displayName=Ux.displayName;function hN(){const{toasts:t}=Um();return m.jsxs(uN,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return m.jsxs(rE,{...s,children:[m.jsxs("div",{className:"grid gap-1",children:[n&&m.jsx(sE,{children:n}),r&&m.jsx(oE,{children:r})]}),i,m.jsx(iE,{})]},e)}),m.jsx(nE,{})]})}var r0=["light","dark"],fN="(prefers-color-scheme: dark)",pN=v.createContext(void 0),mN={setTheme:t=>{},themes:[]},gN=()=>{var t;return(t=v.useContext(pN))!=null?t:mN};v.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:u})=>{let c=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=i?r0.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(x,g=!1,S=!0)=>{let E=o?o[x]:x,_=g?x+"|| ''":`'${E}'`,C="";return i&&S&&!g&&r0.includes(x)&&(C+=`d.style.colorScheme = '${x}';`),n==="class"?g||E?C+=`c.add(${_})`:C+="null":E&&(C+=`d[s](n,${_})`),C},w=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${fN}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(s,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${p}}catch(t){}}();`;return v.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:w}})});var yN=t=>{switch(t){case"success":return _N;case"info":return EN;case"warning":return xN;case"error":return TN;default:return null}},vN=Array(12).fill(0),wN=({visible:t})=>K.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},K.createElement("div",{className:"sonner-spinner"},vN.map((e,n)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),_N=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),xN=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),EN=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),TN=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),SN=()=>{let[t,e]=K.useState(document.hidden);return K.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},up=1,CN=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:up++,o=this.toasts.find(u=>u.id===s),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...e,id:s,title:r}),{...u,...e,id:s,dismissible:a,title:r}):u):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0;return i.then(async o=>{if(AN(o)&&!o.ok){s=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,u=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:u})}else if(n.success!==void 0){s=!1;let a=typeof n.success=="function"?await n.success(o):n.success,u=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:u})}}).catch(async o=>{if(n.error!==void 0){s=!1;let a=typeof n.error=="function"?await n.error(o):n.error,u=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:u})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||up++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},Zt=new CN,bN=(t,e)=>{let n=(e==null?void 0:e.id)||up++;return Zt.addToast({title:t,...e,id:n}),n},AN=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",IN=bN,RN=()=>Zt.toasts;Object.assign(IN,{success:Zt.success,info:Zt.info,warning:Zt.warning,error:Zt.error,custom:Zt.custom,message:Zt.message,promise:Zt.promise,dismiss:Zt.dismiss,loading:Zt.loading},{getHistory:RN});function PN(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}PN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Tu(t){return t.label!==void 0}var NN=3,kN="32px",DN=4e3,ON=356,VN=14,MN=20,jN=200;function LN(...t){return t.filter(Boolean).join(" ")}var FN=t=>{var e,n,r,i,s,o,a,u,c,d;let{invert:p,toast:h,unstyled:w,interacting:x,setHeights:g,visibleToasts:S,heights:E,index:_,toasts:C,expanded:N,removeToast:O,defaultRichColors:V,closeButton:T,style:b,cancelButtonStyle:A,actionButtonStyle:R,className:k="",descriptionClassName:D="",duration:P,position:H,gap:re,loadingIcon:X,expandByDefault:ne,classNames:j,icons:$,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:q,cn:J}=t,[ee,Se]=K.useState(!1),[Fe,fe]=K.useState(!1),[Z,xe]=K.useState(!1),[ze,pe]=K.useState(!1),[ve,ge]=K.useState(0),[st,pt]=K.useState(0),hn=K.useRef(null),Vt=K.useRef(null),rr=_===0,Go=_+1<=S,Ze=h.type,Ln=h.dismissible!==!1,zl=h.className||"",Zd=h.descriptionClassName||"",br=K.useMemo(()=>E.findIndex(oe=>oe.toastId===h.id)||0,[E,h.id]),Qo=K.useMemo(()=>{var oe;return(oe=h.closeButton)!=null?oe:T},[h.closeButton,T]),Yo=K.useMemo(()=>h.duration||P||DN,[h.duration,P]),et=K.useRef(0),qe=K.useRef(0),Vi=K.useRef(0),ir=K.useRef(null),[Xo,eh]=H.split("-"),Ar=K.useMemo(()=>E.reduce((oe,Pe,Ie)=>Ie>=br?oe:oe+Pe.height,0),[E,br]),Jo=SN(),Ul=h.invert||p,Mi=Ze==="loading";qe.current=K.useMemo(()=>br*re+Ar,[br,Ar]),K.useEffect(()=>{Se(!0)},[]),K.useLayoutEffect(()=>{if(!ee)return;let oe=Vt.current,Pe=oe.style.height;oe.style.height="auto";let Ie=oe.getBoundingClientRect().height;oe.style.height=Pe,pt(Ie),g(Et=>Et.find(Bt=>Bt.toastId===h.id)?Et.map(Bt=>Bt.toastId===h.id?{...Bt,height:Ie}:Bt):[{toastId:h.id,height:Ie,position:h.position},...Et])},[ee,h.title,h.description,g,h.id]);let Fn=K.useCallback(()=>{fe(!0),ge(qe.current),g(oe=>oe.filter(Pe=>Pe.toastId!==h.id)),setTimeout(()=>{O(h)},jN)},[h,O,g,qe]);K.useEffect(()=>{if(h.promise&&Ze==="loading"||h.duration===1/0||h.type==="loading")return;let oe,Pe=Yo;return N||x||q&&Jo?(()=>{if(Vi.current<et.current){let Ie=new Date().getTime()-et.current;Pe=Pe-Ie}Vi.current=new Date().getTime()})():Pe!==1/0&&(et.current=new Date().getTime(),oe=setTimeout(()=>{var Ie;(Ie=h.onAutoClose)==null||Ie.call(h,h),Fn()},Pe)),()=>clearTimeout(oe)},[N,x,ne,h,Yo,Fn,h.promise,Ze,q,Jo]),K.useEffect(()=>{let oe=Vt.current;if(oe){let Pe=oe.getBoundingClientRect().height;return pt(Pe),g(Ie=>[{toastId:h.id,height:Pe,position:h.position},...Ie]),()=>g(Ie=>Ie.filter(Et=>Et.toastId!==h.id))}},[g,h.id]),K.useEffect(()=>{h.delete&&Fn()},[Fn,h.delete]);function th(){return $!=null&&$.loading?K.createElement("div",{className:"sonner-loader","data-visible":Ze==="loading"},$.loading):X?K.createElement("div",{className:"sonner-loader","data-visible":Ze==="loading"},X):K.createElement(wN,{visible:Ze==="loading"})}return K.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Vt,className:J(k,zl,j==null?void 0:j.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[Ze],(n=h==null?void 0:h.classNames)==null?void 0:n[Ze]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:V,"data-styled":!(h.jsx||h.unstyled||w),"data-mounted":ee,"data-promise":!!h.promise,"data-removed":Fe,"data-visible":Go,"data-y-position":Xo,"data-x-position":eh,"data-index":_,"data-front":rr,"data-swiping":Z,"data-dismissible":Ln,"data-type":Ze,"data-invert":Ul,"data-swipe-out":ze,"data-expanded":!!(N||ne&&ee),style:{"--index":_,"--toasts-before":_,"--z-index":C.length-_,"--offset":`${Fe?ve:qe.current}px`,"--initial-height":ne?"auto":`${st}px`,...b,...h.style},onPointerDown:oe=>{Mi||!Ln||(hn.current=new Date,ge(qe.current),oe.target.setPointerCapture(oe.pointerId),oe.target.tagName!=="BUTTON"&&(xe(!0),ir.current={x:oe.clientX,y:oe.clientY}))},onPointerUp:()=>{var oe,Pe,Ie,Et;if(ze||!Ln)return;ir.current=null;let Bt=Number(((oe=Vt.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ir=new Date().getTime()-((Pe=hn.current)==null?void 0:Pe.getTime()),sr=Math.abs(Bt)/Ir;if(Math.abs(Bt)>=MN||sr>.11){ge(qe.current),(Ie=h.onDismiss)==null||Ie.call(h,h),Fn(),pe(!0);return}(Et=Vt.current)==null||Et.style.setProperty("--swipe-amount","0px"),xe(!1)},onPointerMove:oe=>{var Pe;if(!ir.current||!Ln)return;let Ie=oe.clientY-ir.current.y,Et=oe.clientX-ir.current.x,Bt=(Xo==="top"?Math.min:Math.max)(0,Ie),Ir=oe.pointerType==="touch"?10:2;Math.abs(Bt)>Ir?(Pe=Vt.current)==null||Pe.style.setProperty("--swipe-amount",`${Ie}px`):Math.abs(Et)>Ir&&(ir.current=null)}},Qo&&!h.jsx?K.createElement("button",{"aria-label":Y,"data-disabled":Mi,"data-close-button":!0,onClick:Mi||!Ln?()=>{}:()=>{var oe;Fn(),(oe=h.onDismiss)==null||oe.call(h,h)},className:J(j==null?void 0:j.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||K.isValidElement(h.title)?h.jsx||h.title:K.createElement(K.Fragment,null,Ze||h.icon||h.promise?K.createElement("div",{"data-icon":"",className:J(j==null?void 0:j.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||th():null,h.type!=="loading"?h.icon||($==null?void 0:$[Ze])||yN(Ze):null):null,K.createElement("div",{"data-content":"",className:J(j==null?void 0:j.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},K.createElement("div",{"data-title":"",className:J(j==null?void 0:j.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?K.createElement("div",{"data-description":"",className:J(D,Zd,j==null?void 0:j.description,(u=h==null?void 0:h.classNames)==null?void 0:u.description)},h.description):null),K.isValidElement(h.cancel)?h.cancel:h.cancel&&Tu(h.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||A,onClick:oe=>{var Pe,Ie;Tu(h.cancel)&&Ln&&((Ie=(Pe=h.cancel).onClick)==null||Ie.call(Pe,oe),Fn())},className:J(j==null?void 0:j.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,K.isValidElement(h.action)?h.action:h.action&&Tu(h.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||R,onClick:oe=>{var Pe,Ie;Tu(h.action)&&(oe.defaultPrevented||((Ie=(Pe=h.action).onClick)==null||Ie.call(Pe,oe),Fn()))},className:J(j==null?void 0:j.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function i0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var zN=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:u="light",richColors:c,duration:d,style:p,visibleToasts:h=NN,toastOptions:w,dir:x=i0(),gap:g=VN,loadingIcon:S,icons:E,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:C,cn:N=LN}=t,[O,V]=K.useState([]),T=K.useMemo(()=>Array.from(new Set([n].concat(O.filter(q=>q.position).map(q=>q.position)))),[O,n]),[b,A]=K.useState([]),[R,k]=K.useState(!1),[D,P]=K.useState(!1),[H,re]=K.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=K.useRef(null),ne=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=K.useRef(null),$=K.useRef(!1),Y=K.useCallback(q=>{var J;(J=O.find(ee=>ee.id===q.id))!=null&&J.delete||Zt.dismiss(q.id),V(ee=>ee.filter(({id:Se})=>Se!==q.id))},[O]);return K.useEffect(()=>Zt.subscribe(q=>{if(q.dismiss){V(J=>J.map(ee=>ee.id===q.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{yx.flushSync(()=>{V(J=>{let ee=J.findIndex(Se=>Se.id===q.id);return ee!==-1?[...J.slice(0,ee),{...J[ee],...q},...J.slice(ee+1)]:[q,...J]})})})}),[]),K.useEffect(()=>{if(u!=="system"){re(u);return}u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:q})=>{re(q?"dark":"light")})},[u]),K.useEffect(()=>{O.length<=1&&k(!1)},[O]),K.useEffect(()=>{let q=J=>{var ee,Se;r.every(Fe=>J[Fe]||J.code===Fe)&&(k(!0),(ee=X.current)==null||ee.focus()),J.code==="Escape"&&(document.activeElement===X.current||(Se=X.current)!=null&&Se.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[r]),K.useEffect(()=>{if(X.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,$.current=!1)}},[X.current]),O.length?K.createElement("section",{"aria-label":`${_} ${ne}`,tabIndex:-1},T.map((q,J)=>{var ee;let[Se,Fe]=q.split("-");return K.createElement("ol",{key:q,dir:x==="auto"?i0():x,tabIndex:-1,ref:X,className:o,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":Se,"data-x-position":Fe,style:{"--front-toast-height":`${((ee=b[0])==null?void 0:ee.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||kN,"--width":`${ON}px`,"--gap":`${g}px`,...p},onBlur:fe=>{$.current&&!fe.currentTarget.contains(fe.relatedTarget)&&($.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||$.current||($.current=!0,j.current=fe.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{D||k(!1)},onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},O.filter(fe=>!fe.position&&J===0||fe.position===q).map((fe,Z)=>{var xe,ze;return K.createElement(FN,{key:fe.id,icons:E,index:Z,toast:fe,defaultRichColors:c,duration:(xe=w==null?void 0:w.duration)!=null?xe:d,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:e,visibleToasts:h,closeButton:(ze=w==null?void 0:w.closeButton)!=null?ze:s,interacting:D,position:q,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:Y,toasts:O.filter(pe=>pe.position==fe.position),heights:b.filter(pe=>pe.position==fe.position),setHeights:A,expandByDefault:i,gap:g,loadingIcon:S,expanded:R,pauseWhenPageIsHidden:C,cn:N})}))})):null};const UN=({...t})=>{const{theme:e="system"}=gN();return m.jsx(zN,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var $N=p_.useId||(()=>{}),BN=0;function to(t){const[e,n]=v.useState($N());return Ot(()=>{n(r=>r??String(BN++))},[t]),e?`radix-${e}`:""}const HN=["top","right","bottom","left"],fi=Math.min,tn=Math.max,Nc=Math.round,Su=Math.floor,pi=t=>({x:t,y:t}),WN={left:"right",right:"left",bottom:"top",top:"bottom"},KN={start:"end",end:"start"};function cp(t,e,n){return tn(t,fi(e,n))}function wr(t,e){return typeof t=="function"?t(e):t}function _r(t){return t.split("-")[0]}function Lo(t){return t.split("-")[1]}function Gm(t){return t==="x"?"y":"x"}function Qm(t){return t==="y"?"height":"width"}function mi(t){return["top","bottom"].includes(_r(t))?"y":"x"}function Ym(t){return Gm(mi(t))}function qN(t,e,n){n===void 0&&(n=!1);const r=Lo(t),i=Ym(t),s=Qm(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=kc(o)),[o,kc(o)]}function GN(t){const e=kc(t);return[dp(t),e,dp(e)]}function dp(t){return t.replace(/start|end/g,e=>KN[e])}function QN(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function YN(t,e,n,r){const i=Lo(t);let s=QN(_r(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(dp)))),s}function kc(t){return t.replace(/left|right|bottom|top/g,e=>WN[e])}function XN(t){return{top:0,right:0,bottom:0,left:0,...t}}function aE(t){return typeof t!="number"?XN(t):{top:t,right:t,bottom:t,left:t}}function Dc(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function s0(t,e,n){let{reference:r,floating:i}=t;const s=mi(e),o=Ym(e),a=Qm(o),u=_r(e),c=s==="y",d=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let w;switch(u){case"top":w={x:d,y:r.y-i.height};break;case"bottom":w={x:d,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:p};break;case"left":w={x:r.x-i.width,y:p};break;default:w={x:r.x,y:r.y}}switch(Lo(e)){case"start":w[o]-=h*(n&&c?-1:1);break;case"end":w[o]+=h*(n&&c?-1:1);break}return w}const JN=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:p}=s0(c,r,u),h=r,w={},x=0;for(let g=0;g<a.length;g++){const{name:S,fn:E}=a[g],{x:_,y:C,data:N,reset:O}=await E({x:d,y:p,initialPlacement:r,placement:h,strategy:i,middlewareData:w,rects:c,platform:o,elements:{reference:t,floating:e}});d=_??d,p=C??p,w={...w,[S]:{...w[S],...N}},O&&x<=50&&(x++,typeof O=="object"&&(O.placement&&(h=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:d,y:p}=s0(c,h,u)),g=-1)}return{x:d,y:p,placement:h,strategy:i,middlewareData:w}};async function ol(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:h=!1,padding:w=0}=wr(e,t),x=aE(w),S=a[h?p==="floating"?"reference":"floating":p],E=Dc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:u})),_=p==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),N=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},O=Dc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:C,strategy:u}):_);return{top:(E.top-O.top+x.top)/N.y,bottom:(O.bottom-E.bottom+x.bottom)/N.y,left:(E.left-O.left+x.left)/N.x,right:(O.right-E.right+x.right)/N.x}}const ZN=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:u}=e,{element:c,padding:d=0}=wr(t,e)||{};if(c==null)return{};const p=aE(d),h={x:n,y:r},w=Ym(i),x=Qm(w),g=await o.getDimensions(c),S=w==="y",E=S?"top":"left",_=S?"bottom":"right",C=S?"clientHeight":"clientWidth",N=s.reference[x]+s.reference[w]-h[w]-s.floating[x],O=h[w]-s.reference[w],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=V?V[C]:0;(!T||!await(o.isElement==null?void 0:o.isElement(V)))&&(T=a.floating[C]||s.floating[x]);const b=N/2-O/2,A=T/2-g[x]/2-1,R=fi(p[E],A),k=fi(p[_],A),D=R,P=T-g[x]-k,H=T/2-g[x]/2+b,re=cp(D,H,P),X=!u.arrow&&Lo(i)!=null&&H!==re&&s.reference[x]/2-(H<D?R:k)-g[x]/2<0,ne=X?H<D?H-D:H-P:0;return{[w]:h[w]+ne,data:{[w]:re,centerOffset:H-re-ne,...X&&{alignmentOffset:ne}},reset:X}}}),e2=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:u,elements:c}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...S}=wr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const E=_r(i),_=mi(a),C=_r(a)===a,N=await(u.isRTL==null?void 0:u.isRTL(c.floating)),O=h||(C||!g?[kc(a)]:GN(a)),V=x!=="none";!h&&V&&O.push(...YN(a,g,x,N));const T=[a,...O],b=await ol(e,S),A=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&A.push(b[E]),p){const H=qN(i,o,N);A.push(b[H[0]],b[H[1]])}if(R=[...R,{placement:i,overflows:A}],!A.every(H=>H<=0)){var k,D;const H=(((k=s.flip)==null?void 0:k.index)||0)+1,re=T[H];if(re)return{data:{index:H,overflows:R},reset:{placement:re}};let X=(D=R.filter(ne=>ne.overflows[0]<=0).sort((ne,j)=>ne.overflows[1]-j.overflows[1])[0])==null?void 0:D.placement;if(!X)switch(w){case"bestFit":{var P;const ne=(P=R.filter(j=>{if(V){const $=mi(j.placement);return $===_||$==="y"}return!0}).map(j=>[j.placement,j.overflows.filter($=>$>0).reduce(($,Y)=>$+Y,0)]).sort((j,$)=>j[1]-$[1])[0])==null?void 0:P[0];ne&&(X=ne);break}case"initialPlacement":X=a;break}if(i!==X)return{reset:{placement:X}}}return{}}}};function o0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function a0(t){return HN.some(e=>t[e]>=0)}const t2=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=wr(t,e);switch(r){case"referenceHidden":{const s=await ol(e,{...i,elementContext:"reference"}),o=o0(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:a0(o)}}}case"escaped":{const s=await ol(e,{...i,altBoundary:!0}),o=o0(s,n.floating);return{data:{escapedOffsets:o,escaped:a0(o)}}}default:return{}}}}};async function n2(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=_r(n),a=Lo(n),u=mi(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&u?-1:1,p=wr(e,t);let{mainAxis:h,crossAxis:w,alignmentAxis:x}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof x=="number"&&(w=a==="end"?x*-1:x),u?{x:w*d,y:h*c}:{x:h*c,y:w*d}}const r2=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,u=await n2(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},i2=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:E,y:_}=S;return{x:E,y:_}}},...u}=wr(t,e),c={x:n,y:r},d=await ol(e,u),p=mi(_r(i)),h=Gm(p);let w=c[h],x=c[p];if(s){const S=h==="y"?"top":"left",E=h==="y"?"bottom":"right",_=w+d[S],C=w-d[E];w=cp(_,w,C)}if(o){const S=p==="y"?"top":"left",E=p==="y"?"bottom":"right",_=x+d[S],C=x-d[E];x=cp(_,x,C)}const g=a.fn({...e,[h]:w,[p]:x});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:s,[p]:o}}}}}},s2=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:c=!0}=wr(t,e),d={x:n,y:r},p=mi(i),h=Gm(p);let w=d[h],x=d[p];const g=wr(a,e),S=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(u){const C=h==="y"?"height":"width",N=s.reference[h]-s.floating[C]+S.mainAxis,O=s.reference[h]+s.reference[C]-S.mainAxis;w<N?w=N:w>O&&(w=O)}if(c){var E,_;const C=h==="y"?"width":"height",N=["top","left"].includes(_r(i)),O=s.reference[p]-s.floating[C]+(N&&((E=o.offset)==null?void 0:E[p])||0)+(N?0:S.crossAxis),V=s.reference[p]+s.reference[C]+(N?0:((_=o.offset)==null?void 0:_[p])||0)-(N?S.crossAxis:0);x<O?x=O:x>V&&(x=V)}return{[h]:w,[p]:x}}}},o2=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:u=()=>{},...c}=wr(t,e),d=await ol(e,c),p=_r(i),h=Lo(i),w=mi(i)==="y",{width:x,height:g}=s.floating;let S,E;p==="top"||p==="bottom"?(S=p,E=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=p,S=h==="end"?"top":"bottom");const _=g-d.top-d.bottom,C=x-d.left-d.right,N=fi(g-d[S],_),O=fi(x-d[E],C),V=!e.middlewareData.shift;let T=N,b=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=_),V&&!h){const R=tn(d.left,0),k=tn(d.right,0),D=tn(d.top,0),P=tn(d.bottom,0);w?b=x-2*(R!==0||k!==0?R+k:tn(d.left,d.right)):T=g-2*(D!==0||P!==0?D+P:tn(d.top,d.bottom))}await u({...e,availableWidth:b,availableHeight:T});const A=await o.getDimensions(a.floating);return x!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function xd(){return typeof window<"u"}function Fo(t){return lE(t)?(t.nodeName||"").toLowerCase():"#document"}function an(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function nr(t){var e;return(e=(lE(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function lE(t){return xd()?t instanceof Node||t instanceof an(t).Node:!1}function On(t){return xd()?t instanceof Element||t instanceof an(t).Element:!1}function Zn(t){return xd()?t instanceof HTMLElement||t instanceof an(t).HTMLElement:!1}function l0(t){return!xd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof an(t).ShadowRoot}function Pl(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Vn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function a2(t){return["table","td","th"].includes(Fo(t))}function Ed(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Xm(t){const e=Jm(),n=On(t)?Vn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function l2(t){let e=gi(t);for(;Zn(e)&&!So(e);){if(Xm(e))return e;if(Ed(e))return null;e=gi(e)}return null}function Jm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function So(t){return["html","body","#document"].includes(Fo(t))}function Vn(t){return an(t).getComputedStyle(t)}function Td(t){return On(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function gi(t){if(Fo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||l0(t)&&t.host||nr(t);return l0(e)?e.host:e}function uE(t){const e=gi(t);return So(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zn(e)&&Pl(e)?e:uE(e)}function al(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=uE(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=an(i);if(s){const a=hp(o);return e.concat(o,o.visualViewport||[],Pl(i)?i:[],a&&n?al(a):[])}return e.concat(i,al(i,[],n))}function hp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function cE(t){const e=Vn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Zn(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Nc(n)!==s||Nc(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Zm(t){return On(t)?t:t.contextElement}function no(t){const e=Zm(t);if(!Zn(e))return pi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=cE(e);let o=(s?Nc(n.width):n.width)/r,a=(s?Nc(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const u2=pi(0);function dE(t){const e=an(t);return!Jm()||!e.visualViewport?u2:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function c2(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==an(t)?!1:e}function ls(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Zm(t);let o=pi(1);e&&(r?On(r)&&(o=no(r)):o=no(t));const a=c2(s,n,r)?dE(s):pi(0);let u=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,p=i.height/o.y;if(s){const h=an(s),w=r&&On(r)?an(r):r;let x=h,g=hp(x);for(;g&&r&&w!==x;){const S=no(g),E=g.getBoundingClientRect(),_=Vn(g),C=E.left+(g.clientLeft+parseFloat(_.paddingLeft))*S.x,N=E.top+(g.clientTop+parseFloat(_.paddingTop))*S.y;u*=S.x,c*=S.y,d*=S.x,p*=S.y,u+=C,c+=N,x=an(g),g=hp(x)}}return Dc({width:d,height:p,x:u,y:c})}function d2(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=nr(r),a=e?Ed(e.floating):!1;if(r===o||a&&s)return n;let u={scrollLeft:0,scrollTop:0},c=pi(1);const d=pi(0),p=Zn(r);if((p||!p&&!s)&&((Fo(r)!=="body"||Pl(o))&&(u=Td(r)),Zn(r))){const h=ls(r);c=no(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x,y:n.y*c.y-u.scrollTop*c.y+d.y}}function h2(t){return Array.from(t.getClientRects())}function fp(t,e){const n=Td(t).scrollLeft;return e?e.left+n:ls(nr(t)).left+n}function f2(t){const e=nr(t),n=Td(t),r=t.ownerDocument.body,i=tn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=tn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+fp(t);const a=-n.scrollTop;return Vn(r).direction==="rtl"&&(o+=tn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function p2(t,e){const n=an(t),r=nr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;const c=Jm();(!c||c&&e==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a,y:u}}function m2(t,e){const n=ls(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Zn(t)?no(t):pi(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,u=i*s.x,c=r*s.y;return{width:o,height:a,x:u,y:c}}function u0(t,e,n){let r;if(e==="viewport")r=p2(t,n);else if(e==="document")r=f2(nr(t));else if(On(e))r=m2(e,n);else{const i=dE(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Dc(r)}function hE(t,e){const n=gi(t);return n===e||!On(n)||So(n)?!1:Vn(n).position==="fixed"||hE(n,e)}function g2(t,e){const n=e.get(t);if(n)return n;let r=al(t,[],!1).filter(a=>On(a)&&Fo(a)!=="body"),i=null;const s=Vn(t).position==="fixed";let o=s?gi(t):t;for(;On(o)&&!So(o);){const a=Vn(o),u=Xm(o);!u&&a.position==="fixed"&&(i=null),(s?!u&&!i:!u&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Pl(o)&&!u&&hE(t,o))?r=r.filter(d=>d!==o):i=a,o=gi(o)}return e.set(t,r),r}function y2(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Ed(e)?[]:g2(e,this._c):[].concat(n),r],a=o[0],u=o.reduce((c,d)=>{const p=u0(e,d,i);return c.top=tn(p.top,c.top),c.right=fi(p.right,c.right),c.bottom=fi(p.bottom,c.bottom),c.left=tn(p.left,c.left),c},u0(e,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function v2(t){const{width:e,height:n}=cE(t);return{width:e,height:n}}function w2(t,e,n){const r=Zn(e),i=nr(e),s=n==="fixed",o=ls(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const u=pi(0);if(r||!r&&!s)if((Fo(e)!=="body"||Pl(i))&&(a=Td(e)),r){const w=ls(e,!0,s,e);u.x=w.x+e.clientLeft,u.y=w.y+e.clientTop}else i&&(u.x=fp(i));let c=0,d=0;if(i&&!r&&!s){const w=i.getBoundingClientRect();d=w.top+a.scrollTop,c=w.left+a.scrollLeft-fp(i,w)}const p=o.left+a.scrollLeft-u.x-c,h=o.top+a.scrollTop-u.y-d;return{x:p,y:h,width:o.width,height:o.height}}function Wh(t){return Vn(t).position==="static"}function c0(t,e){if(!Zn(t)||Vn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return nr(t)===n&&(n=n.ownerDocument.body),n}function fE(t,e){const n=an(t);if(Ed(t))return n;if(!Zn(t)){let i=gi(t);for(;i&&!So(i);){if(On(i)&&!Wh(i))return i;i=gi(i)}return n}let r=c0(t,e);for(;r&&a2(r)&&Wh(r);)r=c0(r,e);return r&&So(r)&&Wh(r)&&!Xm(r)?n:r||l2(t)||n}const _2=async function(t){const e=this.getOffsetParent||fE,n=this.getDimensions,r=await n(t.floating);return{reference:w2(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function x2(t){return Vn(t).direction==="rtl"}const E2={convertOffsetParentRelativeRectToViewportRelativeRect:d2,getDocumentElement:nr,getClippingRect:y2,getOffsetParent:fE,getElementRects:_2,getClientRects:h2,getDimensions:v2,getScale:no,isElement:On,isRTL:x2};function T2(t,e){let n=null,r;const i=nr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const{left:c,top:d,width:p,height:h}=t.getBoundingClientRect();if(a||e(),!p||!h)return;const w=Su(d),x=Su(i.clientWidth-(c+p)),g=Su(i.clientHeight-(d+h)),S=Su(c),_={rootMargin:-w+"px "+-x+"px "+-g+"px "+-S+"px",threshold:tn(0,fi(1,u))||1};let C=!0;function N(O){const V=O[0].intersectionRatio;if(V!==u){if(!C)return o();V?o(!1,V):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C=!1}try{n=new IntersectionObserver(N,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,_)}n.observe(t)}return o(!0),s}function S2(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=Zm(t),d=i||s?[...c?al(c):[],...al(e)]:[];d.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),s&&E.addEventListener("resize",n)});const p=c&&a?T2(c,n):null;let h=-1,w=null;o&&(w=new ResizeObserver(E=>{let[_]=E;_&&_.target===c&&w&&(w.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var C;(C=w)==null||C.observe(e)})),n()}),c&&!u&&w.observe(c),w.observe(e));let x,g=u?ls(t):null;u&&S();function S(){const E=ls(t);g&&(E.x!==g.x||E.y!==g.y||E.width!==g.width||E.height!==g.height)&&n(),g=E,x=requestAnimationFrame(S)}return n(),()=>{var E;d.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),p==null||p(),(E=w)==null||E.disconnect(),w=null,u&&cancelAnimationFrame(x)}}const C2=r2,b2=i2,A2=e2,I2=o2,R2=t2,d0=ZN,P2=s2,N2=(t,e,n)=>{const r=new Map,i={platform:E2,...n},s={...i.platform,_c:r};return JN(t,e,{...i,platform:s})};var Xu=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Oc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Oc(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Oc(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function pE(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function h0(t,e){const n=pE(t);return Math.round(e*n)/n}function Kh(t){const e=v.useRef(t);return Xu(()=>{e.current=t}),e}function k2(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:u,open:c}=t,[d,p]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,w]=v.useState(r);Oc(h,r)||w(r);const[x,g]=v.useState(null),[S,E]=v.useState(null),_=v.useCallback(j=>{j!==V.current&&(V.current=j,g(j))},[]),C=v.useCallback(j=>{j!==T.current&&(T.current=j,E(j))},[]),N=s||x,O=o||S,V=v.useRef(null),T=v.useRef(null),b=v.useRef(d),A=u!=null,R=Kh(u),k=Kh(i),D=Kh(c),P=v.useCallback(()=>{if(!V.current||!T.current)return;const j={placement:e,strategy:n,middleware:h};k.current&&(j.platform=k.current),N2(V.current,T.current,j).then($=>{const Y={...$,isPositioned:D.current!==!1};H.current&&!Oc(b.current,Y)&&(b.current=Y,gs.flushSync(()=>{p(Y)}))})},[h,e,n,k,D]);Xu(()=>{c===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,p(j=>({...j,isPositioned:!1})))},[c]);const H=v.useRef(!1);Xu(()=>(H.current=!0,()=>{H.current=!1}),[]),Xu(()=>{if(N&&(V.current=N),O&&(T.current=O),N&&O){if(R.current)return R.current(N,O,P);P()}},[N,O,P,R,A]);const re=v.useMemo(()=>({reference:V,floating:T,setReference:_,setFloating:C}),[_,C]),X=v.useMemo(()=>({reference:N,floating:O}),[N,O]),ne=v.useMemo(()=>{const j={position:n,left:0,top:0};if(!X.floating)return j;const $=h0(X.floating,d.x),Y=h0(X.floating,d.y);return a?{...j,transform:"translate("+$+"px, "+Y+"px)",...pE(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:Y}},[n,a,X.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:P,refs:re,elements:X,floatingStyles:ne}),[d,P,re,X,ne])}const D2=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?d0({element:r.current,padding:i}).fn(n):{}:r?d0({element:r,padding:i}).fn(n):{}}}},O2=(t,e)=>({...C2(t),options:[t,e]}),V2=(t,e)=>({...b2(t),options:[t,e]}),M2=(t,e)=>({...P2(t),options:[t,e]}),j2=(t,e)=>({...A2(t),options:[t,e]}),L2=(t,e)=>({...I2(t),options:[t,e]}),F2=(t,e)=>({...R2(t),options:[t,e]}),z2=(t,e)=>({...D2(t),options:[t,e]});var U2="Arrow",mE=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return m.jsx(Te.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});mE.displayName=U2;var $2=mE;function B2(t,e=[]){let n=[];function r(s,o){const a=v.createContext(o),u=n.length;n=[...n,o];function c(p){const{scope:h,children:w,...x}=p,g=(h==null?void 0:h[t][u])||a,S=v.useMemo(()=>x,Object.values(x));return m.jsx(g.Provider,{value:S,children:w})}function d(p,h){const w=(h==null?void 0:h[t][u])||a,x=v.useContext(w);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>v.createContext(o));return function(a){const u=(a==null?void 0:a[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return i.scopeName=t,[r,H2(i,...e)]}function H2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const p=u(s)[`__scope${c}`];return{...a,...p}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function W2(t){const[e,n]=v.useState(void 0);return Ot(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const u=s.borderBoxSize,c=Array.isArray(u)?u[0]:u;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var eg="Popper",[gE,Sd]=B2(eg),[K2,yE]=gE(eg),vE=t=>{const{__scopePopper:e,children:n}=t,[r,i]=v.useState(null);return m.jsx(K2,{scope:e,anchor:r,onAnchorChange:i,children:n})};vE.displayName=eg;var wE="PopperAnchor",_E=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=yE(wE,n),o=v.useRef(null),a=ke(e,o);return v.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:m.jsx(Te.div,{...i,ref:a})});_E.displayName=wE;var tg="PopperContent",[q2,G2]=gE(tg),xE=v.forwardRef((t,e)=>{var Z,xe,ze,pe,ve,ge;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:h=!1,updatePositionStrategy:w="optimized",onPlaced:x,...g}=t,S=yE(tg,n),[E,_]=v.useState(null),C=ke(e,st=>_(st)),[N,O]=v.useState(null),V=W2(N),T=(V==null?void 0:V.width)??0,b=(V==null?void 0:V.height)??0,A=r+(s!=="center"?"-"+s:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(c)?c:[c],D=k.length>0,P={padding:R,boundary:k.filter(Y2),altBoundary:D},{refs:H,floatingStyles:re,placement:X,isPositioned:ne,middlewareData:j}=k2({strategy:"fixed",placement:A,whileElementsMounted:(...st)=>S2(...st,{animationFrame:w==="always"}),elements:{reference:S.anchor},middleware:[O2({mainAxis:i+b,alignmentAxis:o}),u&&V2({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?M2():void 0,...P}),u&&j2({...P}),L2({...P,apply:({elements:st,rects:pt,availableWidth:hn,availableHeight:Vt})=>{const{width:rr,height:Go}=pt.reference,Ze=st.floating.style;Ze.setProperty("--radix-popper-available-width",`${hn}px`),Ze.setProperty("--radix-popper-available-height",`${Vt}px`),Ze.setProperty("--radix-popper-anchor-width",`${rr}px`),Ze.setProperty("--radix-popper-anchor-height",`${Go}px`)}}),N&&z2({element:N,padding:a}),X2({arrowWidth:T,arrowHeight:b}),h&&F2({strategy:"referenceHidden",...P})]}),[$,Y]=SE(X),q=un(x);Ot(()=>{ne&&(q==null||q())},[ne,q]);const J=(Z=j.arrow)==null?void 0:Z.x,ee=(xe=j.arrow)==null?void 0:xe.y,Se=((ze=j.arrow)==null?void 0:ze.centerOffset)!==0,[Fe,fe]=v.useState();return Ot(()=>{E&&fe(window.getComputedStyle(E).zIndex)},[E]),m.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:ne?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Fe,"--radix-popper-transform-origin":[(pe=j.transformOrigin)==null?void 0:pe.x,(ve=j.transformOrigin)==null?void 0:ve.y].join(" "),...((ge=j.hide)==null?void 0:ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(q2,{scope:n,placedSide:$,onArrowChange:O,arrowX:J,arrowY:ee,shouldHideArrow:Se,children:m.jsx(Te.div,{"data-side":$,"data-align":Y,...g,ref:C,style:{...g.style,animation:ne?void 0:"none"}})})})});xE.displayName=tg;var EE="PopperArrow",Q2={top:"bottom",right:"left",bottom:"top",left:"right"},TE=v.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=G2(EE,r),o=Q2[s.placedSide];return m.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:m.jsx($2,{...i,ref:n,style:{...i.style,display:"block"}})})});TE.displayName=EE;function Y2(t){return t!==null}var X2=t=>({name:"transformOrigin",options:t,fn(e){var S,E,_;const{placement:n,rects:r,middlewareData:i}=e,o=((S=i.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[c,d]=SE(n),p={start:"0%",center:"50%",end:"100%"}[d],h=(((E=i.arrow)==null?void 0:E.x)??0)+a/2,w=(((_=i.arrow)==null?void 0:_.y)??0)+u/2;let x="",g="";return c==="bottom"?(x=o?p:`${h}px`,g=`${-u}px`):c==="top"?(x=o?p:`${h}px`,g=`${r.floating.height+u}px`):c==="right"?(x=`${-u}px`,g=o?p:`${w}px`):c==="left"&&(x=`${r.floating.width+u}px`,g=o?p:`${w}px`),{data:{x,y:g}}}});function SE(t){const[e,n="center"]=t.split("-");return[e,n]}var J2=vE,CE=_E,bE=xE,AE=TE,[Cd,lF]=Al("Tooltip",[Sd]),ng=Sd(),IE="TooltipProvider",Z2=700,f0="tooltip.open",[ek,RE]=Cd(IE),PE=t=>{const{__scopeTooltip:e,delayDuration:n=Z2,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=v.useState(!0),u=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),m.jsx(ek,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:v.useCallback(d=>{u.current=d},[]),disableHoverableContent:i,children:s})};PE.displayName=IE;var NE="Tooltip",[uF,bd]=Cd(NE),pp="TooltipTrigger",tk=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=bd(pp,n),s=RE(pp,n),o=ng(n),a=v.useRef(null),u=ke(e,a,i.onTriggerChange),c=v.useRef(!1),d=v.useRef(!1),p=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),m.jsx(CE,{asChild:!0,...o,children:m.jsx(Te.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:u,onPointerMove:ue(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ue(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ue(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:ue(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:ue(t.onBlur,i.onClose),onClick:ue(t.onClick,i.onClose)})})});tk.displayName=pp;var nk="TooltipPortal",[cF,rk]=Cd(nk,{forceMount:void 0}),Co="TooltipContent",kE=v.forwardRef((t,e)=>{const n=rk(Co,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=bd(Co,t.__scopeTooltip);return m.jsx(Mo,{present:r||o.open,children:o.disableHoverableContent?m.jsx(DE,{side:i,...s,ref:e}):m.jsx(ik,{side:i,...s,ref:e})})}),ik=v.forwardRef((t,e)=>{const n=bd(Co,t.__scopeTooltip),r=RE(Co,t.__scopeTooltip),i=v.useRef(null),s=ke(e,i),[o,a]=v.useState(null),{trigger:u,onClose:c}=n,d=i.current,{onPointerInTransitChange:p}=r,h=v.useCallback(()=>{a(null),p(!1)},[p]),w=v.useCallback((x,g)=>{const S=x.currentTarget,E={x:x.clientX,y:x.clientY},_=lk(E,S.getBoundingClientRect()),C=uk(E,_),N=ck(g.getBoundingClientRect()),O=hk([...C,...N]);a(O),p(!0)},[p]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(u&&d){const x=S=>w(S,d),g=S=>w(S,u);return u.addEventListener("pointerleave",x),d.addEventListener("pointerleave",g),()=>{u.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",g)}}},[u,d,w,h]),v.useEffect(()=>{if(o){const x=g=>{const S=g.target,E={x:g.clientX,y:g.clientY},_=(u==null?void 0:u.contains(S))||(d==null?void 0:d.contains(S)),C=!dk(E,o);_?h():C&&(h(),c())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[u,d,o,c,h]),m.jsx(DE,{...t,ref:s})}),[sk,ok]=Cd(NE,{isInside:!1}),DE=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,u=bd(Co,n),c=ng(n),{onClose:d}=u;return v.useEffect(()=>(document.addEventListener(f0,d),()=>document.removeEventListener(f0,d)),[d]),v.useEffect(()=>{if(u.trigger){const p=h=>{const w=h.target;w!=null&&w.contains(u.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,d]),m.jsx(Il,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:d,children:m.jsxs(bE,{"data-state":u.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx($m,{children:r}),m.jsx(sk,{scope:n,isInside:!0,children:m.jsx(nP,{id:u.contentId,role:"tooltip",children:i||r})})]})})});kE.displayName=Co;var OE="TooltipArrow",ak=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=ng(n);return ok(OE,n).isInside?null:m.jsx(AE,{...i,...r,ref:e})});ak.displayName=OE;function lk(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function uk(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function ck(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function dk(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,u=e[s].y,c=e[o].x,d=e[o].y;u>r!=d>r&&n<(c-a)*(r-u)/(d-u)+a&&(i=!i)}return i}function hk(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),fk(e)}function fk(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var pk=PE,VE=kE;const mk=pk,gk=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>m.jsx(VE,{ref:r,sideOffset:e,className:Oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));gk.displayName=VE.displayName;var Ad=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Id=typeof window>"u"||"Deno"in globalThis;function bn(){}function yk(t,e){return typeof t=="function"?t(e):t}function vk(t){return typeof t=="number"&&t>=0&&t!==1/0}function wk(t,e){return Math.max(t+(e||0)-Date.now(),0)}function p0(t,e){return typeof t=="function"?t(e):t}function _k(t,e){return typeof t=="function"?t(e):t}function m0(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==rg(o,e.options))return!1}else if(!ul(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function g0(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(ll(e.options.mutationKey)!==ll(s))return!1}else if(!ul(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function rg(t,e){return((e==null?void 0:e.queryKeyHashFn)||ll)(t)}function ll(t){return JSON.stringify(t,(e,n)=>mp(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function ul(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!ul(t[n],e[n])):!1}function ME(t,e){if(t===e)return t;const n=y0(t)&&y0(e);if(n||mp(t)&&mp(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let u=0;for(let c=0;c<o;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,u++):(a[d]=ME(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&u++)}return i===o&&u===i?t:a}return e}function y0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function mp(t){if(!v0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!v0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function v0(t){return Object.prototype.toString.call(t)==="[object Object]"}function xk(t){return new Promise(e=>{setTimeout(e,t)})}function Ek(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ME(t,e):e}function Tk(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Sk(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var ig=Symbol();function jE(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ig?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Yi,$r,ao,Qw,Ck=(Qw=class extends Ad{constructor(){super();be(this,Yi);be(this,$r);be(this,ao);de(this,ao,e=>{if(!Id&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,$r)||this.setEventListener(z(this,ao))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,$r))==null||e.call(this),de(this,$r,void 0))}setEventListener(e){var n;de(this,ao,e),(n=z(this,$r))==null||n.call(this),de(this,$r,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,Yi)!==e&&(de(this,Yi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,Yi)=="boolean"?z(this,Yi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Yi=new WeakMap,$r=new WeakMap,ao=new WeakMap,Qw),LE=new Ck,lo,Br,uo,Yw,bk=(Yw=class extends Ad{constructor(){super();be(this,lo,!0);be(this,Br);be(this,uo);de(this,uo,e=>{if(!Id&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,Br)||this.setEventListener(z(this,uo))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Br))==null||e.call(this),de(this,Br,void 0))}setEventListener(e){var n;de(this,uo,e),(n=z(this,Br))==null||n.call(this),de(this,Br,e(this.setOnline.bind(this)))}setOnline(e){z(this,lo)!==e&&(de(this,lo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,lo)}},lo=new WeakMap,Br=new WeakMap,uo=new WeakMap,Yw),Vc=new bk;function Ak(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Ik(t){return Math.min(1e3*2**t,3e4)}function FE(t){return(t??"online")==="online"?Vc.isOnline():!0}var zE=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function qh(t){return t instanceof zE}function UE(t){let e=!1,n=0,r=!1,i;const s=Ak(),o=g=>{var S;r||(h(new zE(g)),(S=t.abort)==null||S.call(t))},a=()=>{e=!0},u=()=>{e=!1},c=()=>LE.isFocused()&&(t.networkMode==="always"||Vc.isOnline())&&t.canRun(),d=()=>FE(t.networkMode)&&t.canRun(),p=g=>{var S;r||(r=!0,(S=t.onSuccess)==null||S.call(t,g),i==null||i(),s.resolve(g))},h=g=>{var S;r||(r=!0,(S=t.onError)==null||S.call(t,g),i==null||i(),s.reject(g))},w=()=>new Promise(g=>{var S;i=E=>{(r||c())&&g(E)},(S=t.onPause)==null||S.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),x=()=>{if(r)return;let g;const S=n===0?t.initialPromise:void 0;try{g=S??t.fn()}catch(E){g=Promise.reject(E)}Promise.resolve(g).then(p).catch(E=>{var V;if(r)return;const _=t.retry??(Id?0:3),C=t.retryDelay??Ik,N=typeof C=="function"?C(n,E):C,O=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,E);if(e||!O){h(E);return}n++,(V=t.onFail)==null||V.call(t,n,E),xk(N).then(()=>c()?void 0:w()).then(()=>{e?h(E):x()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:u,canStart:d,start:()=>(d()?x():w().then(x),s)}}function Rk(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||o()}return u},batchCalls:a=>(...u)=>{s(()=>{a(...u)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Ft=Rk(),Xi,Xw,$E=(Xw=class{constructor(){be(this,Xi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vk(this.gcTime)&&de(this,Xi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Id?1/0:5*60*1e3))}clearGcTimeout(){z(this,Xi)&&(clearTimeout(z(this,Xi)),de(this,Xi,void 0))}},Xi=new WeakMap,Xw),co,ho,fn,Rt,_l,Ji,An,ur,Jw,Pk=(Jw=class extends $E{constructor(n){super();be(this,An);be(this,co);be(this,ho);be(this,fn);be(this,Rt);be(this,_l);be(this,Ji);de(this,Ji,!1),de(this,_l,n.defaultOptions),this.setOptions(n.options),this.observers=[],de(this,fn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,de(this,co,kk(this.options)),this.state=n.state??z(this,co),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,Rt))==null?void 0:n.promise}setOptions(n){this.options={...z(this,_l),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,fn).remove(this)}setData(n,r){const i=Ek(this.state.data,n,this.options);return Ct(this,An,ur).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Ct(this,An,ur).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=z(this,Rt))==null?void 0:i.promise;return(s=z(this,Rt))==null||s.cancel(n),r?r.then(bn).catch(bn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,co))}isActive(){return this.observers.some(n=>_k(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ig||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!wk(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Rt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Rt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,fn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,Rt)&&(z(this,Ji)?z(this,Rt).cancel({revert:!0}):z(this,Rt).cancelRetry()),this.scheduleGc()),z(this,fn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ct(this,An,ur).call(this,{type:"invalidate"})}fetch(n,r){var c,d,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,Rt))return z(this,Rt).continueRetry(),z(this,Rt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(w=>w.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(de(this,Ji,!0),i.signal)})},o=()=>{const h=jE(this.options,r),w={queryKey:this.queryKey,meta:this.meta};return s(w),de(this,Ji,!1),this.options.persister?this.options.persister(h,w,this):h(w)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),de(this,ho,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Ct(this,An,ur).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const u=h=>{var w,x,g,S;qh(h)&&h.silent||Ct(this,An,ur).call(this,{type:"error",error:h}),qh(h)||((x=(w=z(this,fn).config).onError)==null||x.call(w,h,this),(S=(g=z(this,fn).config).onSettled)==null||S.call(g,this.state.data,h,this)),this.scheduleGc()};return de(this,Rt,UE({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var w,x,g,S;if(h===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(E){u(E);return}(x=(w=z(this,fn).config).onSuccess)==null||x.call(w,h,this),(S=(g=z(this,fn).config).onSettled)==null||S.call(g,h,this.state.error,this),this.scheduleGc()},onError:u,onFail:(h,w)=>{Ct(this,An,ur).call(this,{type:"failed",failureCount:h,error:w})},onPause:()=>{Ct(this,An,ur).call(this,{type:"pause"})},onContinue:()=>{Ct(this,An,ur).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,Rt).start()}},co=new WeakMap,ho=new WeakMap,fn=new WeakMap,Rt=new WeakMap,_l=new WeakMap,Ji=new WeakMap,An=new WeakSet,ur=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Nk(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return qh(s)&&s.revert&&z(this,ho)?{...z(this,ho),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Ft.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),z(this,fn).notify({query:this,type:"updated",action:n})})},Jw);function Nk(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:FE(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function kk(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Hn,Zw,Dk=(Zw=class extends Ad{constructor(e={}){super();be(this,Hn);this.config=e,de(this,Hn,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??rg(i,n);let o=this.get(s);return o||(o=new Pk({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){z(this,Hn).has(e.queryHash)||(z(this,Hn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,Hn).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,Hn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ft.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,Hn).get(e)}getAll(){return[...z(this,Hn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>m0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>m0(e,r)):n}notify(e){Ft.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ft.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ft.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Hn=new WeakMap,Zw),Wn,jt,Zi,Kn,Vr,e_,Ok=(e_=class extends $E{constructor(n){super();be(this,Kn);be(this,Wn);be(this,jt);be(this,Zi);this.mutationId=n.mutationId,de(this,jt,n.mutationCache),de(this,Wn,[]),this.state=n.state||Vk(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,Wn).includes(n)||(z(this,Wn).push(n),this.clearGcTimeout(),z(this,jt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){de(this,Wn,z(this,Wn).filter(r=>r!==n)),this.scheduleGc(),z(this,jt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,Wn).length||(this.state.status==="pending"?this.scheduleGc():z(this,jt).remove(this))}continue(){var n;return((n=z(this,Zi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,u,c,d,p,h,w,x,g,S,E,_,C,N,O,V,T,b;de(this,Zi,UE({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,R)=>{Ct(this,Kn,Vr).call(this,{type:"failed",failureCount:A,error:R})},onPause:()=>{Ct(this,Kn,Vr).call(this,{type:"pause"})},onContinue:()=>{Ct(this,Kn,Vr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,jt).canRun(this)}));const r=this.state.status==="pending",i=!z(this,Zi).canStart();try{if(!r){Ct(this,Kn,Vr).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=z(this,jt).config).onMutate)==null?void 0:o.call(s,n,this));const R=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,n));R!==this.state.context&&Ct(this,Kn,Vr).call(this,{type:"pending",context:R,variables:n,isPaused:i})}const A=await z(this,Zi).start();return await((d=(c=z(this,jt).config).onSuccess)==null?void 0:d.call(c,A,n,this.state.context,this)),await((h=(p=this.options).onSuccess)==null?void 0:h.call(p,A,n,this.state.context)),await((x=(w=z(this,jt).config).onSettled)==null?void 0:x.call(w,A,null,this.state.variables,this.state.context,this)),await((S=(g=this.options).onSettled)==null?void 0:S.call(g,A,null,n,this.state.context)),Ct(this,Kn,Vr).call(this,{type:"success",data:A}),A}catch(A){try{throw await((_=(E=z(this,jt).config).onError)==null?void 0:_.call(E,A,n,this.state.context,this)),await((N=(C=this.options).onError)==null?void 0:N.call(C,A,n,this.state.context)),await((V=(O=z(this,jt).config).onSettled)==null?void 0:V.call(O,void 0,A,this.state.variables,this.state.context,this)),await((b=(T=this.options).onSettled)==null?void 0:b.call(T,void 0,A,n,this.state.context)),A}finally{Ct(this,Kn,Vr).call(this,{type:"error",error:A})}}finally{z(this,jt).runNext(this)}}},Wn=new WeakMap,jt=new WeakMap,Zi=new WeakMap,Kn=new WeakSet,Vr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ft.batch(()=>{z(this,Wn).forEach(i=>{i.onMutationUpdate(n)}),z(this,jt).notify({mutation:this,type:"updated",action:n})})},e_);function Vk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Jt,xl,t_,Mk=(t_=class extends Ad{constructor(e={}){super();be(this,Jt);be(this,xl);this.config=e,de(this,Jt,new Map),de(this,xl,Date.now())}build(e,n,r){const i=new Ok({mutationCache:this,mutationId:++ru(this,xl)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Cu(e),r=z(this,Jt).get(n)??[];r.push(e),z(this,Jt).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Cu(e);if(z(this,Jt).has(n)){const i=(r=z(this,Jt).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?z(this,Jt).delete(n):z(this,Jt).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=z(this,Jt).get(Cu(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=z(this,Jt).get(Cu(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ft.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...z(this,Jt).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>g0(n,r))}findAll(e={}){return this.getAll().filter(n=>g0(e,n))}notify(e){Ft.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ft.batch(()=>Promise.all(e.map(n=>n.continue().catch(bn))))}},Jt=new WeakMap,xl=new WeakMap,t_);function Cu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function w0(t){return{onFetch:(e,n)=>{var d,p,h,w,x;const r=e.options,i=(h=(p=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:h.direction,s=((w=e.state.data)==null?void 0:w.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let g=!1;const S=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},E=jE(e.options,e.fetchOptions),_=async(C,N,O)=>{if(g)return Promise.reject();if(N==null&&C.pages.length)return Promise.resolve(C);const V={queryKey:e.queryKey,pageParam:N,direction:O?"backward":"forward",meta:e.options.meta};S(V);const T=await E(V),{maxPages:b}=e.options,A=O?Sk:Tk;return{pages:A(C.pages,T,b),pageParams:A(C.pageParams,N,b)}};if(i&&s.length){const C=i==="backward",N=C?jk:_0,O={pages:s,pageParams:o},V=N(r,O);a=await _(O,V,C)}else{const C=t??s.length;do{const N=u===0?o[0]??r.initialPageParam:_0(r,a);if(u>0&&N==null)break;a=await _(a,N),u++}while(u<C)}return a};e.options.persister?e.fetchFn=()=>{var g,S;return(S=(g=e.options).persister)==null?void 0:S.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function _0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function jk(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Qe,Hr,Wr,fo,po,Kr,mo,go,n_,Lk=(n_=class{constructor(t={}){be(this,Qe);be(this,Hr);be(this,Wr);be(this,fo);be(this,po);be(this,Kr);be(this,mo);be(this,go);de(this,Qe,t.queryCache||new Dk),de(this,Hr,t.mutationCache||new Mk),de(this,Wr,t.defaultOptions||{}),de(this,fo,new Map),de(this,po,new Map),de(this,Kr,0)}mount(){ru(this,Kr)._++,z(this,Kr)===1&&(de(this,mo,LE.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Qe).onFocus())})),de(this,go,Vc.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Qe).onOnline())})))}unmount(){var t,e;ru(this,Kr)._--,z(this,Kr)===0&&((t=z(this,mo))==null||t.call(this),de(this,mo,void 0),(e=z(this,go))==null||e.call(this),de(this,go,void 0))}isFetching(t){return z(this,Qe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,Hr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Qe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=z(this,Qe).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(p0(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return z(this,Qe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=z(this,Qe).get(r.queryHash),s=i==null?void 0:i.state.data,o=yk(e,s);if(o!==void 0)return z(this,Qe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ft.batch(()=>z(this,Qe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Qe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,Qe);Ft.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,Qe),r={type:"active",...t};return Ft.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Ft.batch(()=>z(this,Qe).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(bn).catch(bn)}invalidateQueries(t={},e={}){return Ft.batch(()=>{if(z(this,Qe).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Ft.batch(()=>z(this,Qe).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(bn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(bn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,Qe).build(this,e);return n.isStaleByTime(p0(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(bn).catch(bn)}fetchInfiniteQuery(t){return t.behavior=w0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(bn).catch(bn)}ensureInfiniteQueryData(t){return t.behavior=w0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Vc.isOnline()?z(this,Hr).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Qe)}getMutationCache(){return z(this,Hr)}getDefaultOptions(){return z(this,Wr)}setDefaultOptions(t){de(this,Wr,t)}setQueryDefaults(t,e){z(this,fo).set(ll(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,fo).values()];let n={};return e.forEach(r=>{ul(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){z(this,po).set(ll(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,po).values()];let n={};return e.forEach(r=>{ul(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,Wr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=rg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===ig&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,Wr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,Qe).clear(),z(this,Hr).clear()}},Qe=new WeakMap,Hr=new WeakMap,Wr=new WeakMap,fo=new WeakMap,po=new WeakMap,Kr=new WeakMap,mo=new WeakMap,go=new WeakMap,n_),Fk=v.createContext(void 0),zk=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(Fk.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cl.apply(this,arguments)}var Qr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qr||(Qr={}));const x0="popstate";function Uk(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return gp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Mc(i)}return Bk(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function BE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $k(){return Math.random().toString(36).substr(2,8)}function E0(t,e){return{usr:t.state,key:t.key,idx:e}}function gp(t,e,n,r){return n===void 0&&(n=null),cl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zo(e):e,{state:n,key:e&&e.key||r||$k()})}function Mc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Bk(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Qr.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(cl({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=Qr.Pop;let S=d(),E=S==null?null:S-c;c=S,u&&u({action:a,location:g.location,delta:E})}function h(S,E){a=Qr.Push;let _=gp(g.location,S,E);c=d()+1;let C=E0(_,c),N=g.createHref(_);try{o.pushState(C,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(N)}s&&u&&u({action:a,location:g.location,delta:1})}function w(S,E){a=Qr.Replace;let _=gp(g.location,S,E);c=d();let C=E0(_,c),N=g.createHref(_);o.replaceState(C,"",N),s&&u&&u({action:a,location:g.location,delta:0})}function x(S){let E=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof S=="string"?S:Mc(S);return _=_.replace(/ $/,"%20"),it(E,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,E)}let g={get action(){return a},get location(){return t(i,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(x0,p),u=S,()=>{i.removeEventListener(x0,p),u=null}},createHref(S){return e(i,S)},createURL:x,encodeLocation(S){let E=x(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:h,replace:w,go(S){return o.go(S)}};return g}var T0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(T0||(T0={}));function Hk(t,e,n){return n===void 0&&(n="/"),Wk(t,e,n,!1)}function Wk(t,e,n,r){let i=typeof e=="string"?zo(e):e,s=sg(i.pathname||"/",n);if(s==null)return null;let o=HE(t);Kk(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=rD(s);a=tD(o[u],c,r)}return a}function HE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(it(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=si([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(it(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),HE(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Zk(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of WE(s.path))i(s,o,u)}),e}function WE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=WE(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function Kk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qk=/^:[\w-]+$/,Gk=3,Qk=2,Yk=1,Xk=10,Jk=-2,S0=t=>t==="*";function Zk(t,e){let n=t.split("/"),r=n.length;return n.some(S0)&&(r+=Jk),e&&(r+=Qk),n.filter(i=>!S0(i)).reduce((i,s)=>i+(qk.test(s)?Gk:s===""?Yk:Xk),r)}function eD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function tD(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=C0({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),h=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=C0({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:si([s,p.pathname]),pathnameBase:aD(si([s,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(s=si([s,p.pathnameBase]))}return o}function C0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,p)=>{let{paramName:h,isOptional:w}=d;if(h==="*"){let g=a[p]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const x=a[p];return w&&!x?c[h]=void 0:c[h]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function nD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),BE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function rD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return BE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function sg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function iD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?zo(t):t;return{pathname:n?n.startsWith("/")?n:sD(n,e):e,search:lD(r),hash:uD(i)}}function sD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function KE(t,e){let n=oD(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=zo(t):(i=cl({},t),it(!i.pathname||!i.pathname.includes("?"),Gh("?","pathname","search",i)),it(!i.pathname||!i.pathname.includes("#"),Gh("#","pathname","hash",i)),it(!i.search||!i.search.includes("#"),Gh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),p-=1;i.pathname=h.join("/")}a=p>=0?e[p]:"/"}let u=iD(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const si=t=>t.join("/").replace(/\/\/+/g,"/"),aD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const GE=["post","put","patch","delete"];new Set(GE);const dD=["get",...GE];new Set(dD);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dl.apply(this,arguments)}const og=v.createContext(null),hD=v.createContext(null),ys=v.createContext(null),Rd=v.createContext(null),Ri=v.createContext({outlet:null,matches:[],isDataRoute:!1}),QE=v.createContext(null);function fD(t,e){let{relative:n}=e===void 0?{}:e;Nl()||it(!1);let{basename:r,navigator:i}=v.useContext(ys),{hash:s,pathname:o,search:a}=JE(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:si([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Nl(){return v.useContext(Rd)!=null}function kl(){return Nl()||it(!1),v.useContext(Rd).location}function YE(t){v.useContext(ys).static||v.useLayoutEffect(t)}function vs(){let{isDataRoute:t}=v.useContext(Ri);return t?bD():pD()}function pD(){Nl()||it(!1);let t=v.useContext(og),{basename:e,future:n,navigator:r}=v.useContext(ys),{matches:i}=v.useContext(Ri),{pathname:s}=kl(),o=JSON.stringify(KE(i,n.v7_relativeSplatPath)),a=v.useRef(!1);return YE(()=>{a.current=!0}),v.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let p=qE(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:si([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,o,s,t])}function XE(){let{matches:t}=v.useContext(Ri),e=t[t.length-1];return e?e.params:{}}function JE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(ys),{matches:i}=v.useContext(Ri),{pathname:s}=kl(),o=JSON.stringify(KE(i,r.v7_relativeSplatPath));return v.useMemo(()=>qE(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function mD(t,e){return gD(t,e)}function gD(t,e,n,r){Nl()||it(!1);let{navigator:i}=v.useContext(ys),{matches:s}=v.useContext(Ri),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=kl(),d;if(e){var p;let S=typeof e=="string"?zo(e):e;u==="/"||(p=S.pathname)!=null&&p.startsWith(u)||it(!1),d=S}else d=c;let h=d.pathname||"/",w=h;if(u!=="/"){let S=u.replace(/^\//,"").split("/");w="/"+h.replace(/^\//,"").split("/").slice(S.length).join("/")}let x=Hk(t,{pathname:w}),g=xD(x&&x.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:si([u,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:si([u,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&g?v.createElement(Rd.Provider,{value:{location:dl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Qr.Pop}},g):g}function yD(){let t=CD(),e=cD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,null)}const vD=v.createElement(yD,null);class wD extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(Ri.Provider,{value:this.props.routeContext},v.createElement(QE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _D(t){let{routeContext:e,match:n,children:r}=t,i=v.useContext(og);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Ri.Provider,{value:e},r)}function xD(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);d>=0||it(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:h,errors:w}=n,x=p.route.loader&&h[p.route.id]===void 0&&(!w||w[p.route.id]===void 0);if(p.route.lazy||x){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,p,h)=>{let w,x=!1,g=null,S=null;n&&(w=a&&p.route.id?a[p.route.id]:void 0,g=p.route.errorElement||vD,u&&(c<0&&h===0?(x=!0,S=null):c===h&&(x=!0,S=p.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,h+1)),_=()=>{let C;return w?C=g:x?C=S:p.route.Component?C=v.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=d,v.createElement(_D,{match:p,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?v.createElement(wD,{location:n.location,revalidation:n.revalidation,component:g,error:w,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}var ZE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ZE||{}),jc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(jc||{});function ED(t){let e=v.useContext(og);return e||it(!1),e}function TD(t){let e=v.useContext(hD);return e||it(!1),e}function SD(t){let e=v.useContext(Ri);return e||it(!1),e}function eT(t){let e=SD(),n=e.matches[e.matches.length-1];return n.route.id||it(!1),n.route.id}function CD(){var t;let e=v.useContext(QE),n=TD(jc.UseRouteError),r=eT(jc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function bD(){let{router:t}=ED(ZE.UseNavigateStable),e=eT(jc.UseNavigateStable),n=v.useRef(!1);return YE(()=>{n.current=!0}),v.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,dl({fromRouteId:e},s)))},[t,e])}function Mr(t){it(!1)}function AD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Qr.Pop,navigator:s,static:o=!1,future:a}=t;Nl()&&it(!1);let u=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:u,navigator:s,static:o,future:dl({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=zo(r));let{pathname:d="/",search:p="",hash:h="",state:w=null,key:x="default"}=r,g=v.useMemo(()=>{let S=sg(d,u);return S==null?null:{location:{pathname:S,search:p,hash:h,state:w,key:x},navigationType:i}},[u,d,p,h,w,x,i]);return g==null?null:v.createElement(ys.Provider,{value:c},v.createElement(Rd.Provider,{children:n,value:g}))}function ID(t){let{children:e,location:n}=t;return mD(yp(e),n)}new Promise(()=>{});function yp(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let s=[...e,i];if(r.type===v.Fragment){n.push.apply(n,yp(r.props.children,s));return}r.type!==Mr&&it(!1),!r.props.index||!r.props.children||it(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=yp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vp(){return vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vp.apply(this,arguments)}function RD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function PD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ND(t,e){return t.button===0&&(!e||e==="_self")&&!PD(t)}const kD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],DD="6";try{window.__reactRouterVersion=DD}catch{}const OD="startTransition",b0=p_[OD];function VD(t){let{basename:e,children:n,future:r,window:i}=t,s=v.useRef();s.current==null&&(s.current=Uk({window:i,v5Compat:!0}));let o=s.current,[a,u]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=v.useCallback(p=>{c&&b0?b0(()=>u(p)):u(p)},[u,c]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.createElement(AD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const MD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zi=v.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:d,viewTransition:p}=e,h=RD(e,kD),{basename:w}=v.useContext(ys),x,g=!1;if(typeof c=="string"&&jD.test(c)&&(x=c,MD))try{let C=new URL(window.location.href),N=c.startsWith("//")?new URL(C.protocol+c):new URL(c),O=sg(N.pathname,w);N.origin===C.origin&&O!=null?c=O+N.search+N.hash:g=!0}catch{}let S=fD(c,{relative:i}),E=LD(c,{replace:o,state:a,target:u,preventScrollReset:d,relative:i,viewTransition:p});function _(C){r&&r(C),C.defaultPrevented||E(C)}return v.createElement("a",vp({},h,{href:x||S,onClick:g||s?r:_,ref:n,target:u}))});var A0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(A0||(A0={}));var I0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(I0||(I0={}));function LD(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,u=vs(),c=kl(),d=JE(t,{relative:o});return v.useCallback(p=>{if(ND(p,n)){p.preventDefault();let h=r!==void 0?r:Mc(c)===Mc(d);u(t,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,u,d,r,i,n,t,s,o,a])}const ag=Km("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),nt=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?as:"button";return m.jsx(o,{className:Oe(ag({variant:e,size:n,className:t})),ref:s,...i})});nt.displayName="Button";const tT=v.createContext({isAdmin:!1,login:()=>{},logout:()=>{}}),FD=({children:t})=>{const[e,n]=v.useState(!!localStorage.getItem("isAdmin")),r=s=>{n(!0),localStorage.setItem("isAdmin","true")},i=()=>{n(!1),localStorage.removeItem("isAdmin")};return m.jsx(tT.Provider,{value:{isAdmin:e,login:r,logout:i},children:t})},Uo=()=>v.useContext(tT),yi=()=>{const[t,e]=v.useState(!1),{isAdmin:n,logout:r}=Uo(),i=vs(),s=()=>{e(!t)};return m.jsx("header",{className:"bg-zinc-900 border-b border-zinc-800",children:m.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[m.jsxs("div",{className:"flex items-center justify-between h-16",children:[m.jsx(zi,{to:"/",className:"underline decoration-white decoration-4 decoration-wavy underline-offset-4 text-white font-bold text-xl",children:"HSC College"}),m.jsxs("nav",{className:"hidden md:flex items-center space-x-4",children:[m.jsx(zi,{to:"/",className:"text-gray-300 hover:text-white",children:"Home"}),m.jsx(zi,{to:"/course",className:"text-gray-300 hover:text-white",children:"Course Management"}),m.jsx(zi,{to:"/add-course",className:"text-gray-300 hover:text-white",children:"Add Course"}),n?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"text-green-400 font-semibold px-2",children:"Admin"}),m.jsx(nt,{variant:"ghost",className:"text-white hover:bg-white hover:text-black ml-2",onClick:r,children:"Logout"})]}):m.jsx(nt,{variant:"outline",size:"sm",className:"text-black hover:bg-white/80 ml-2",onClick:()=>i("/login"),children:"Login"})]}),m.jsx("button",{className:"md:hidden text-gray-300 hover:text-white",onClick:s,"aria-label":"Toggle menu",children:t?m.jsx(Yx,{size:24}):m.jsx(IP,{size:24})})]}),t&&m.jsxs("nav",{className:"md:hidden flex flex-col space-y-2 py-4",children:[m.jsx(zi,{to:"/",className:"text-gray-300 hover:text-white",onClick:s,children:"Home"}),m.jsx(zi,{to:"/course",className:"text-gray-300 hover:text-white",onClick:s,children:"Course Management"}),m.jsx(zi,{to:"/add-course",className:"text-gray-300 hover:text-white",onClick:s,children:"Add Course"}),n?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"text-green-400 font-semibold px-2",children:"Admin"}),m.jsx(nt,{variant:"ghost",className:"text-white hover:bg-zinc-800 mt-2",onClick:()=>{r(),s()},children:"Logout"})]}):m.jsx(nt,{variant:"ghost",className:"text-white hover:bg-zinc-800 mt-2",onClick:()=>{i("/login"),s()},children:"Login"})]})]})})},vi=()=>m.jsx("footer",{className:"w-full bg-black text-gray-400",children:m.jsxs("div",{className:"max-w-5xl mx-auto flex flex-col md:flex-row items-center justify-between py-6 px-4",children:[m.jsxs("span",{className:"text-sm cursor-pointer",children:[" ",new Date().getFullYear()," HscCollege. All rights reserved."]}),m.jsxs("div",{className:"flex gap-4 mt-2 md:mt-0",children:[m.jsx("a",{href:"#",className:"hover:text-white transition",children:"Terms"}),m.jsx("a",{href:"#",className:"hover:text-white transition",children:"Privacy"})]})]})}),zD=({course:t,subjects:e,idx:n})=>{const r=vs(),{isAdmin:i}=Uo(),s=a=>{const u=e.find(c=>c.id===a);return(u==null?void 0:u.name)||a},o=(a,u)=>{const c=e.find(p=>p.id===a),d=c==null?void 0:c.chapters.find(p=>p.id===u);return(d==null?void 0:d.name)||u};return m.jsxs("div",{onClick:()=>r(`/course/${t.id}`),className:"bg-zinc-900 rounded-lg overflow-hidden shadow-lg transform transition-all duration-300 hover:scale-105 animate-enter cursor-pointer",style:{animationDelay:`${n*100}ms`},children:[m.jsxs("div",{className:"relative aspect-video",children:[m.jsx("img",{src:t.customThumbnailUrl||t.thumbnailUrl,alt:t.title,className:"w-full h-full object-cover"}),m.jsxs("div",{className:"absolute top-2 right-2 bg-black/50 p-2 rounded-full flex items-center gap-2",children:[t.courseType==="video"?m.jsx(PP,{className:"h-5 w-5 text-white"}):m.jsx(SP,{className:"h-5 w-5 text-white"}),i&&t.private&&m.jsxs("span",{className:"flex items-center gap-1 bg-red-600 text-white text-xs px-2 py-1 rounded ml-2",children:[m.jsx(Gx,{className:"h-3 w-3"})," Private"]})]})]}),m.jsxs("div",{className:"p-4",children:[m.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:t.title}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("span",{className:"px-2 py-1 bg-zinc-800 text-gray-300 rounded text-sm",children:s(t.subject)}),m.jsx("span",{className:"px-2 py-1 bg-zinc-800 text-gray-300 rounded text-sm",children:o(t.subject,t.chapter)}),m.jsx("span",{className:"px-2 py-1 bg-zinc-800 text-gray-300 rounded text-sm",children:t.courseType==="video"?"Video Course":"Book Collection"})]})]})]})};function R0(t,[e,n]){return Math.min(n,Math.max(e,t))}var UD=v.createContext(void 0);function $D(t){const e=v.useContext(UD);return t||e||"ltr"}var Qh=0;function nT(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??P0()),document.body.insertAdjacentElement("beforeend",t[1]??P0()),Qh++,()=>{Qh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Qh--}},[])}function P0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Yh="focusScope.autoFocusOnMount",Xh="focusScope.autoFocusOnUnmount",N0={bubbles:!1,cancelable:!0},BD="FocusScope",lg=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,u]=v.useState(null),c=un(i),d=un(s),p=v.useRef(null),h=ke(e,g=>u(g)),w=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let g=function(C){if(w.paused||!a)return;const N=C.target;a.contains(N)?p.current=N:jr(p.current,{select:!0})},S=function(C){if(w.paused||!a)return;const N=C.relatedTarget;N!==null&&(a.contains(N)||jr(p.current,{select:!0}))},E=function(C){if(document.activeElement===document.body)for(const O of C)O.removedNodes.length>0&&jr(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",S);const _=new MutationObserver(E);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",S),_.disconnect()}}},[r,a,w.paused]),v.useEffect(()=>{if(a){D0.add(w);const g=document.activeElement;if(!a.contains(g)){const E=new CustomEvent(Yh,N0);a.addEventListener(Yh,c),a.dispatchEvent(E),E.defaultPrevented||(HD(QD(rT(a)),{select:!0}),document.activeElement===g&&jr(a))}return()=>{a.removeEventListener(Yh,c),setTimeout(()=>{const E=new CustomEvent(Xh,N0);a.addEventListener(Xh,d),a.dispatchEvent(E),E.defaultPrevented||jr(g??document.body,{select:!0}),a.removeEventListener(Xh,d),D0.remove(w)},0)}}},[a,c,d,w]);const x=v.useCallback(g=>{if(!n&&!r||w.paused)return;const S=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,E=document.activeElement;if(S&&E){const _=g.currentTarget,[C,N]=WD(_);C&&N?!g.shiftKey&&E===N?(g.preventDefault(),n&&jr(C,{select:!0})):g.shiftKey&&E===C&&(g.preventDefault(),n&&jr(N,{select:!0})):E===_&&g.preventDefault()}},[n,r,w.paused]);return m.jsx(Te.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});lg.displayName=BD;function HD(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(jr(r,{select:e}),document.activeElement!==n)return}function WD(t){const e=rT(t),n=k0(e,t),r=k0(e.reverse(),t);return[n,r]}function rT(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function k0(t,e){for(const n of t)if(!KD(n,{upTo:e}))return n}function KD(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function qD(t){return t instanceof HTMLInputElement&&"select"in t}function jr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&qD(t)&&e&&t.select()}}var D0=GD();function GD(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=O0(t,e),t.unshift(e)},remove(e){var n;t=O0(t,e),(n=t[0])==null||n.resume()}}}function O0(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function QD(t){return t.filter(e=>e.tagName!=="A")}function YD(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var XD=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},bs=new WeakMap,bu=new WeakMap,Au={},Jh=0,iT=function(t){return t&&(t.host||iT(t.parentNode))},JD=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=iT(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},ZD=function(t,e,n,r){var i=JD(e,Array.isArray(t)?t:[t]);Au[n]||(Au[n]=new WeakMap);var s=Au[n],o=[],a=new Set,u=new Set(i),c=function(p){!p||a.has(p)||(a.add(p),c(p.parentNode))};i.forEach(c);var d=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(h){if(a.has(h))d(h);else try{var w=h.getAttribute(r),x=w!==null&&w!=="false",g=(bs.get(h)||0)+1,S=(s.get(h)||0)+1;bs.set(h,g),s.set(h,S),o.push(h),g===1&&x&&bu.set(h,!0),S===1&&h.setAttribute(n,"true"),x||h.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",h,E)}})};return d(e),a.clear(),Jh++,function(){o.forEach(function(p){var h=bs.get(p)-1,w=s.get(p)-1;bs.set(p,h),s.set(p,w),h||(bu.has(p)||p.removeAttribute(r),bu.delete(p)),w||p.removeAttribute(n)}),Jh--,Jh||(bs=new WeakMap,bs=new WeakMap,bu=new WeakMap,Au={})}},sT=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=XD(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),ZD(r,i,n,"aria-hidden")):function(){return null}},Gn=function(){return Gn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Gn.apply(this,arguments)};function oT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function e4(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Ju="right-scroll-bar-position",Zu="width-before-scroll-bar",t4="with-scroll-bars-hidden",n4="--removed-body-scroll-bar-size";function Zh(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function r4(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var i4=typeof window<"u"?v.useLayoutEffect:v.useEffect,V0=new WeakMap;function s4(t,e){var n=r4(null,function(r){return t.forEach(function(i){return Zh(i,r)})});return i4(function(){var r=V0.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Zh(a,null)}),s.forEach(function(a){i.has(a)||Zh(a,o)})}V0.set(n,t)},[t]),n}function o4(t){return t}function a4(t,e){e===void 0&&(e=o4);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var u=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function l4(t){t===void 0&&(t={});var e=a4(null);return e.options=Gn({async:!0,ssr:!1},t),e}var aT=function(t){var e=t.sideCar,n=oT(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Gn({},n))};aT.isSideCarExport=!0;function u4(t,e){return t.useMedium(e),aT}var lT=l4(),ef=function(){},Pd=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:ef,onWheelCapture:ef,onTouchMoveCapture:ef}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,u=t.className,c=t.removeScrollBar,d=t.enabled,p=t.shards,h=t.sideCar,w=t.noIsolation,x=t.inert,g=t.allowPinchZoom,S=t.as,E=S===void 0?"div":S,_=t.gapMode,C=oT(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,O=s4([n,e]),V=Gn(Gn({},C),i);return v.createElement(v.Fragment,null,d&&v.createElement(N,{sideCar:lT,removeScrollBar:c,shards:p,noIsolation:w,inert:x,setCallbacks:s,allowPinchZoom:!!g,lockRef:n,gapMode:_}),o?v.cloneElement(v.Children.only(a),Gn(Gn({},V),{ref:O})):v.createElement(E,Gn({},V,{className:u,ref:O}),a))});Pd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pd.classNames={fullWidth:Zu,zeroRight:Ju};var c4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function d4(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=c4();return e&&t.setAttribute("nonce",e),t}function h4(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function f4(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var p4=function(){var t=0,e=null;return{add:function(n){t==0&&(e=d4())&&(h4(e,n),f4(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},m4=function(){var t=p4();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},uT=function(){var t=m4(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},g4={left:0,top:0,right:0,gap:0},tf=function(t){return parseInt(t||"",10)||0},y4=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[tf(n),tf(r),tf(i)]},v4=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return g4;var e=y4(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},w4=uT(),ro="data-scroll-locked",_4=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(t4,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ro,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ju,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Zu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ju," .").concat(Ju,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Zu," .").concat(Zu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ro,`] {
    `).concat(n4,": ").concat(a,`px;
  }
`)},M0=function(){var t=parseInt(document.body.getAttribute(ro)||"0",10);return isFinite(t)?t:0},x4=function(){v.useEffect(function(){return document.body.setAttribute(ro,(M0()+1).toString()),function(){var t=M0()-1;t<=0?document.body.removeAttribute(ro):document.body.setAttribute(ro,t.toString())}},[])},E4=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;x4();var s=v.useMemo(function(){return v4(i)},[i]);return v.createElement(w4,{styles:_4(s,!e,i,n?"":"!important")})},wp=!1;if(typeof window<"u")try{var Iu=Object.defineProperty({},"passive",{get:function(){return wp=!0,!0}});window.addEventListener("test",Iu,Iu),window.removeEventListener("test",Iu,Iu)}catch{wp=!1}var As=wp?{passive:!1}:!1,T4=function(t){return t.tagName==="TEXTAREA"},cT=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!T4(t)&&n[e]==="visible")},S4=function(t){return cT(t,"overflowY")},C4=function(t){return cT(t,"overflowX")},j0=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=dT(t,r);if(i){var s=hT(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},b4=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},A4=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},dT=function(t,e){return t==="v"?S4(e):C4(e)},hT=function(t,e){return t==="v"?b4(e):A4(e)},I4=function(t,e){return t==="h"&&e==="rtl"?-1:1},R4=function(t,e,n,r,i){var s=I4(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,u=e.contains(a),c=!1,d=o>0,p=0,h=0;do{var w=hT(t,a),x=w[0],g=w[1],S=w[2],E=g-S-s*x;(x||E)&&dT(t,a)&&(p+=E,h+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(d&&(Math.abs(p)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(c=!0),c},Ru=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},L0=function(t){return[t.deltaX,t.deltaY]},F0=function(t){return t&&"current"in t?t.current:t},P4=function(t,e){return t[0]===e[0]&&t[1]===e[1]},N4=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},k4=0,Is=[];function D4(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),i=v.useState(k4++)[0],s=v.useState(uT)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=e4([t.lockRef.current],(t.shards||[]).map(F0),!0).filter(Boolean);return g.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(g,S){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var E=Ru(g),_=n.current,C="deltaX"in g?g.deltaX:_[0]-E[0],N="deltaY"in g?g.deltaY:_[1]-E[1],O,V=g.target,T=Math.abs(C)>Math.abs(N)?"h":"v";if("touches"in g&&T==="h"&&V.type==="range")return!1;var b=j0(T,V);if(!b)return!0;if(b?O=T:(O=T==="v"?"h":"v",b=j0(T,V)),!b)return!1;if(!r.current&&"changedTouches"in g&&(C||N)&&(r.current=O),!O)return!0;var A=r.current||O;return R4(A,S,g,A==="h"?C:N,!0)},[]),u=v.useCallback(function(g){var S=g;if(!(!Is.length||Is[Is.length-1]!==s)){var E="deltaY"in S?L0(S):Ru(S),_=e.current.filter(function(O){return O.name===S.type&&(O.target===S.target||S.target===O.shadowParent)&&P4(O.delta,E)})[0];if(_&&_.should){S.cancelable&&S.preventDefault();return}if(!_){var C=(o.current.shards||[]).map(F0).filter(Boolean).filter(function(O){return O.contains(S.target)}),N=C.length>0?a(S,C[0]):!o.current.noIsolation;N&&S.cancelable&&S.preventDefault()}}},[]),c=v.useCallback(function(g,S,E,_){var C={name:g,delta:S,target:E,should:_,shadowParent:O4(E)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(N){return N!==C})},1)},[]),d=v.useCallback(function(g){n.current=Ru(g),r.current=void 0},[]),p=v.useCallback(function(g){c(g.type,L0(g),g.target,a(g,t.lockRef.current))},[]),h=v.useCallback(function(g){c(g.type,Ru(g),g.target,a(g,t.lockRef.current))},[]);v.useEffect(function(){return Is.push(s),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:h}),document.addEventListener("wheel",u,As),document.addEventListener("touchmove",u,As),document.addEventListener("touchstart",d,As),function(){Is=Is.filter(function(g){return g!==s}),document.removeEventListener("wheel",u,As),document.removeEventListener("touchmove",u,As),document.removeEventListener("touchstart",d,As)}},[]);var w=t.removeScrollBar,x=t.inert;return v.createElement(v.Fragment,null,x?v.createElement(s,{styles:N4(i)}):null,w?v.createElement(E4,{gapMode:t.gapMode}):null)}function O4(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const V4=u4(lT,D4);var ug=v.forwardRef(function(t,e){return v.createElement(Pd,Gn({},t,{ref:e,sideCar:V4}))});ug.classNames=Pd.classNames;var M4=[" ","Enter","ArrowUp","ArrowDown"],j4=[" ","Enter"],Dl="Select",[Nd,kd,L4]=_x(Dl),[$o,fF]=Al(Dl,[L4,Sd]),Dd=Sd(),[F4,Pi]=$o(Dl),[z4,U4]=$o(Dl),fT=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:u,dir:c,name:d,autoComplete:p,disabled:h,required:w,form:x}=t,g=Dd(e),[S,E]=v.useState(null),[_,C]=v.useState(null),[N,O]=v.useState(!1),V=$D(c),[T=!1,b]=Pc({prop:r,defaultProp:i,onChange:s}),[A,R]=Pc({prop:o,defaultProp:a,onChange:u}),k=v.useRef(null),D=S?x||!!S.closest("form"):!0,[P,H]=v.useState(new Set),re=Array.from(P).map(X=>X.props.value).join(";");return m.jsx(J2,{...g,children:m.jsxs(F4,{required:w,scope:e,trigger:S,onTriggerChange:E,valueNode:_,onValueNodeChange:C,valueNodeHasChildren:N,onValueNodeHasChildrenChange:O,contentId:to(),value:A,onValueChange:R,open:T,onOpenChange:b,dir:V,triggerPointerDownPosRef:k,disabled:h,children:[m.jsx(Nd.Provider,{scope:e,children:m.jsx(z4,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(X=>{H(ne=>new Set(ne).add(X))},[]),onNativeOptionRemove:v.useCallback(X=>{H(ne=>{const j=new Set(ne);return j.delete(X),j})},[]),children:n})}),D?m.jsxs(LT,{"aria-hidden":!0,required:w,tabIndex:-1,name:d,autoComplete:p,value:A,onChange:X=>R(X.target.value),disabled:h,form:x,children:[A===void 0?m.jsx("option",{value:""}):null,Array.from(P)]},re):null]})})};fT.displayName=Dl;var pT="SelectTrigger",mT=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Dd(n),o=Pi(pT,n),a=o.disabled||r,u=ke(e,o.onTriggerChange),c=kd(n),d=v.useRef("touch"),[p,h,w]=FT(g=>{const S=c().filter(C=>!C.disabled),E=S.find(C=>C.value===o.value),_=zT(S,g,E);_!==void 0&&o.onValueChange(_.value)}),x=g=>{a||(o.onOpenChange(!0),w()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return m.jsx(CE,{asChild:!0,...s,children:m.jsx(Te.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":jT(o.value)?"":void 0,...i,ref:u,onClick:ue(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&x(g)}),onPointerDown:ue(i.onPointerDown,g=>{d.current=g.pointerType;const S=g.target;S.hasPointerCapture(g.pointerId)&&S.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:ue(i.onKeyDown,g=>{const S=p.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(S&&g.key===" ")&&M4.includes(g.key)&&(x(),g.preventDefault())})})})});mT.displayName=pT;var gT="SelectValue",yT=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,u=Pi(gT,n),{onValueNodeHasChildrenChange:c}=u,d=s!==void 0,p=ke(e,u.onValueNodeChange);return Ot(()=>{c(d)},[c,d]),m.jsx(Te.span,{...a,ref:p,style:{pointerEvents:"none"},children:jT(u.value)?m.jsx(m.Fragment,{children:o}):s})});yT.displayName=gT;var $4="SelectIcon",vT=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return m.jsx(Te.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});vT.displayName=$4;var B4="SelectPortal",wT=t=>m.jsx(vd,{asChild:!0,...t});wT.displayName=B4;var us="SelectContent",_T=v.forwardRef((t,e)=>{const n=Pi(us,t.__scopeSelect),[r,i]=v.useState();if(Ot(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?gs.createPortal(m.jsx(xT,{scope:t.__scopeSelect,children:m.jsx(Nd.Slot,{scope:t.__scopeSelect,children:m.jsx("div",{children:t.children})})}),s):null}return m.jsx(ET,{...t,ref:e})});_T.displayName=us;var Sn=10,[xT,Ni]=$o(us),H4="SelectContentImpl",ET=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:u,align:c,alignOffset:d,arrowPadding:p,collisionBoundary:h,collisionPadding:w,sticky:x,hideWhenDetached:g,avoidCollisions:S,...E}=t,_=Pi(us,n),[C,N]=v.useState(null),[O,V]=v.useState(null),T=ke(e,Z=>N(Z)),[b,A]=v.useState(null),[R,k]=v.useState(null),D=kd(n),[P,H]=v.useState(!1),re=v.useRef(!1);v.useEffect(()=>{if(C)return sT(C)},[C]),nT();const X=v.useCallback(Z=>{const[xe,...ze]=D().map(ge=>ge.ref.current),[pe]=ze.slice(-1),ve=document.activeElement;for(const ge of Z)if(ge===ve||(ge==null||ge.scrollIntoView({block:"nearest"}),ge===xe&&O&&(O.scrollTop=0),ge===pe&&O&&(O.scrollTop=O.scrollHeight),ge==null||ge.focus(),document.activeElement!==ve))return},[D,O]),ne=v.useCallback(()=>X([b,C]),[X,b,C]);v.useEffect(()=>{P&&ne()},[P,ne]);const{onOpenChange:j,triggerPointerDownPosRef:$}=_;v.useEffect(()=>{if(C){let Z={x:0,y:0};const xe=pe=>{var ve,ge;Z={x:Math.abs(Math.round(pe.pageX)-(((ve=$.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((ge=$.current)==null?void 0:ge.y)??0))}},ze=pe=>{Z.x<=10&&Z.y<=10?pe.preventDefault():C.contains(pe.target)||j(!1),document.removeEventListener("pointermove",xe),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",ze,{capture:!0})}}},[C,j,$]),v.useEffect(()=>{const Z=()=>j(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[j]);const[Y,q]=FT(Z=>{const xe=D().filter(ve=>!ve.disabled),ze=xe.find(ve=>ve.ref.current===document.activeElement),pe=zT(xe,Z,ze);pe&&setTimeout(()=>pe.ref.current.focus())}),J=v.useCallback((Z,xe,ze)=>{const pe=!re.current&&!ze;(_.value!==void 0&&_.value===xe||pe)&&(A(Z),pe&&(re.current=!0))},[_.value]),ee=v.useCallback(()=>C==null?void 0:C.focus(),[C]),Se=v.useCallback((Z,xe,ze)=>{const pe=!re.current&&!ze;(_.value!==void 0&&_.value===xe||pe)&&k(Z)},[_.value]),Fe=r==="popper"?_p:TT,fe=Fe===_p?{side:a,sideOffset:u,align:c,alignOffset:d,arrowPadding:p,collisionBoundary:h,collisionPadding:w,sticky:x,hideWhenDetached:g,avoidCollisions:S}:{};return m.jsx(xT,{scope:n,content:C,viewport:O,onViewportChange:V,itemRefCallback:J,selectedItem:b,onItemLeave:ee,itemTextRefCallback:Se,focusSelectedItem:ne,selectedItemText:R,position:r,isPositioned:P,searchRef:Y,children:m.jsx(ug,{as,allowPinchZoom:!0,children:m.jsx(lg,{asChild:!0,trapped:_.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:ue(i,Z=>{var xe;(xe=_.trigger)==null||xe.focus({preventScroll:!0}),Z.preventDefault()}),children:m.jsx(Il,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:m.jsx(Fe,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:Z=>Z.preventDefault(),...E,...fe,onPlaced:()=>H(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:ue(E.onKeyDown,Z=>{const xe=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!xe&&Z.key.length===1&&q(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let pe=D().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const ve=Z.target,ge=pe.indexOf(ve);pe=pe.slice(ge+1)}setTimeout(()=>X(pe)),Z.preventDefault()}})})})})})})});ET.displayName=H4;var W4="SelectItemAlignedPosition",TT=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Pi(us,n),o=Ni(us,n),[a,u]=v.useState(null),[c,d]=v.useState(null),p=ke(e,T=>d(T)),h=kd(n),w=v.useRef(!1),x=v.useRef(!0),{viewport:g,selectedItem:S,selectedItemText:E,focusSelectedItem:_}=o,C=v.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&g&&S&&E){const T=s.trigger.getBoundingClientRect(),b=c.getBoundingClientRect(),A=s.valueNode.getBoundingClientRect(),R=E.getBoundingClientRect();if(s.dir!=="rtl"){const ve=R.left-b.left,ge=A.left-ve,st=T.left-ge,pt=T.width+st,hn=Math.max(pt,b.width),Vt=window.innerWidth-Sn,rr=R0(ge,[Sn,Math.max(Sn,Vt-hn)]);a.style.minWidth=pt+"px",a.style.left=rr+"px"}else{const ve=b.right-R.right,ge=window.innerWidth-A.right-ve,st=window.innerWidth-T.right-ge,pt=T.width+st,hn=Math.max(pt,b.width),Vt=window.innerWidth-Sn,rr=R0(ge,[Sn,Math.max(Sn,Vt-hn)]);a.style.minWidth=pt+"px",a.style.right=rr+"px"}const k=h(),D=window.innerHeight-Sn*2,P=g.scrollHeight,H=window.getComputedStyle(c),re=parseInt(H.borderTopWidth,10),X=parseInt(H.paddingTop,10),ne=parseInt(H.borderBottomWidth,10),j=parseInt(H.paddingBottom,10),$=re+X+P+j+ne,Y=Math.min(S.offsetHeight*5,$),q=window.getComputedStyle(g),J=parseInt(q.paddingTop,10),ee=parseInt(q.paddingBottom,10),Se=T.top+T.height/2-Sn,Fe=D-Se,fe=S.offsetHeight/2,Z=S.offsetTop+fe,xe=re+X+Z,ze=$-xe;if(xe<=Se){const ve=k.length>0&&S===k[k.length-1].ref.current;a.style.bottom="0px";const ge=c.clientHeight-g.offsetTop-g.offsetHeight,st=Math.max(Fe,fe+(ve?ee:0)+ge+ne),pt=xe+st;a.style.height=pt+"px"}else{const ve=k.length>0&&S===k[0].ref.current;a.style.top="0px";const st=Math.max(Se,re+g.offsetTop+(ve?J:0)+fe)+ze;a.style.height=st+"px",g.scrollTop=xe-Se+g.offsetTop}a.style.margin=`${Sn}px 0`,a.style.minHeight=Y+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[h,s.trigger,s.valueNode,a,c,g,S,E,s.dir,r]);Ot(()=>C(),[C]);const[N,O]=v.useState();Ot(()=>{c&&O(window.getComputedStyle(c).zIndex)},[c]);const V=v.useCallback(T=>{T&&x.current===!0&&(C(),_==null||_(),x.current=!1)},[C,_]);return m.jsx(q4,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:w,onScrollButtonChange:V,children:m.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:m.jsx(Te.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});TT.displayName=W4;var K4="SelectPopperPosition",_p=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Sn,...s}=t,o=Dd(n);return m.jsx(bE,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});_p.displayName=K4;var[q4,cg]=$o(us,{}),xp="SelectViewport",ST=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Ni(xp,n),o=cg(xp,n),a=ke(e,s.onViewportChange),u=v.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),m.jsx(Nd.Slot,{scope:n,children:m.jsx(Te.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ue(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&p){const w=Math.abs(u.current-d.scrollTop);if(w>0){const x=window.innerHeight-Sn*2,g=parseFloat(p.style.minHeight),S=parseFloat(p.style.height),E=Math.max(g,S);if(E<x){const _=E+w,C=Math.min(x,_),N=_-C;p.style.height=C+"px",p.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,p.style.justifyContent="flex-end")}}}u.current=d.scrollTop})})})]})});ST.displayName=xp;var CT="SelectGroup",[G4,Q4]=$o(CT),Y4=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=to();return m.jsx(G4,{scope:n,id:i,children:m.jsx(Te.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Y4.displayName=CT;var bT="SelectLabel",AT=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Q4(bT,n);return m.jsx(Te.div,{id:i.id,...r,ref:e})});AT.displayName=bT;var Lc="SelectItem",[X4,IT]=$o(Lc),RT=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=Pi(Lc,n),u=Ni(Lc,n),c=a.value===r,[d,p]=v.useState(s??""),[h,w]=v.useState(!1),x=ke(e,_=>{var C;return(C=u.itemRefCallback)==null?void 0:C.call(u,_,r,i)}),g=to(),S=v.useRef("touch"),E=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(X4,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:v.useCallback(_=>{p(C=>C||((_==null?void 0:_.textContent)??"").trim())},[]),children:m.jsx(Nd.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:m.jsx(Te.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:ue(o.onFocus,()=>w(!0)),onBlur:ue(o.onBlur,()=>w(!1)),onClick:ue(o.onClick,()=>{S.current!=="mouse"&&E()}),onPointerUp:ue(o.onPointerUp,()=>{S.current==="mouse"&&E()}),onPointerDown:ue(o.onPointerDown,_=>{S.current=_.pointerType}),onPointerMove:ue(o.onPointerMove,_=>{var C;S.current=_.pointerType,i?(C=u.onItemLeave)==null||C.call(u):S.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ue(o.onPointerLeave,_=>{var C;_.currentTarget===document.activeElement&&((C=u.onItemLeave)==null||C.call(u))}),onKeyDown:ue(o.onKeyDown,_=>{var N;((N=u.searchRef)==null?void 0:N.current)!==""&&_.key===" "||(j4.includes(_.key)&&E(),_.key===" "&&_.preventDefault())})})})})});RT.displayName=Lc;var Sa="SelectItemText",PT=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Pi(Sa,n),a=Ni(Sa,n),u=IT(Sa,n),c=U4(Sa,n),[d,p]=v.useState(null),h=ke(e,E=>p(E),u.onItemTextChange,E=>{var _;return(_=a.itemTextRefCallback)==null?void 0:_.call(a,E,u.value,u.disabled)}),w=d==null?void 0:d.textContent,x=v.useMemo(()=>m.jsx("option",{value:u.value,disabled:u.disabled,children:w},u.value),[u.disabled,u.value,w]),{onNativeOptionAdd:g,onNativeOptionRemove:S}=c;return Ot(()=>(g(x),()=>S(x)),[g,S,x]),m.jsxs(m.Fragment,{children:[m.jsx(Te.span,{id:u.textId,...s,ref:h}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?gs.createPortal(s.children,o.valueNode):null]})});PT.displayName=Sa;var NT="SelectItemIndicator",kT=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return IT(NT,n).isSelected?m.jsx(Te.span,{"aria-hidden":!0,...r,ref:e}):null});kT.displayName=NT;var Ep="SelectScrollUpButton",DT=v.forwardRef((t,e)=>{const n=Ni(Ep,t.__scopeSelect),r=cg(Ep,t.__scopeSelect),[i,s]=v.useState(!1),o=ke(e,r.onScrollButtonChange);return Ot(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=u.scrollTop>0;s(c)};const u=n.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?m.jsx(VT,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=n;a&&u&&(a.scrollTop=a.scrollTop-u.offsetHeight)}}):null});DT.displayName=Ep;var Tp="SelectScrollDownButton",OT=v.forwardRef((t,e)=>{const n=Ni(Tp,t.__scopeSelect),r=cg(Tp,t.__scopeSelect),[i,s]=v.useState(!1),o=ke(e,r.onScrollButtonChange);return Ot(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=u.scrollHeight-u.clientHeight,d=Math.ceil(u.scrollTop)<c;s(d)};const u=n.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?m.jsx(VT,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=n;a&&u&&(a.scrollTop=a.scrollTop+u.offsetHeight)}}):null});OT.displayName=Tp;var VT=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Ni("SelectScrollButton",n),o=v.useRef(null),a=kd(n),u=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>u(),[u]),Ot(()=>{var d;const c=a().find(p=>p.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),m.jsx(Te.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ue(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ue(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ue(i.onPointerLeave,()=>{u()})})}),J4="SelectSeparator",MT=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return m.jsx(Te.div,{"aria-hidden":!0,...r,ref:e})});MT.displayName=J4;var Sp="SelectArrow",Z4=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Dd(n),s=Pi(Sp,n),o=Ni(Sp,n);return s.open&&o.position==="popper"?m.jsx(AE,{...i,...r,ref:e}):null});Z4.displayName=Sp;function jT(t){return t===""||t===void 0}var LT=v.forwardRef((t,e)=>{const{value:n,...r}=t,i=v.useRef(null),s=ke(e,i),o=YD(n);return v.useEffect(()=>{const a=i.current,u=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==n&&d){const p=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(p)}},[o,n]),m.jsx(Rl,{asChild:!0,children:m.jsx("select",{...r,ref:s,defaultValue:n})})});LT.displayName="BubbleSelect";function FT(t){const e=un(t),n=v.useRef(""),r=v.useRef(0),i=v.useCallback(o=>{const a=n.current+o;e(a),function u(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(a)},[e]),s=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function zT(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=eO(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const u=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function eO(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var tO=fT,UT=mT,nO=yT,rO=vT,iO=wT,$T=_T,sO=ST,BT=AT,HT=RT,oO=PT,aO=kT,WT=DT,KT=OT,qT=MT;const Ws=tO,Ks=nO,qi=v.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(UT,{ref:r,className:Oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,m.jsx(rO,{asChild:!0,children:m.jsx(qx,{className:"h-4 w-4 opacity-50"})})]}));qi.displayName=UT.displayName;const GT=v.forwardRef(({className:t,...e},n)=>m.jsx(WT,{ref:n,className:Oe("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(bP,{className:"h-4 w-4"})}));GT.displayName=WT.displayName;const QT=v.forwardRef(({className:t,...e},n)=>m.jsx(KT,{ref:n,className:Oe("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(qx,{className:"h-4 w-4"})}));QT.displayName=KT.displayName;const Gi=v.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>m.jsx(iO,{children:m.jsxs($T,{ref:i,className:Oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[m.jsx(GT,{}),m.jsx(sO,{className:Oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),m.jsx(QT,{})]})}));Gi.displayName=$T.displayName;const lO=v.forwardRef(({className:t,...e},n)=>m.jsx(BT,{ref:n,className:Oe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));lO.displayName=BT.displayName;const pn=v.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(HT,{ref:r,className:Oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(aO,{children:m.jsx(CP,{className:"h-4 w-4"})})}),m.jsx(oO,{children:e})]}));pn.displayName=HT.displayName;const uO=v.forwardRef(({className:t,...e},n)=>m.jsx(qT,{ref:n,className:Oe("-mx-1 my-1 h-px bg-muted",t),...e}));uO.displayName=qT.displayName;const cO=()=>{};var z0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},XT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,p=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,w=c&63;u||(w=64,o||(h=64)),r.push(n[d],n[p],n[h],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||p==null)throw new hO;const h=s<<2|a>>4;if(r.push(h),c!==64){const w=a<<4&240|c>>2;if(r.push(w),p!==64){const x=c<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fO=function(t){const e=YT(t);return XT.encodeByteArray(e,!0)},Fc=function(t){return fO(t).replace(/\./g,"")},pO=function(t){try{return XT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=()=>mO().__FIREBASE_DEFAULTS__,yO=()=>{if(typeof process>"u"||typeof z0>"u")return;const t=z0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pO(t[1]);return e&&JSON.parse(e)},dg=()=>{try{return cO()||gO()||yO()||vO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wO=t=>{var e,n;return(n=(e=dg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_O=t=>{const e=wO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},JT=()=>{var t;return(t=dg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(t){return t.endsWith(".cloudworkstations.dev")}async function EO(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fc(JSON.stringify(n)),Fc(JSON.stringify(o)),""].join(".")}const La={};function SO(){const t={prod:[],emulator:[]};for(const e of Object.keys(La))La[e]?t.emulator.push(e):t.prod.push(e);return t}function CO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let U0=!1;function bO(t,e){if(typeof window>"u"||typeof document>"u"||!hg(window.location.host)||La[t]===e||La[t]||U0)return;La[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=SO().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function u(h,w){h.setAttribute("width","24"),h.setAttribute("id",w),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{U0=!0,o()},h}function d(h,w){h.setAttribute("id",w),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function p(){const h=CO(r),w=n("text"),x=document.getElementById(w)||document.createElement("span"),g=n("learnmore"),S=document.getElementById(g)||document.createElement("a"),E=n("preprendIcon"),_=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const C=h.element;a(C),d(S,g);const N=c();u(_,E),C.append(_,x,S,N),document.body.appendChild(C)}s?(x.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IO(){var t;const e=(t=dg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RO(){return!IO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PO(){try{return typeof indexedDB=="object"}catch{return!1}}function NO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="FirebaseError";class Bo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kO,Object.setPrototypeOf(this,Bo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ZT.prototype.create)}}class ZT{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?DO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Bo(i,a,r)}}function DO(t,e){return t.replace(OO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const OO=/\{\$([^}]+)}/g;function zc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if($0(s)&&$0(o)){if(!zc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t){return t&&t._delegate?t._delegate:t}class hl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jO(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MO(t){return t===Bi?void 0:t}function jO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const FO={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},zO=_e.INFO,UO={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},$O=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=UO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eS{constructor(e){this.name=e,this._logLevel=zO,this._logHandler=$O,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const BO=(t,e)=>e.some(n=>t instanceof n);let B0,H0;function HO(){return B0||(B0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WO(){return H0||(H0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tS=new WeakMap,Cp=new WeakMap,nS=new WeakMap,nf=new WeakMap,fg=new WeakMap;function KO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(oi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tS.set(n,t)}).catch(()=>{}),fg.set(e,t),e}function qO(t){if(Cp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Cp.set(t,e)}let bp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GO(t){bp=t(bp)}function QO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(rf(this),e,...n);return nS.set(r,e.sort?e.sort():[e]),oi(r)}:WO().includes(t)?function(...e){return t.apply(rf(this),e),oi(tS.get(this))}:function(...e){return oi(t.apply(rf(this),e))}}function YO(t){return typeof t=="function"?QO(t):(t instanceof IDBTransaction&&qO(t),BO(t,HO())?new Proxy(t,bp):t)}function oi(t){if(t instanceof IDBRequest)return KO(t);if(nf.has(t))return nf.get(t);const e=YO(t);return e!==t&&(nf.set(t,e),fg.set(e,t)),e}const rf=t=>fg.get(t);function XO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=oi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(oi(o.result),u.oldVersion,u.newVersion,oi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const JO=["get","getKey","getAll","getAllKeys","count"],ZO=["put","add","delete","clear"],sf=new Map;function W0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sf.get(e))return sf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ZO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||JO.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return sf.set(e,s),s}GO(t=>({...t,get:(e,n,r)=>W0(e,n)||t.get(e,n,r),has:(e,n)=>!!W0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ap="@firebase/app",K0="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new eS("@firebase/app"),nV="@firebase/app-compat",rV="@firebase/analytics-compat",iV="@firebase/analytics",sV="@firebase/app-check-compat",oV="@firebase/app-check",aV="@firebase/auth",lV="@firebase/auth-compat",uV="@firebase/database",cV="@firebase/data-connect",dV="@firebase/database-compat",hV="@firebase/functions",fV="@firebase/functions-compat",pV="@firebase/installations",mV="@firebase/installations-compat",gV="@firebase/messaging",yV="@firebase/messaging-compat",vV="@firebase/performance",wV="@firebase/performance-compat",_V="@firebase/remote-config",xV="@firebase/remote-config-compat",EV="@firebase/storage",TV="@firebase/storage-compat",SV="@firebase/firestore",CV="@firebase/ai",bV="@firebase/firestore-compat",AV="firebase",IV="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="[DEFAULT]",RV={[Ap]:"fire-core",[nV]:"fire-core-compat",[iV]:"fire-analytics",[rV]:"fire-analytics-compat",[oV]:"fire-app-check",[sV]:"fire-app-check-compat",[aV]:"fire-auth",[lV]:"fire-auth-compat",[uV]:"fire-rtdb",[cV]:"fire-data-connect",[dV]:"fire-rtdb-compat",[hV]:"fire-fn",[fV]:"fire-fn-compat",[pV]:"fire-iid",[mV]:"fire-iid-compat",[gV]:"fire-fcm",[yV]:"fire-fcm-compat",[vV]:"fire-perf",[wV]:"fire-perf-compat",[_V]:"fire-rc",[xV]:"fire-rc-compat",[EV]:"fire-gcs",[TV]:"fire-gcs-compat",[SV]:"fire-fst",[bV]:"fire-fst-compat",[CV]:"fire-vertex","fire-js":"fire-js",[AV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new Map,PV=new Map,Rp=new Map;function q0(t,e){try{t.container.addComponent(e)}catch(n){xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $c(t){const e=t.name;if(Rp.has(e))return xr.debug(`There were multiple attempts to register component ${e}.`),!1;Rp.set(e,t);for(const n of Uc.values())q0(n,t);for(const n of PV.values())q0(n,t);return!0}function NV(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kV(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ai=new ZT("app","Firebase",DV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=IV;function rS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ip,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ai.create("bad-app-name",{appName:String(i)});if(n||(n=JT()),!n)throw ai.create("no-options");const s=Uc.get(i);if(s){if(zc(n,s.options)&&zc(r,s.config))return s;throw ai.create("duplicate-app",{appName:i})}const o=new LO(i);for(const u of Rp.values())o.addComponent(u);const a=new OV(n,r,o);return Uc.set(i,a),a}function MV(t=Ip){const e=Uc.get(t);if(!e&&t===Ip&&JT())return rS();if(!e)throw ai.create("no-app",{appName:t});return e}function io(t,e,n){var r;let i=(r=RV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xr.warn(a.join(" "));return}$c(new hl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV="firebase-heartbeat-database",LV=1,fl="firebase-heartbeat-store";let of=null;function iS(){return of||(of=XO(jV,LV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fl)}catch(n){console.warn(n)}}}}).catch(t=>{throw ai.create("idb-open",{originalErrorMessage:t.message})})),of}async function FV(t){try{const n=(await iS()).transaction(fl),r=await n.objectStore(fl).get(sS(t));return await n.done,r}catch(e){if(e instanceof Bo)xr.warn(e.message);else{const n=ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xr.warn(n.message)}}}async function G0(t,e){try{const r=(await iS()).transaction(fl,"readwrite");await r.objectStore(fl).put(e,sS(t)),await r.done}catch(n){if(n instanceof Bo)xr.warn(n.message);else{const r=ai.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xr.warn(r.message)}}}function sS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=1024,UV=30;class $V{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Q0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>UV){const o=WV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Q0(),{heartbeatsToSend:r,unsentEntries:i}=BV(this._heartbeatsCache.heartbeats),s=Fc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return xr.warn(n),""}}}function Q0(){return new Date().toISOString().substring(0,10)}function BV(t,e=zV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Y0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Y0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PO()?NO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return G0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return G0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Y0(t){return Fc(JSON.stringify({version:2,heartbeats:t})).length}function WV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t){$c(new hl("platform-logger",e=>new eV(e),"PRIVATE")),$c(new hl("heartbeat",e=>new $V(e),"PRIVATE")),io(Ap,K0,t),io(Ap,K0,"esm2017"),io("fire-js","")}KV("");var qV="firebase",GV="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */io(qV,GV,"app");var X0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var li,oS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,b){function A(){}A.prototype=b.prototype,T.D=b.prototype,T.prototype=new A,T.prototype.constructor=T,T.C=function(R,k,D){for(var P=Array(arguments.length-2),H=2;H<arguments.length;H++)P[H-2]=arguments[H];return b.prototype[k].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,b,A){A||(A=0);var R=Array(16);if(typeof b=="string")for(var k=0;16>k;++k)R[k]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(k=0;16>k;++k)R[k]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=T.g[0],A=T.g[1],k=T.g[2];var D=T.g[3],P=b+(D^A&(k^D))+R[0]+3614090360&4294967295;b=A+(P<<7&4294967295|P>>>25),P=D+(k^b&(A^k))+R[1]+3905402710&4294967295,D=b+(P<<12&4294967295|P>>>20),P=k+(A^D&(b^A))+R[2]+606105819&4294967295,k=D+(P<<17&4294967295|P>>>15),P=A+(b^k&(D^b))+R[3]+3250441966&4294967295,A=k+(P<<22&4294967295|P>>>10),P=b+(D^A&(k^D))+R[4]+4118548399&4294967295,b=A+(P<<7&4294967295|P>>>25),P=D+(k^b&(A^k))+R[5]+1200080426&4294967295,D=b+(P<<12&4294967295|P>>>20),P=k+(A^D&(b^A))+R[6]+2821735955&4294967295,k=D+(P<<17&4294967295|P>>>15),P=A+(b^k&(D^b))+R[7]+4249261313&4294967295,A=k+(P<<22&4294967295|P>>>10),P=b+(D^A&(k^D))+R[8]+1770035416&4294967295,b=A+(P<<7&4294967295|P>>>25),P=D+(k^b&(A^k))+R[9]+2336552879&4294967295,D=b+(P<<12&4294967295|P>>>20),P=k+(A^D&(b^A))+R[10]+4294925233&4294967295,k=D+(P<<17&4294967295|P>>>15),P=A+(b^k&(D^b))+R[11]+2304563134&4294967295,A=k+(P<<22&4294967295|P>>>10),P=b+(D^A&(k^D))+R[12]+1804603682&4294967295,b=A+(P<<7&4294967295|P>>>25),P=D+(k^b&(A^k))+R[13]+4254626195&4294967295,D=b+(P<<12&4294967295|P>>>20),P=k+(A^D&(b^A))+R[14]+2792965006&4294967295,k=D+(P<<17&4294967295|P>>>15),P=A+(b^k&(D^b))+R[15]+1236535329&4294967295,A=k+(P<<22&4294967295|P>>>10),P=b+(k^D&(A^k))+R[1]+4129170786&4294967295,b=A+(P<<5&4294967295|P>>>27),P=D+(A^k&(b^A))+R[6]+3225465664&4294967295,D=b+(P<<9&4294967295|P>>>23),P=k+(b^A&(D^b))+R[11]+643717713&4294967295,k=D+(P<<14&4294967295|P>>>18),P=A+(D^b&(k^D))+R[0]+3921069994&4294967295,A=k+(P<<20&4294967295|P>>>12),P=b+(k^D&(A^k))+R[5]+3593408605&4294967295,b=A+(P<<5&4294967295|P>>>27),P=D+(A^k&(b^A))+R[10]+38016083&4294967295,D=b+(P<<9&4294967295|P>>>23),P=k+(b^A&(D^b))+R[15]+3634488961&4294967295,k=D+(P<<14&4294967295|P>>>18),P=A+(D^b&(k^D))+R[4]+3889429448&4294967295,A=k+(P<<20&4294967295|P>>>12),P=b+(k^D&(A^k))+R[9]+568446438&4294967295,b=A+(P<<5&4294967295|P>>>27),P=D+(A^k&(b^A))+R[14]+3275163606&4294967295,D=b+(P<<9&4294967295|P>>>23),P=k+(b^A&(D^b))+R[3]+4107603335&4294967295,k=D+(P<<14&4294967295|P>>>18),P=A+(D^b&(k^D))+R[8]+1163531501&4294967295,A=k+(P<<20&4294967295|P>>>12),P=b+(k^D&(A^k))+R[13]+2850285829&4294967295,b=A+(P<<5&4294967295|P>>>27),P=D+(A^k&(b^A))+R[2]+4243563512&4294967295,D=b+(P<<9&4294967295|P>>>23),P=k+(b^A&(D^b))+R[7]+1735328473&4294967295,k=D+(P<<14&4294967295|P>>>18),P=A+(D^b&(k^D))+R[12]+2368359562&4294967295,A=k+(P<<20&4294967295|P>>>12),P=b+(A^k^D)+R[5]+4294588738&4294967295,b=A+(P<<4&4294967295|P>>>28),P=D+(b^A^k)+R[8]+2272392833&4294967295,D=b+(P<<11&4294967295|P>>>21),P=k+(D^b^A)+R[11]+1839030562&4294967295,k=D+(P<<16&4294967295|P>>>16),P=A+(k^D^b)+R[14]+4259657740&4294967295,A=k+(P<<23&4294967295|P>>>9),P=b+(A^k^D)+R[1]+2763975236&4294967295,b=A+(P<<4&4294967295|P>>>28),P=D+(b^A^k)+R[4]+1272893353&4294967295,D=b+(P<<11&4294967295|P>>>21),P=k+(D^b^A)+R[7]+4139469664&4294967295,k=D+(P<<16&4294967295|P>>>16),P=A+(k^D^b)+R[10]+3200236656&4294967295,A=k+(P<<23&4294967295|P>>>9),P=b+(A^k^D)+R[13]+681279174&4294967295,b=A+(P<<4&4294967295|P>>>28),P=D+(b^A^k)+R[0]+3936430074&4294967295,D=b+(P<<11&4294967295|P>>>21),P=k+(D^b^A)+R[3]+3572445317&4294967295,k=D+(P<<16&4294967295|P>>>16),P=A+(k^D^b)+R[6]+76029189&4294967295,A=k+(P<<23&4294967295|P>>>9),P=b+(A^k^D)+R[9]+3654602809&4294967295,b=A+(P<<4&4294967295|P>>>28),P=D+(b^A^k)+R[12]+3873151461&4294967295,D=b+(P<<11&4294967295|P>>>21),P=k+(D^b^A)+R[15]+530742520&4294967295,k=D+(P<<16&4294967295|P>>>16),P=A+(k^D^b)+R[2]+3299628645&4294967295,A=k+(P<<23&4294967295|P>>>9),P=b+(k^(A|~D))+R[0]+4096336452&4294967295,b=A+(P<<6&4294967295|P>>>26),P=D+(A^(b|~k))+R[7]+1126891415&4294967295,D=b+(P<<10&4294967295|P>>>22),P=k+(b^(D|~A))+R[14]+2878612391&4294967295,k=D+(P<<15&4294967295|P>>>17),P=A+(D^(k|~b))+R[5]+4237533241&4294967295,A=k+(P<<21&4294967295|P>>>11),P=b+(k^(A|~D))+R[12]+1700485571&4294967295,b=A+(P<<6&4294967295|P>>>26),P=D+(A^(b|~k))+R[3]+2399980690&4294967295,D=b+(P<<10&4294967295|P>>>22),P=k+(b^(D|~A))+R[10]+4293915773&4294967295,k=D+(P<<15&4294967295|P>>>17),P=A+(D^(k|~b))+R[1]+2240044497&4294967295,A=k+(P<<21&4294967295|P>>>11),P=b+(k^(A|~D))+R[8]+1873313359&4294967295,b=A+(P<<6&4294967295|P>>>26),P=D+(A^(b|~k))+R[15]+4264355552&4294967295,D=b+(P<<10&4294967295|P>>>22),P=k+(b^(D|~A))+R[6]+2734768916&4294967295,k=D+(P<<15&4294967295|P>>>17),P=A+(D^(k|~b))+R[13]+1309151649&4294967295,A=k+(P<<21&4294967295|P>>>11),P=b+(k^(A|~D))+R[4]+4149444226&4294967295,b=A+(P<<6&4294967295|P>>>26),P=D+(A^(b|~k))+R[11]+3174756917&4294967295,D=b+(P<<10&4294967295|P>>>22),P=k+(b^(D|~A))+R[2]+718787259&4294967295,k=D+(P<<15&4294967295|P>>>17),P=A+(D^(k|~b))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+b&4294967295,T.g[1]=T.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,T.g[2]=T.g[2]+k&4294967295,T.g[3]=T.g[3]+D&4294967295}r.prototype.u=function(T,b){b===void 0&&(b=T.length);for(var A=b-this.blockSize,R=this.B,k=this.h,D=0;D<b;){if(k==0)for(;D<=A;)i(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<b;)if(R[k++]=T.charCodeAt(D++),k==this.blockSize){i(this,R),k=0;break}}else for(;D<b;)if(R[k++]=T[D++],k==this.blockSize){i(this,R),k=0;break}}this.h=k,this.o+=b},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var b=1;b<T.length-8;++b)T[b]=0;var A=8*this.o;for(b=T.length-8;b<T.length;++b)T[b]=A&255,A/=256;for(this.u(T),T=Array(16),b=A=0;4>b;++b)for(var R=0;32>R;R+=8)T[A++]=this.g[b]>>>R&255;return T};function s(T,b){var A=a;return Object.prototype.hasOwnProperty.call(A,T)?A[T]:A[T]=b(T)}function o(T,b){this.h=b;for(var A=[],R=!0,k=T.length-1;0<=k;k--){var D=T[k]|0;R&&D==b||(A[k]=D,R=!1)}this.g=A}var a={};function u(T){return-128<=T&&128>T?s(T,function(b){return new o([b|0],0>b?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return S(c(-T));for(var b=[],A=1,R=0;T>=A;R++)b[R]=T/A|0,A*=4294967296;return new o(b,0)}function d(T,b){if(T.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T.charAt(0)=="-")return S(d(T.substring(1),b));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(b,8)),R=p,k=0;k<T.length;k+=8){var D=Math.min(8,T.length-k),P=parseInt(T.substring(k,k+D),b);8>D?(D=c(Math.pow(b,D)),R=R.j(D).add(c(P))):(R=R.j(A),R=R.add(c(P)))}return R}var p=u(0),h=u(1),w=u(16777216);t=o.prototype,t.m=function(){if(g(this))return-S(this).m();for(var T=0,b=1,A=0;A<this.g.length;A++){var R=this.i(A);T+=(0<=R?R:4294967296+R)*b,b*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x(this))return"0";if(g(this))return"-"+S(this).toString(T);for(var b=c(Math.pow(T,6)),A=this,R="";;){var k=N(A,b).g;A=E(A,k.j(b));var D=((0<A.g.length?A.g[0]:A.h)>>>0).toString(T);if(A=k,x(A))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function x(T){if(T.h!=0)return!1;for(var b=0;b<T.g.length;b++)if(T.g[b]!=0)return!1;return!0}function g(T){return T.h==-1}t.l=function(T){return T=E(this,T),g(T)?-1:x(T)?0:1};function S(T){for(var b=T.g.length,A=[],R=0;R<b;R++)A[R]=~T.g[R];return new o(A,~T.h).add(h)}t.abs=function(){return g(this)?S(this):this},t.add=function(T){for(var b=Math.max(this.g.length,T.g.length),A=[],R=0,k=0;k<=b;k++){var D=R+(this.i(k)&65535)+(T.i(k)&65535),P=(D>>>16)+(this.i(k)>>>16)+(T.i(k)>>>16);R=P>>>16,D&=65535,P&=65535,A[k]=P<<16|D}return new o(A,A[A.length-1]&-2147483648?-1:0)};function E(T,b){return T.add(S(b))}t.j=function(T){if(x(this)||x(T))return p;if(g(this))return g(T)?S(this).j(S(T)):S(S(this).j(T));if(g(T))return S(this.j(S(T)));if(0>this.l(w)&&0>T.l(w))return c(this.m()*T.m());for(var b=this.g.length+T.g.length,A=[],R=0;R<2*b;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var k=0;k<T.g.length;k++){var D=this.i(R)>>>16,P=this.i(R)&65535,H=T.i(k)>>>16,re=T.i(k)&65535;A[2*R+2*k]+=P*re,_(A,2*R+2*k),A[2*R+2*k+1]+=D*re,_(A,2*R+2*k+1),A[2*R+2*k+1]+=P*H,_(A,2*R+2*k+1),A[2*R+2*k+2]+=D*H,_(A,2*R+2*k+2)}for(R=0;R<b;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=b;R<2*b;R++)A[R]=0;return new o(A,0)};function _(T,b){for(;(T[b]&65535)!=T[b];)T[b+1]+=T[b]>>>16,T[b]&=65535,b++}function C(T,b){this.g=T,this.h=b}function N(T,b){if(x(b))throw Error("division by zero");if(x(T))return new C(p,p);if(g(T))return b=N(S(T),b),new C(S(b.g),S(b.h));if(g(b))return b=N(T,S(b)),new C(S(b.g),b.h);if(30<T.g.length){if(g(T)||g(b))throw Error("slowDivide_ only works with positive integers.");for(var A=h,R=b;0>=R.l(T);)A=O(A),R=O(R);var k=V(A,1),D=V(R,1);for(R=V(R,2),A=V(A,2);!x(R);){var P=D.add(R);0>=P.l(T)&&(k=k.add(A),D=P),R=V(R,1),A=V(A,1)}return b=E(T,k.j(b)),new C(k,b)}for(k=p;0<=T.l(b);){for(A=Math.max(1,Math.floor(T.m()/b.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=c(A),P=D.j(b);g(P)||0<P.l(T);)A-=R,D=c(A),P=D.j(b);x(D)&&(D=h),k=k.add(D),T=E(T,P)}return new C(k,T)}t.A=function(T){return N(this,T).h},t.and=function(T){for(var b=Math.max(this.g.length,T.g.length),A=[],R=0;R<b;R++)A[R]=this.i(R)&T.i(R);return new o(A,this.h&T.h)},t.or=function(T){for(var b=Math.max(this.g.length,T.g.length),A=[],R=0;R<b;R++)A[R]=this.i(R)|T.i(R);return new o(A,this.h|T.h)},t.xor=function(T){for(var b=Math.max(this.g.length,T.g.length),A=[],R=0;R<b;R++)A[R]=this.i(R)^T.i(R);return new o(A,this.h^T.h)};function O(T){for(var b=T.g.length+1,A=[],R=0;R<b;R++)A[R]=T.i(R)<<1|T.i(R-1)>>>31;return new o(A,T.h)}function V(T,b){var A=b>>5;b%=32;for(var R=T.g.length-A,k=[],D=0;D<R;D++)k[D]=0<b?T.i(D+A)>>>b|T.i(D+A+1)<<32-b:T.i(D+A);return new o(k,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,oS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,li=o}).apply(typeof X0<"u"?X0:typeof self<"u"?self:typeof window<"u"?window:{});var Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aS,Ca,lS,ec,Pp,uS,cS,dS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,y){return l==Array.prototype||l==Object.prototype||(l[f]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pu=="object"&&Pu];for(var f=0;f<l.length;++f){var y=l[f];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(l,f){if(f)e:{var y=r;l=l.split(".");for(var I=0;I<l.length-1;I++){var M=l[I];if(!(M in y))break e;y=y[M]}l=l[l.length-1],I=y[l],f=f(I),f!=I&&f!=null&&e(y,l,{configurable:!0,writable:!0,value:f})}}function s(l,f){l instanceof String&&(l+="");var y=0,I=!1,M={next:function(){if(!I&&y<l.length){var L=y++;return{value:f(L,l[L]),done:!1}}return I=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(l){return l||function(){return s(this,function(f,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function c(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function d(l,f,y){return l.call.apply(l.bind,arguments)}function p(l,f,y){if(!l)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,I),l.apply(f,M)}}return function(){return l.apply(f,arguments)}}function h(l,f,y){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,h.apply(null,arguments)}function w(l,f){var y=Array.prototype.slice.call(arguments,1);return function(){var I=y.slice();return I.push.apply(I,arguments),l.apply(this,I)}}function x(l,f){function y(){}y.prototype=f.prototype,l.aa=f.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(I,M,L){for(var W=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)W[Ne-2]=arguments[Ne];return f.prototype[M].apply(I,W)}}function g(l){const f=l.length;if(0<f){const y=Array(f);for(let I=0;I<f;I++)y[I]=l[I];return y}return[]}function S(l,f){for(let y=1;y<arguments.length;y++){const I=arguments[y];if(u(I)){const M=l.length||0,L=I.length||0;l.length=M+L;for(let W=0;W<L;W++)l[M+W]=I[W]}else l.push(I)}}class E{constructor(f,y){this.i=f,this.j=y,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function _(l){return/^[\s\xa0]*$/.test(l)}function C(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function N(l){return N[" "](l),l}N[" "]=function(){};var O=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function V(l,f,y){for(const I in l)f.call(y,l[I],I,l)}function T(l,f){for(const y in l)f.call(void 0,l[y],y,l)}function b(l){const f={};for(const y in l)f[y]=l[y];return f}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,f){let y,I;for(let M=1;M<arguments.length;M++){I=arguments[M];for(y in I)l[y]=I[y];for(let L=0;L<A.length;L++)y=A[L],Object.prototype.hasOwnProperty.call(I,y)&&(l[y]=I[y])}}function k(l){var f=1;l=l.split(":");const y=[];for(;0<f&&l.length;)y.push(l.shift()),f--;return l.length&&y.push(l.join(":")),y}function D(l){a.setTimeout(()=>{throw l},0)}function P(){var l=$;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class H{constructor(){this.h=this.g=null}add(f,y){const I=re.get();I.set(f,y),this.h?this.h.next=I:this.g=I,this.h=I}}var re=new E(()=>new X,l=>l.reset());class X{constructor(){this.next=this.g=this.h=null}set(f,y){this.h=f,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,j=!1,$=new H,Y=()=>{const l=a.Promise.resolve(void 0);ne=()=>{l.then(q)}};var q=()=>{for(var l;l=P();){try{l.h.call(l.g)}catch(y){D(y)}var f=re;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}j=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};a.addEventListener("test",y,f),a.removeEventListener("test",y,f)}catch{}return l}();function Fe(l,f){if(ee.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,I=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(O){e:{try{N(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else y=="mouseover"?f=l.fromElement:y=="mouseout"&&(f=l.toElement);this.relatedTarget=f,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:fe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Fe.aa.h.call(this)}}x(Fe,ee);var fe={2:"touch",3:"pen",4:"mouse"};Fe.prototype.h=function(){Fe.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Z="closure_listenable_"+(1e6*Math.random()|0),xe=0;function ze(l,f,y,I,M){this.listener=l,this.proxy=null,this.src=f,this.type=y,this.capture=!!I,this.ha=M,this.key=++xe,this.da=this.fa=!1}function pe(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ve(l){this.src=l,this.g={},this.h=0}ve.prototype.add=function(l,f,y,I,M){var L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);var W=st(l,f,I,M);return-1<W?(f=l[W],y||(f.fa=!1)):(f=new ze(f,this.src,L,!!I,M),f.fa=y,l.push(f)),f};function ge(l,f){var y=f.type;if(y in l.g){var I=l.g[y],M=Array.prototype.indexOf.call(I,f,void 0),L;(L=0<=M)&&Array.prototype.splice.call(I,M,1),L&&(pe(f),l.g[y].length==0&&(delete l.g[y],l.h--))}}function st(l,f,y,I){for(var M=0;M<l.length;++M){var L=l[M];if(!L.da&&L.listener==f&&L.capture==!!y&&L.ha==I)return M}return-1}var pt="closure_lm_"+(1e6*Math.random()|0),hn={};function Vt(l,f,y,I,M){if(Array.isArray(f)){for(var L=0;L<f.length;L++)Vt(l,f[L],y,I,M);return null}return y=Yo(y),l&&l[Z]?l.K(f,y,c(I)?!!I.capture:!!I,M):rr(l,f,y,!1,I,M)}function rr(l,f,y,I,M,L){if(!f)throw Error("Invalid event type");var W=c(M)?!!M.capture:!!M,Ne=br(l);if(Ne||(l[pt]=Ne=new ve(l)),y=Ne.add(f,y,I,W,L),y.proxy)return y;if(I=Go(),y.proxy=I,I.src=l,I.listener=y,l.addEventListener)Se||(M=W),M===void 0&&(M=!1),l.addEventListener(f.toString(),I,M);else if(l.attachEvent)l.attachEvent(zl(f.toString()),I);else if(l.addListener&&l.removeListener)l.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Go(){function l(y){return f.call(l.src,l.listener,y)}const f=Zd;return l}function Ze(l,f,y,I,M){if(Array.isArray(f))for(var L=0;L<f.length;L++)Ze(l,f[L],y,I,M);else I=c(I)?!!I.capture:!!I,y=Yo(y),l&&l[Z]?(l=l.i,f=String(f).toString(),f in l.g&&(L=l.g[f],y=st(L,y,I,M),-1<y&&(pe(L[y]),Array.prototype.splice.call(L,y,1),L.length==0&&(delete l.g[f],l.h--)))):l&&(l=br(l))&&(f=l.g[f.toString()],l=-1,f&&(l=st(f,y,I,M)),(y=-1<l?f[l]:null)&&Ln(y))}function Ln(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Z])ge(f.i,l);else{var y=l.type,I=l.proxy;f.removeEventListener?f.removeEventListener(y,I,l.capture):f.detachEvent?f.detachEvent(zl(y),I):f.addListener&&f.removeListener&&f.removeListener(I),(y=br(f))?(ge(y,l),y.h==0&&(y.src=null,f[pt]=null)):pe(l)}}}function zl(l){return l in hn?hn[l]:hn[l]="on"+l}function Zd(l,f){if(l.da)l=!0;else{f=new Fe(f,this);var y=l.listener,I=l.ha||l.src;l.fa&&Ln(l),l=y.call(I,f)}return l}function br(l){return l=l[pt],l instanceof ve?l:null}var Qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yo(l){return typeof l=="function"?l:(l[Qo]||(l[Qo]=function(f){return l.handleEvent(f)}),l[Qo])}function et(){J.call(this),this.i=new ve(this),this.M=this,this.F=null}x(et,J),et.prototype[Z]=!0,et.prototype.removeEventListener=function(l,f,y,I){Ze(this,l,f,y,I)};function qe(l,f){var y,I=l.F;if(I)for(y=[];I;I=I.F)y.push(I);if(l=l.M,I=f.type||f,typeof f=="string")f=new ee(f,l);else if(f instanceof ee)f.target=f.target||l;else{var M=f;f=new ee(I,l),R(f,M)}if(M=!0,y)for(var L=y.length-1;0<=L;L--){var W=f.g=y[L];M=Vi(W,I,!0,f)&&M}if(W=f.g=l,M=Vi(W,I,!0,f)&&M,M=Vi(W,I,!1,f)&&M,y)for(L=0;L<y.length;L++)W=f.g=y[L],M=Vi(W,I,!1,f)&&M}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var y=l.g[f],I=0;I<y.length;I++)pe(y[I]);delete l.g[f],l.h--}}this.F=null},et.prototype.K=function(l,f,y,I){return this.i.add(String(l),f,!1,y,I)},et.prototype.L=function(l,f,y,I){return this.i.add(String(l),f,!0,y,I)};function Vi(l,f,y,I){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,L=0;L<f.length;++L){var W=f[L];if(W&&!W.da&&W.capture==y){var Ne=W.listener,mt=W.ha||W.src;W.fa&&ge(l.i,W),M=Ne.call(mt,I)!==!1&&M}}return M&&!I.defaultPrevented}function ir(l,f,y){if(typeof l=="function")y&&(l=h(l,y));else if(l&&typeof l.handleEvent=="function")l=h(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function Xo(l){l.g=ir(()=>{l.g=null,l.i&&(l.i=!1,Xo(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class eh extends J{constructor(f,y){super(),this.m=f,this.l=y,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Xo(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ar(l){J.call(this),this.h=l,this.g={}}x(Ar,J);var Jo=[];function Ul(l){V(l.g,function(f,y){this.g.hasOwnProperty(y)&&Ln(f)},l),l.g={}}Ar.prototype.N=function(){Ar.aa.N.call(this),Ul(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mi=a.JSON.stringify,Fn=a.JSON.parse,th=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function oe(){}oe.prototype.h=null;function Pe(l){return l.h||(l.h=l.i())}function Ie(){}var Et={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bt(){ee.call(this,"d")}x(Bt,ee);function Ir(){ee.call(this,"c")}x(Ir,ee);var sr={},Yg=null;function $l(){return Yg=Yg||new et}sr.La="serverreachability";function Xg(l){ee.call(this,sr.La,l)}x(Xg,ee);function Zo(l){const f=$l();qe(f,new Xg(f))}sr.STAT_EVENT="statevent";function Jg(l,f){ee.call(this,sr.STAT_EVENT,l),this.stat=f}x(Jg,ee);function Mt(l){const f=$l();qe(f,new Jg(f,l))}sr.Ma="timingevent";function Zg(l,f){ee.call(this,sr.Ma,l),this.size=f}x(Zg,ee);function ea(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function ta(){this.g=!0}ta.prototype.xa=function(){this.g=!1};function kb(l,f,y,I,M,L){l.info(function(){if(l.g)if(L)for(var W="",Ne=L.split("&"),mt=0;mt<Ne.length;mt++){var Ce=Ne[mt].split("=");if(1<Ce.length){var Tt=Ce[0];Ce=Ce[1];var St=Tt.split("_");W=2<=St.length&&St[1]=="type"?W+(Tt+"="+Ce+"&"):W+(Tt+"=redacted&")}}else W=null;else W=L;return"XMLHTTP REQ ("+I+") [attempt "+M+"]: "+f+`
`+y+`
`+W})}function Db(l,f,y,I,M,L,W){l.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+M+"]: "+f+`
`+y+`
`+L+" "+W})}function xs(l,f,y,I){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Vb(l,y)+(I?" "+I:"")})}function Ob(l,f){l.info(function(){return"TIMEOUT: "+f})}ta.prototype.info=function(){};function Vb(l,f){if(!l.g)return f;if(!f)return null;try{var y=JSON.parse(f);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var I=y[l];if(!(2>I.length)){var M=I[1];if(Array.isArray(M)&&!(1>M.length)){var L=M[0];if(L!="noop"&&L!="stop"&&L!="close")for(var W=1;W<M.length;W++)M[W]=""}}}}return Mi(y)}catch{return f}}var Bl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ey={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nh;function Hl(){}x(Hl,oe),Hl.prototype.g=function(){return new XMLHttpRequest},Hl.prototype.i=function(){return{}},nh=new Hl;function Rr(l,f,y,I){this.j=l,this.i=f,this.l=y,this.R=I||1,this.U=new Ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ty}function ty(){this.i=null,this.g="",this.h=!1}var ny={},rh={};function ih(l,f,y){l.L=1,l.v=Gl(or(f)),l.m=y,l.P=!0,ry(l,null)}function ry(l,f){l.F=Date.now(),Wl(l),l.A=or(l.v);var y=l.A,I=l.R;Array.isArray(I)||(I=[String(I)]),yy(y.i,"t",I),l.C=0,y=l.j.J,l.h=new ty,l.g=Vy(l.j,y?f:null,!l.m),0<l.O&&(l.M=new eh(h(l.Y,l,l.g),l.O)),f=l.U,y=l.g,I=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(Jo[0]=M.toString()),M=Jo);for(var L=0;L<M.length;L++){var W=Vt(y,M[L],I||f.handleEvent,!1,f.h||f);if(!W)break;f.g[W.key]=W}f=l.H?b(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Zo(),kb(l.i,l.u,l.A,l.l,l.R,l.m)}Rr.prototype.ca=function(l){l=l.target;const f=this.M;f&&ar(l)==3?f.j():this.Y(l)},Rr.prototype.Y=function(l){try{if(l==this.g)e:{const St=ar(this.g);var f=this.g.Ba();const Ss=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Sy(this.g)))){this.J||St!=4||f==7||(f==8||0>=Ss?Zo(3):Zo(2)),sh(this);var y=this.g.Z();this.X=y;t:if(iy(this)){var I=Sy(this.g);l="";var M=I.length,L=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ji(this),na(this);var W="";break t}this.h.i=new a.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,l+=this.h.i.decode(I[f],{stream:!(L&&f==M-1)});I.length=0,this.h.g+=l,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=y==200,Db(this.i,this.u,this.A,this.l,this.R,St,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,mt=this.g;if((Ne=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ne)){var Ce=Ne;break t}}Ce=null}if(y=Ce)xs(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oh(this,y);else{this.o=!1,this.s=3,Mt(12),ji(this),na(this);break e}}if(this.P){y=!0;let En;for(;!this.J&&this.C<W.length;)if(En=Mb(this,W),En==rh){St==4&&(this.s=4,Mt(14),y=!1),xs(this.i,this.l,null,"[Incomplete Response]");break}else if(En==ny){this.s=4,Mt(15),xs(this.i,this.l,W,"[Invalid Chunk]"),y=!1;break}else xs(this.i,this.l,En,null),oh(this,En);if(iy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||W.length!=0||this.h.h||(this.s=1,Mt(16),y=!1),this.o=this.o&&y,!y)xs(this.i,this.l,W,"[Invalid Chunked Response]"),ji(this),na(this);else if(0<W.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),hh(Tt),Tt.M=!0,Mt(11))}}else xs(this.i,this.l,W,null),oh(this,W);St==4&&ji(this),this.o&&!this.J&&(St==4?Ny(this.j,this):(this.o=!1,Wl(this)))}else Zb(this.g),y==400&&0<W.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),ji(this),na(this)}}}catch{}finally{}};function iy(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Mb(l,f){var y=l.C,I=f.indexOf(`
`,y);return I==-1?rh:(y=Number(f.substring(y,I)),isNaN(y)?ny:(I+=1,I+y>f.length?rh:(f=f.slice(I,I+y),l.C=I+y,f)))}Rr.prototype.cancel=function(){this.J=!0,ji(this)};function Wl(l){l.S=Date.now()+l.I,sy(l,l.I)}function sy(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=ea(h(l.ba,l),f)}function sh(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Rr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Ob(this.i,this.A),this.L!=2&&(Zo(),Mt(17)),ji(this),this.s=2,na(this)):sy(this,this.S-l)};function na(l){l.j.G==0||l.J||Ny(l.j,l)}function ji(l){sh(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,Ul(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function oh(l,f){try{var y=l.j;if(y.G!=0&&(y.g==l||ah(y.h,l))){if(!l.K&&ah(y.h,l)&&y.G==3){try{var I=y.Da.g.parse(f)}catch{I=null}if(Array.isArray(I)&&I.length==3){var M=I;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)eu(y),Jl(y);else break e;dh(y),Mt(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=ea(h(y.Za,y),6e3));if(1>=ly(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Fi(y,11)}else if((l.K||y.g==l)&&eu(y),!_(f))for(M=y.Da.g.parse(f),f=0;f<M.length;f++){let Ce=M[f];if(y.T=Ce[0],Ce=Ce[1],y.G==2)if(Ce[0]=="c"){y.K=Ce[1],y.ia=Ce[2];const Tt=Ce[3];Tt!=null&&(y.la=Tt,y.j.info("VER="+y.la));const St=Ce[4];St!=null&&(y.Aa=St,y.j.info("SVER="+y.Aa));const Ss=Ce[5];Ss!=null&&typeof Ss=="number"&&0<Ss&&(I=1.5*Ss,y.L=I,y.j.info("backChannelRequestTimeoutMs_="+I)),I=y;const En=l.g;if(En){const nu=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nu){var L=I.h;L.g||nu.indexOf("spdy")==-1&&nu.indexOf("quic")==-1&&nu.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(lh(L,L.h),L.h=null))}if(I.D){const fh=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;fh&&(I.ya=fh,Ve(I.I,I.D,fh))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),I=y;var W=l;if(I.qa=Oy(I,I.J?I.ia:null,I.W),W.K){uy(I.h,W);var Ne=W,mt=I.L;mt&&(Ne.I=mt),Ne.B&&(sh(Ne),Wl(Ne)),I.g=W}else Ry(I);0<y.i.length&&Zl(y)}else Ce[0]!="stop"&&Ce[0]!="close"||Fi(y,7);else y.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?Fi(y,7):ch(y):Ce[0]!="noop"&&y.l&&y.l.ta(Ce),y.v=0)}}Zo(4)}catch{}}var jb=class{constructor(l,f){this.g=l,this.map=f}};function oy(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ay(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ly(l){return l.h?1:l.g?l.g.size:0}function ah(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function lh(l,f){l.g?l.g.add(f):l.h=f}function uy(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}oy.prototype.cancel=function(){if(this.i=cy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function cy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const y of l.g.values())f=f.concat(y.D);return f}return g(l.i)}function Lb(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var f=[],y=l.length,I=0;I<y;I++)f.push(l[I]);return f}f=[],y=0;for(I in l)f[y++]=l[I];return f}function Fb(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var f=[];l=l.length;for(var y=0;y<l;y++)f.push(y);return f}f=[],y=0;for(const I in l)f[y++]=I;return f}}}function dy(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var y=Fb(l),I=Lb(l),M=I.length,L=0;L<M;L++)f.call(void 0,I[L],y&&y[L],l)}var hy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zb(l,f){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var I=l[y].indexOf("="),M=null;if(0<=I){var L=l[y].substring(0,I);M=l[y].substring(I+1)}else L=l[y];f(L,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Li(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Li){this.h=l.h,Kl(this,l.j),this.o=l.o,this.g=l.g,ql(this,l.s),this.l=l.l;var f=l.i,y=new sa;y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),fy(this,y),this.m=l.m}else l&&(f=String(l).match(hy))?(this.h=!1,Kl(this,f[1]||"",!0),this.o=ra(f[2]||""),this.g=ra(f[3]||"",!0),ql(this,f[4]),this.l=ra(f[5]||"",!0),fy(this,f[6]||"",!0),this.m=ra(f[7]||"")):(this.h=!1,this.i=new sa(null,this.h))}Li.prototype.toString=function(){var l=[],f=this.j;f&&l.push(ia(f,py,!0),":");var y=this.g;return(y||f=="file")&&(l.push("//"),(f=this.o)&&l.push(ia(f,py,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(ia(y,y.charAt(0)=="/"?Bb:$b,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",ia(y,Wb)),l.join("")};function or(l){return new Li(l)}function Kl(l,f,y){l.j=y?ra(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function ql(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function fy(l,f,y){f instanceof sa?(l.i=f,Kb(l.i,l.h)):(y||(f=ia(f,Hb)),l.i=new sa(f,l.h))}function Ve(l,f,y){l.i.set(f,y)}function Gl(l){return Ve(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ra(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ia(l,f,y){return typeof l=="string"?(l=encodeURI(l).replace(f,Ub),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ub(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var py=/[#\/\?@]/g,$b=/[#\?:]/g,Bb=/[#\?]/g,Hb=/[#\?@]/g,Wb=/#/g;function sa(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Pr(l){l.g||(l.g=new Map,l.h=0,l.i&&zb(l.i,function(f,y){l.add(decodeURIComponent(f.replace(/\+/g," ")),y)}))}t=sa.prototype,t.add=function(l,f){Pr(this),this.i=null,l=Es(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(f),this.h+=1,this};function my(l,f){Pr(l),f=Es(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function gy(l,f){return Pr(l),f=Es(l,f),l.g.has(f)}t.forEach=function(l,f){Pr(this),this.g.forEach(function(y,I){y.forEach(function(M){l.call(f,M,I,this)},this)},this)},t.na=function(){Pr(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),y=[];for(let I=0;I<f.length;I++){const M=l[I];for(let L=0;L<M.length;L++)y.push(f[I])}return y},t.V=function(l){Pr(this);let f=[];if(typeof l=="string")gy(this,l)&&(f=f.concat(this.g.get(Es(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)f=f.concat(l[y])}return f},t.set=function(l,f){return Pr(this),this.i=null,l=Es(this,l),gy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function yy(l,f,y){my(l,f),0<y.length&&(l.i=null,l.g.set(Es(l,f),g(y)),l.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var y=0;y<f.length;y++){var I=f[y];const L=encodeURIComponent(String(I)),W=this.V(I);for(I=0;I<W.length;I++){var M=L;W[I]!==""&&(M+="="+encodeURIComponent(String(W[I]))),l.push(M)}}return this.i=l.join("&")};function Es(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Kb(l,f){f&&!l.j&&(Pr(l),l.i=null,l.g.forEach(function(y,I){var M=I.toLowerCase();I!=M&&(my(this,I),yy(this,M,y))},l)),l.j=f}function qb(l,f){const y=new ta;if(a.Image){const I=new Image;I.onload=w(Nr,y,"TestLoadImage: loaded",!0,f,I),I.onerror=w(Nr,y,"TestLoadImage: error",!1,f,I),I.onabort=w(Nr,y,"TestLoadImage: abort",!1,f,I),I.ontimeout=w(Nr,y,"TestLoadImage: timeout",!1,f,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=l}else f(!1)}function Gb(l,f){const y=new ta,I=new AbortController,M=setTimeout(()=>{I.abort(),Nr(y,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:I.signal}).then(L=>{clearTimeout(M),L.ok?Nr(y,"TestPingServer: ok",!0,f):Nr(y,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),Nr(y,"TestPingServer: error",!1,f)})}function Nr(l,f,y,I,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),I(y)}catch{}}function Qb(){this.g=new th}function Yb(l,f,y){const I=y||"";try{dy(l,function(M,L){let W=M;c(M)&&(W=Mi(M)),f.push(I+L+"="+encodeURIComponent(W))})}catch(M){throw f.push(I+"type="+encodeURIComponent("_badmap")),M}}function Ql(l){this.l=l.Ub||null,this.j=l.eb||!1}x(Ql,oe),Ql.prototype.g=function(){return new Yl(this.l,this.j)},Ql.prototype.i=function(l){return function(){return l}}({});function Yl(l,f){et.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Yl,et),t=Yl.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,aa(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oa(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,aa(this)),this.g&&(this.readyState=3,aa(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vy(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function vy(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?oa(this):aa(this),this.readyState==3&&vy(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,oa(this))},t.Qa=function(l){this.g&&(this.response=l,oa(this))},t.ga=function(){this.g&&oa(this)};function oa(l){l.readyState=4,l.l=null,l.j=null,l.v=null,aa(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var y=f.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=f.next();return l.join(`\r
`)};function aa(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Yl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function wy(l){let f="";return V(l,function(y,I){f+=I,f+=":",f+=y,f+=`\r
`}),f}function uh(l,f,y){e:{for(I in y){var I=!1;break e}I=!0}I||(y=wy(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):Ve(l,f,y))}function Ge(l){et.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ge,et);var Xb=/^https?$/i,Jb=["POST","PUT"];t=Ge.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,y,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nh.g(),this.v=this.o?Pe(this.o):Pe(nh),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(L){_y(this,L);return}if(l=y||"",y=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var M in I)y.set(M,I[M]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const L of I.keys())y.set(L,I.get(L));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(y.keys()).find(L=>L.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Jb,f,void 0))||I||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,W]of y)this.g.setRequestHeader(L,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ty(this),this.u=!0,this.g.send(l),this.u=!1}catch(L){_y(this,L)}};function _y(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,xy(l),Xl(l)}function xy(l){l.A||(l.A=!0,qe(l,"complete"),qe(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,qe(this,"complete"),qe(this,"abort"),Xl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xl(this,!0)),Ge.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ey(this):this.bb())},t.bb=function(){Ey(this)};function Ey(l){if(l.h&&typeof o<"u"&&(!l.v[1]||ar(l)!=4||l.Z()!=2)){if(l.u&&ar(l)==4)ir(l.Ea,0,l);else if(qe(l,"readystatechange"),ar(l)==4){l.h=!1;try{const W=l.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var y;if(!(y=f)){var I;if(I=W===0){var M=String(l.D).match(hy)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),I=!Xb.test(M?M.toLowerCase():"")}y=I}if(y)qe(l,"complete"),qe(l,"success");else{l.m=6;try{var L=2<ar(l)?l.g.statusText:""}catch{L=""}l.l=L+" ["+l.Z()+"]",xy(l)}}finally{Xl(l)}}}}function Xl(l,f){if(l.g){Ty(l);const y=l.g,I=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||qe(l,"ready");try{y.onreadystatechange=I}catch{}}}function Ty(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function ar(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Fn(f)}};function Sy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Zb(l){const f={};l=(l.g&&2<=ar(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<l.length;I++){if(_(l[I]))continue;var y=k(l[I]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const L=f[M]||[];f[M]=L,L.push(y)}T(f,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function la(l,f,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||f}function Cy(l){this.Aa=0,this.i=[],this.j=new ta,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=la("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=la("baseRetryDelayMs",5e3,l),this.cb=la("retryDelaySeedMs",1e4,l),this.Wa=la("forwardChannelMaxRetries",2,l),this.wa=la("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new oy(l&&l.concurrentRequestLimit),this.Da=new Qb,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Cy.prototype,t.la=8,t.G=1,t.connect=function(l,f,y,I){Mt(0),this.W=l,this.H=f||{},y&&I!==void 0&&(this.H.OSID=y,this.H.OAID=I),this.F=this.X,this.I=Oy(this,null,this.W),Zl(this)};function ch(l){if(by(l),l.G==3){var f=l.U++,y=or(l.I);if(Ve(y,"SID",l.K),Ve(y,"RID",f),Ve(y,"TYPE","terminate"),ua(l,y),f=new Rr(l,l.j,f),f.L=2,f.v=Gl(or(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=f.v,y=!0),y||(f.g=Vy(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Wl(f)}Dy(l)}function Jl(l){l.g&&(hh(l),l.g.cancel(),l.g=null)}function by(l){Jl(l),l.u&&(a.clearTimeout(l.u),l.u=null),eu(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Zl(l){if(!ay(l.h)&&!l.s){l.s=!0;var f=l.Ga;ne||Y(),j||(ne(),j=!0),$.add(f,l),l.B=0}}function eA(l,f){return ly(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=ea(h(l.Ga,l,f),ky(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Rr(this,this.j,l);let L=this.o;if(this.S&&(L?(L=b(L),R(L,this.S)):L=this.S),this.m!==null||this.O||(M.H=L,L=null),this.P)e:{for(var f=0,y=0;y<this.i.length;y++){t:{var I=this.i[y];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(f+=I,4096<f){f=y;break e}if(f===4096||y===this.i.length-1){f=y+1;break e}}f=1e3}else f=1e3;f=Iy(this,M,f),y=or(this.I),Ve(y,"RID",l),Ve(y,"CVER",22),this.D&&Ve(y,"X-HTTP-Session-Id",this.D),ua(this,y),L&&(this.O?f="headers="+encodeURIComponent(String(wy(L)))+"&"+f:this.m&&uh(y,this.m,L)),lh(this.h,M),this.Ua&&Ve(y,"TYPE","init"),this.P?(Ve(y,"$req",f),Ve(y,"SID","null"),M.T=!0,ih(M,y,null)):ih(M,y,f),this.G=2}}else this.G==3&&(l?Ay(this,l):this.i.length==0||ay(this.h)||Ay(this))};function Ay(l,f){var y;f?y=f.l:y=l.U++;const I=or(l.I);Ve(I,"SID",l.K),Ve(I,"RID",y),Ve(I,"AID",l.T),ua(l,I),l.m&&l.o&&uh(I,l.m,l.o),y=new Rr(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Iy(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),lh(l.h,y),ih(y,I,f)}function ua(l,f){l.H&&V(l.H,function(y,I){Ve(f,I,y)}),l.l&&dy({},function(y,I){Ve(f,I,y)})}function Iy(l,f,y){y=Math.min(l.i.length,y);var I=l.l?h(l.l.Na,l.l,l):null;e:{var M=l.i;let L=-1;for(;;){const W=["count="+y];L==-1?0<y?(L=M[0].g,W.push("ofs="+L)):L=0:W.push("ofs="+L);let Ne=!0;for(let mt=0;mt<y;mt++){let Ce=M[mt].g;const Tt=M[mt].map;if(Ce-=L,0>Ce)L=Math.max(0,M[mt].g-100),Ne=!1;else try{Yb(Tt,W,"req"+Ce+"_")}catch{I&&I(Tt)}}if(Ne){I=W.join("&");break e}}}return l=l.i.splice(0,y),f.D=l,I}function Ry(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;ne||Y(),j||(ne(),j=!0),$.add(f,l),l.v=0}}function dh(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=ea(h(l.Fa,l),ky(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Py(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=ea(h(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Jl(this),Py(this))};function hh(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Py(l){l.g=new Rr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=or(l.qa);Ve(f,"RID","rpc"),Ve(f,"SID",l.K),Ve(f,"AID",l.T),Ve(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ve(f,"TO",l.ja),Ve(f,"TYPE","xmlhttp"),ua(l,f),l.m&&l.o&&uh(f,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Gl(or(f)),y.m=null,y.P=!0,ry(y,l)}t.Za=function(){this.C!=null&&(this.C=null,Jl(this),dh(this),Mt(19))};function eu(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Ny(l,f){var y=null;if(l.g==f){eu(l),hh(l),l.g=null;var I=2}else if(ah(l.h,f))y=f.D,uy(l.h,f),I=1;else return;if(l.G!=0){if(f.o)if(I==1){y=f.m?f.m.length:0,f=Date.now()-f.F;var M=l.B;I=$l(),qe(I,new Zg(I,y)),Zl(l)}else Ry(l);else if(M=f.s,M==3||M==0&&0<f.X||!(I==1&&eA(l,f)||I==2&&dh(l)))switch(y&&0<y.length&&(f=l.h,f.i=f.i.concat(y)),M){case 1:Fi(l,5);break;case 4:Fi(l,10);break;case 3:Fi(l,6);break;default:Fi(l,2)}}}function ky(l,f){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*f}function Fi(l,f){if(l.j.info("Error code "+f),f==2){var y=h(l.fb,l),I=l.Xa;const M=!I;I=new Li(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Kl(I,"https"),Gl(I),M?qb(I.toString(),y):Gb(I.toString(),y)}else Mt(2);l.G=0,l.l&&l.l.sa(f),Dy(l),by(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Dy(l){if(l.G=0,l.ka=[],l.l){const f=cy(l.h);(f.length!=0||l.i.length!=0)&&(S(l.ka,f),S(l.ka,l.i),l.h.i.length=0,g(l.i),l.i.length=0),l.l.ra()}}function Oy(l,f,y){var I=y instanceof Li?or(y):new Li(y);if(I.g!="")f&&(I.g=f+"."+I.g),ql(I,I.s);else{var M=a.location;I=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var L=new Li(null);I&&Kl(L,I),f&&(L.g=f),M&&ql(L,M),y&&(L.l=y),I=L}return y=l.D,f=l.ya,y&&f&&Ve(I,y,f),Ve(I,"VER",l.la),ua(l,I),I}function Vy(l,f,y){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Ge(new Ql({eb:y})):new Ge(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function My(){}t=My.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function tu(){}tu.prototype.g=function(l,f){return new Xt(l,f)};function Xt(l,f){et.call(this),this.g=new Cy(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!_(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!_(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Ts(this)}x(Xt,et),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){ch(this.g)},Xt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=Mi(l),l=y);f.i.push(new jb(f.Ya++,l)),f.G==3&&Zl(f)},Xt.prototype.N=function(){this.g.l=null,delete this.j,ch(this.g),delete this.g,Xt.aa.N.call(this)};function jy(l){Bt.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const y in f){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}x(jy,Bt);function Ly(){Ir.call(this),this.status=1}x(Ly,Ir);function Ts(l){this.g=l}x(Ts,My),Ts.prototype.ua=function(){qe(this.g,"a")},Ts.prototype.ta=function(l){qe(this.g,new jy(l))},Ts.prototype.sa=function(l){qe(this.g,new Ly)},Ts.prototype.ra=function(){qe(this.g,"b")},tu.prototype.createWebChannel=tu.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,dS=function(){return new tu},cS=function(){return $l()},uS=sr,Pp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bl.NO_ERROR=0,Bl.TIMEOUT=8,Bl.HTTP_ERROR=6,ec=Bl,ey.COMPLETE="complete",lS=ey,Ie.EventType=Et,Et.OPEN="a",Et.CLOSE="b",Et.ERROR="c",Et.MESSAGE="d",et.prototype.listen=et.prototype.K,Ca=Ie,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,aS=Ge}).apply(typeof Pu<"u"?Pu:typeof self<"u"?self:typeof window<"u"?window:{});const J0="@firebase/firestore",Z0="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new eS("@firebase/firestore");function Rs(){return cs.logLevel}function G(t,...e){if(cs.logLevel<=_e.DEBUG){const n=e.map(pg);cs.debug(`Firestore (${Ho}): ${t}`,...n)}}function Er(t,...e){if(cs.logLevel<=_e.ERROR){const n=e.map(pg);cs.error(`Firestore (${Ho}): ${t}`,...n)}}function bo(t,...e){if(cs.logLevel<=_e.WARN){const n=e.map(pg);cs.warn(`Firestore (${Ho}): ${t}`,...n)}}function pg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,hS(t,r,n)}function hS(t,e,n){let r=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Er(r),new Error(r)}function Ae(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||hS(e,i,r)}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Bo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class YV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class XV{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ui,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ui)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new fS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new Pt(e)}}class JV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new JV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ew{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kV(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ae(this.o===void 0,3512);const r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ew(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ew(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=tM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function Np(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return he(r,i);{const s=pS(),o=nM(s.encode(tw(t,n)),s.encode(tw(e,n)));return o!==0?o:he(r,i)}}n+=r>65535?2:1}return he(t.length,e.length)}function tw(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function nM(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return he(t[n],e[n]);return he(t.length,e.length)}function Ao(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=-62135596800,rw=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*rw);return new ut(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nw)throw new te(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rw}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-nw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(e){return new ae(e)}static min(){return new ae(new ut(0,0))}static max(){return new ae(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="__name__";class Bn{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Bn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return he(e.length,n.length)}static compareSegments(e,n){const r=Bn.isNumericId(e),i=Bn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Bn.extractNumericId(e).compare(Bn.extractNumericId(n)):Np(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return li.fromString(e.substring(4,e.length-2))}}class $e extends Bn{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const rM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends Bn{construct(e,n,r){return new vt(e,n,r)}static isValidIdentifier(e){return rM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iw}static keyField(){return new vt([iw])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new te(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new te(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new te(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie($e.fromString(e))}static fromName(e){return new ie($e.fromString(e).popFirst(5))}static empty(){return new ie($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new $e(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=-1;function iM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new _i(i,ie.empty(),e)}function sM(t){return new _i(t.readTime,t.key,pl)}class _i{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _i(ae.min(),ie.empty(),pl)}static max(){return new _i(ae.max(),ie.empty(),pl)}}function oM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==aM)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new F((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function uM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ko(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Od.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg=-1;function Vd(t){return t==null}function Bc(t){return t===0&&1/t==-1/0}function cM(t){return typeof t=="number"&&Number.isInteger(t)&&!Bc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="";function dM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sw(e)),e=hM(t.get(n),e);return sw(e)}function hM(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case gS:n+="";break;default:n+=s}}return n}function sw(t){return t+gS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ki(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||yt.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yt.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nu(this.root,e,this.comparator,!0)}}class Nu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??yt.RED,this.left=i??yt.EMPTY,this.right=s??yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new yt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}}yt.EMPTY=null,yt.RED=!0,yt.BLACK=!1;yt.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aw(this.data.getIterator())}getIteratorFrom(e){return new aw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class aw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new sn([])}unionWith(e){let n=new ct(vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new vS("Invalid base64 string: "+s):s}}(e);return new xt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const fM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(t){if(Ae(!!t,39018),typeof t=="string"){let e=0;const n=fM.exec(t);if(Ae(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(t.seconds),nanos:Xe(t.nanos)}}function Xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ei(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="server_timestamp",_S="__type__",xS="__previous_value__",ES="__local_write_time__";function gg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[_S])===null||n===void 0?void 0:n.stringValue)===wS}function Md(t){const e=t.mapValue.fields[xS];return gg(e)?Md(e):e}function ml(t){const e=xi(t.mapValue.fields[ES].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,n,r,i,s,o,a,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d}}const Hc="(default)";class gl{constructor(e,n){this.projectId=e,this.database=n||Hc}static empty(){return new gl("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(e){return e instanceof gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="__type__",SS="__max__",ku={mapValue:{fields:{__type__:{stringValue:SS}}}},CS="__vector__",Wc="value";function Ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gg(t)?4:gM(t)?9007199254740991:mM(t)?10:11:se(28295,{value:t})}function er(t,e){if(t===e)return!0;const n=Ti(t);if(n!==Ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ml(t).isEqual(ml(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=xi(i.timestampValue),a=xi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ei(i.bytesValue).isEqual(Ei(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Xe(i.geoPointValue.latitude)===Xe(s.geoPointValue.latitude)&&Xe(i.geoPointValue.longitude)===Xe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Xe(i.integerValue)===Xe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Xe(i.doubleValue),a=Xe(s.doubleValue);return o===a?Bc(o)===Bc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ao(t.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(ow(o)!==ow(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!er(o[u],a[u])))return!1;return!0}(t,e);default:return se(52216,{left:t})}}function yl(t,e){return(t.values||[]).find(n=>er(n,e))!==void 0}function Io(t,e){if(t===e)return 0;const n=Ti(t),r=Ti(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Xe(s.integerValue||s.doubleValue),u=Xe(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return lw(t.timestampValue,e.timestampValue);case 4:return lw(ml(t),ml(e));case 5:return Np(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ei(s),u=Ei(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=he(a[c],u[c]);if(d!==0)return d}return he(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=he(Xe(s.latitude),Xe(o.latitude));return a!==0?a:he(Xe(s.longitude),Xe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return uw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,c,d;const p=s.fields||{},h=o.fields||{},w=(a=p[Wc])===null||a===void 0?void 0:a.arrayValue,x=(u=h[Wc])===null||u===void 0?void 0:u.arrayValue,g=he(((c=w==null?void 0:w.values)===null||c===void 0?void 0:c.length)||0,((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0);return g!==0?g:uw(w,x)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ku.mapValue&&o===ku.mapValue)return 0;if(s===ku.mapValue)return 1;if(o===ku.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const h=Np(u[p],d[p]);if(h!==0)return h;const w=Io(a[u[p]],c[d[p]]);if(w!==0)return w}return he(u.length,d.length)}(t.mapValue,e.mapValue);default:throw se(23264,{Pe:n})}}function lw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=xi(t),r=xi(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function uw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Io(n[i],r[i]);if(s)return s}return he(n.length,r.length)}function Ro(t){return kp(t)}function kp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=xi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ei(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=kp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${kp(n.fields[o])}`;return i+"}"}(t.mapValue):se(61005,{value:t})}function tc(t){switch(Ti(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Md(t);return e?16+tc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ei(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+tc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ki(r.fields,(s,o)=>{i+=s.length+tc(o)}),i}(t.mapValue);default:throw se(13486,{value:t})}}function Dp(t){return!!t&&"integerValue"in t}function yg(t){return!!t&&"arrayValue"in t}function cw(t){return!!t&&"nullValue"in t}function dw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nc(t){return!!t&&"mapValue"in t}function mM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[TS])===null||n===void 0?void 0:n.stringValue)===CS}function Fa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ki(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function gM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===SS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.value=e}static empty(){return new Kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fa(n)}setAll(e){let n=vt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Fa(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());nc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];nc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ki(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Kt(Fa(this.value))}}function bS(t){const e=[];return ki(t.fields,(n,r)=>{const i=new vt([n]);if(nc(r)){const s=bS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new kt(e,0,ae.min(),ae.min(),ae.min(),Kt.empty(),0)}static newFoundDocument(e,n,r,i){return new kt(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new kt(e,2,n,ae.min(),ae.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new kt(e,3,n,ae.min(),ae.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n){this.position=e,this.inclusive=n}}function hw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=Io(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function fw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n="asc"){this.field=e,this.dir=n}}function yM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{}class at extends AS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wM(e,n,r):n==="array-contains"?new EM(e,r):n==="in"?new TM(e,r):n==="not-in"?new SM(e,r):n==="array-contains-any"?new CM(e,r):new at(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new _M(e,r):new xM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Io(n,this.value)):n!==null&&Ti(this.value)===Ti(n)&&this.matchesComparison(Io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends AS{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new tr(e,n)}matches(e){return IS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function IS(t){return t.op==="and"}function RS(t){return vM(t)&&IS(t)}function vM(t){for(const e of t.filters)if(e instanceof tr)return!1;return!0}function Op(t){if(t instanceof at)return t.field.canonicalString()+t.op.toString()+Ro(t.value);if(RS(t))return t.filters.map(e=>Op(e)).join(",");{const e=t.filters.map(n=>Op(n)).join(",");return`${t.op}(${e})`}}function PS(t,e){return t instanceof at?function(r,i){return i instanceof at&&r.op===i.op&&r.field.isEqual(i.field)&&er(r.value,i.value)}(t,e):t instanceof tr?function(r,i){return i instanceof tr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&PS(o,i.filters[a]),!0):!1}(t,e):void se(19439)}function NS(t){return t instanceof at?function(n){return`${n.field.canonicalString()} ${n.op} ${Ro(n.value)}`}(t):t instanceof tr?function(n){return n.op.toString()+" {"+n.getFilters().map(NS).join(" ,")+"}"}(t):"Filter"}class wM extends at{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class _M extends at{constructor(e,n){super(e,"in",n),this.keys=kS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xM extends at{constructor(e,n){super(e,"not-in",n),this.keys=kS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class EM extends at{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yg(n)&&yl(n.arrayValue,this.value)}}class TM extends at{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yl(this.value.arrayValue,n)}}class SM extends at{constructor(e,n){super(e,"not-in",n)}matches(e){if(yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yl(this.value.arrayValue,n)}}class CM extends at{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function pw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new bM(t,e,n,r,i,s,o)}function vg(t){const e=le(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Op(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Vd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ro(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ro(r)).join(",")),e.Ie=n}return e.Ie}function wg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fw(t.startAt,e.startAt)&&fw(t.endAt,e.endAt)}function Vp(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function AM(t,e,n,r,i,s,o,a){return new jd(t,e,n,r,i,s,o,a)}function DS(t){return new jd(t)}function mw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function IM(t){return t.collectionGroup!==null}function za(t){const e=le(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ct(vt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new qc(s,r))}),n.has(vt.keyField().canonicalString())||e.Ee.push(new qc(vt.keyField(),r))}return e.Ee}function Xn(t){const e=le(t);return e.de||(e.de=RM(e,za(t))),e.de}function RM(t,e){if(t.limitType==="F")return pw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new qc(i.field,s)});const n=t.endAt?new Kc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Kc(t.startAt.position,t.startAt.inclusive):null;return pw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Mp(t,e,n){return new jd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ld(t,e){return wg(Xn(t),Xn(e))&&t.limitType===e.limitType}function OS(t){return`${vg(Xn(t))}|lt:${t.limitType}`}function Ps(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>NS(i)).join(", ")}]`),Vd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ro(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ro(i)).join(",")),`Target(${r})`}(Xn(t))}; limitType=${t.limitType})`}function Fd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of za(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=hw(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,za(r),i)||r.endAt&&!function(o,a,u){const c=hw(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,za(r),i))}(t,e)}function PM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VS(t){return(e,n)=>{let r=!1;for(const i of za(t)){const s=NM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function NM(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?Io(u,c):se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ki(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return yS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=new Ke(ie.comparator);function Tr(){return kM}const MS=new Ke(ie.comparator);function ba(...t){let e=MS;for(const n of t)e=e.insert(n.key,n);return e}function jS(t){let e=MS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qi(){return Ua()}function LS(){return Ua()}function Ua(){return new ws(t=>t.toString(),(t,e)=>t.isEqual(e))}const DM=new Ke(ie.comparator),OM=new ct(ie.comparator);function ye(...t){let e=OM;for(const n of t)e=e.add(n);return e}const VM=new ct(he);function MM(){return VM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(e)?"-0":e}}function FS(t){return{integerValue:""+t}}function jM(t,e){return cM(e)?FS(e):_g(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){this._=void 0}}function LM(t,e,n){return t instanceof Gc?function(i,s){const o={fields:{[_S]:{stringValue:wS},[ES]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&gg(s)&&(s=Md(s)),s&&(o.fields[xS]=s),{mapValue:o}}(n,e):t instanceof vl?US(t,e):t instanceof wl?$S(t,e):function(i,s){const o=zS(i,s),a=gw(o)+gw(i.Re);return Dp(o)&&Dp(i.Re)?FS(a):_g(i.serializer,a)}(t,e)}function FM(t,e,n){return t instanceof vl?US(t,e):t instanceof wl?$S(t,e):n}function zS(t,e){return t instanceof Qc?function(r){return Dp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Gc extends zd{}class vl extends zd{constructor(e){super(),this.elements=e}}function US(t,e){const n=BS(e);for(const r of t.elements)n.some(i=>er(i,r))||n.push(r);return{arrayValue:{values:n}}}class wl extends zd{constructor(e){super(),this.elements=e}}function $S(t,e){let n=BS(e);for(const r of t.elements)n=n.filter(i=>!er(i,r));return{arrayValue:{values:n}}}class Qc extends zd{constructor(e,n){super(),this.serializer=e,this.Re=n}}function gw(t){return Xe(t.integerValue||t.doubleValue)}function BS(t){return yg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function zM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof vl&&i instanceof vl||r instanceof wl&&i instanceof wl?Ao(r.elements,i.elements,er):r instanceof Qc&&i instanceof Qc?er(r.Re,i.Re):r instanceof Gc&&i instanceof Gc}(t.transform,e.transform)}class UM{constructor(e,n){this.version=e,this.transformResults=n}}class kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ud{}function HS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xg(t.key,kn.none()):new Ol(t.key,t.data,kn.none());{const n=t.data,r=Kt.empty();let i=new ct(vt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Di(t.key,r,new sn(i.toArray()),kn.none())}}function $M(t,e,n){t instanceof Ol?function(i,s,o){const a=i.value.clone(),u=vw(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Di?function(i,s,o){if(!rc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=vw(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(WS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function $a(t,e,n,r){return t instanceof Ol?function(s,o,a,u){if(!rc(s.precondition,o))return a;const c=s.value.clone(),d=ww(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Di?function(s,o,a,u){if(!rc(s.precondition,o))return a;const c=ww(s.fieldTransforms,u,o),d=o.data;return d.setAll(WS(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return rc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function BM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=zS(r.transform,i||null);s!=null&&(n===null&&(n=Kt.empty()),n.set(r.field,s))}return n||null}function yw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ao(r,i,(s,o)=>zM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ol extends Ud{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Di extends Ud{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function WS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function vw(t,e,n){const r=new Map;Ae(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,FM(o,a,n[i]))}return r}function ww(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,LM(s,o,e))}return r}class xg extends Ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HM extends Ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&$M(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$a(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$a(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=LS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=HS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,(n,r)=>yw(n,r))&&Ao(this.baseMutations,e.baseMutations,(n,r)=>yw(n,r))}}class Eg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return DM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Eg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KM=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,we;function GM(t){switch(t){case U.OK:return se(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return se(15467,{code:t})}}function KS(t){if(t===void 0)return Er("GRPC error has no .code"),U.UNKNOWN;switch(t){case tt.OK:return U.OK;case tt.CANCELLED:return U.CANCELLED;case tt.UNKNOWN:return U.UNKNOWN;case tt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case tt.INTERNAL:return U.INTERNAL;case tt.UNAVAILABLE:return U.UNAVAILABLE;case tt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case tt.NOT_FOUND:return U.NOT_FOUND;case tt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case tt.ABORTED:return U.ABORTED;case tt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case tt.DATA_LOSS:return U.DATA_LOSS;default:return se(39323,{code:t})}}(we=tt||(tt={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=new li([4294967295,4294967295],0);function _w(t){const e=pS().encode(t),n=new oS;return n.update(e),new Uint8Array(n.digest())}function xw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new li([n,r],0),new li([i,s],0)]}class Tg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Aa(`Invalid padding: ${n}`);if(r<0)throw new Aa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Aa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Aa(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=li.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(li.fromNumber(r)));return i.compare(QM)===1&&(i=new li([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=_w(e),[r,i]=xw(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.Se(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Tg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=_w(e),[r,i]=xw(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Aa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $d(ae.min(),i,new Ke(he),Tr(),ye())}}class Vl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vl(r,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class qS{constructor(e,n){this.targetId=e,this.Ce=n}}class GS{constructor(e,n,r=xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ew{constructor(){this.Fe=0,this.Me=Tw(),this.xe=xt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ye(),n=ye(),r=ye();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se(38017,{changeType:s})}}),new Vl(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Tw()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ae(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class YM{constructor(e){this.ze=e,this.je=new Map,this.He=Tr(),this.Je=Du(),this.Ye=Du(),this.Ze=new Ke(he)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(Vp(s))if(r===0){const o=new ie(s.path);this.tt(n,o,kt.newNoDocument(o,ae.min()))}else Ae(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),u=a?this.lt(a,e,o):1;if(u!==0){this.st(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ei(r).toUint8Array()}catch(u){if(u instanceof vS)return bo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Tg(o,i,s)}catch(u){return bo(u instanceof Aa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&Vp(a.target)){const u=new ie(a.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,kt.newNoDocument(u,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=ye();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this._t(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new $d(e,n,this.Ze,this.He,r);return this.He=Tr(),this.Je=Du(),this.Ye=Du(),this.Ze=new Ke(he),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Ew,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new ct(he),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new ct(he),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ew),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Du(){return new Ke(ie.comparator)}function Tw(){return new Ke(ie.comparator)}const XM={asc:"ASCENDING",desc:"DESCENDING"},JM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZM={and:"AND",or:"OR"};class ej{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jp(t,e){return t.useProto3Json||Vd(e)?e:{value:e}}function Yc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tj(t,e){return Yc(t,e.toTimestamp())}function Jn(t){return Ae(!!t,49232),ae.fromTimestamp(function(n){const r=xi(n);return new ut(r.seconds,r.nanos)}(t))}function Sg(t,e){return Lp(t,e).canonicalString()}function Lp(t,e){const n=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function YS(t){const e=$e.fromString(t);return Ae(tC(e),10190,{key:e.toString()}),e}function Fp(t,e){return Sg(t.databaseId,e.path)}function af(t,e){const n=YS(e);if(n.get(1)!==t.databaseId.projectId)throw new te(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(JS(n))}function XS(t,e){return Sg(t.databaseId,e)}function nj(t){const e=YS(t);return e.length===4?$e.emptyPath():JS(e)}function zp(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JS(t){return Ae(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Sw(t,e,n){return{name:Fp(t,e),fields:n.value.mapValue.fields}}function rj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:se(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Ae(d===void 0||typeof d=="string",58123),xt.fromBase64String(d||"")):(Ae(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),xt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?U.UNKNOWN:KS(c.code);return new te(d,c.message||"")}(o);n=new GS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=af(t,r.document.name),s=Jn(r.document.updateTime),o=r.document.createTime?Jn(r.document.createTime):ae.min(),a=new Kt({mapValue:{fields:r.document.fields}}),u=kt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new ic(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=af(t,r.document),s=r.readTime?Jn(r.readTime):ae.min(),o=kt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ic([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=af(t,r.document),s=r.removedTargetIds||[];n=new ic([],s,i,null)}else{if(!("filter"in e))return se(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new qM(i,s),a=r.targetId;n=new qS(a,o)}}return n}function ij(t,e){let n;if(e instanceof Ol)n={update:Sw(t,e.key,e.value)};else if(e instanceof xg)n={delete:Fp(t,e.key)};else if(e instanceof Di)n={update:Sw(t,e.key,e.data),updateMask:fj(e.fieldMask)};else{if(!(e instanceof HM))return se(16599,{ft:e.type});n={verify:Fp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Gc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof vl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof wl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Qc)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw se(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:tj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se(27497)}(t,e.precondition)),n}function sj(t,e){return t&&t.length>0?(Ae(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Jn(i.updateTime):Jn(s);return o.isEqual(ae.min())&&(o=Jn(s)),new UM(o,i.transformResults||[])}(n,e))):[]}function oj(t,e){return{documents:[XS(t,e.path)]}}function aj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XS(t,i);const s=function(c){if(c.length!==0)return eC(tr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(h){return{field:Ns(h.field),direction:cj(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=jp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:i}}function lj(t){let e=nj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ae(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){const h=ZS(p);return h instanceof tr&&RS(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(h=>function(x){return new qc(ks(x.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(p){let h;return h=typeof p=="object"?p.value:p,Vd(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(p){const h=!!p.before,w=p.values||[];return new Kc(w,h)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const h=!p.before,w=p.values||[];return new Kc(w,h)}(n.endAt)),AM(e,i,o,s,a,"F",u,c)}function uj(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ks(n.unaryFilter.field);return at.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ks(n.unaryFilter.field);return at.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ks(n.unaryFilter.field);return at.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ks(n.unaryFilter.field);return at.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(t):t.fieldFilter!==void 0?function(n){return at.create(ks(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return tr.create(n.compositeFilter.filters.map(r=>ZS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(n.compositeFilter.op))}(t):se(30097,{filter:t})}function cj(t){return XM[t]}function dj(t){return JM[t]}function hj(t){return ZM[t]}function Ns(t){return{fieldPath:t.canonicalString()}}function ks(t){return vt.fromServerFormat(t.fieldPath)}function eC(t){return t instanceof at?function(n){if(n.op==="=="){if(dw(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NAN"}};if(cw(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dw(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NAN"}};if(cw(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ns(n.field),op:dj(n.op),value:n.value}}}(t):t instanceof tr?function(n){const r=n.getFilters().map(i=>eC(i));return r.length===1?r[0]:{compositeFilter:{op:hj(n.op),filters:r}}}(t):se(54877,{filter:t})}function fj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n,r,i,s=ae.min(),o=ae.min(),a=xt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e){this.wt=e}}function mj(t){const e=lj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(){this.Cn=new yj}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(_i.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class yj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ct($e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nC=41943040;class Ht{static withCacheSize(e){return new Ht(e,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ht.DEFAULT_COLLECTION_PERCENTILE=10,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ht.DEFAULT=new Ht(nC,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ht.DISABLED=new Ht(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Po(0)}static lr(){return new Po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="LruGarbageCollector",vj=1048576;function Aw([t,e],[n,r]){const i=he(t,n);return i===0?he(e,r):i}class wj{constructor(e){this.Er=e,this.buffer=new ct(Aw),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Aw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _j{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){G(bw,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ko(n)?G(bw,"Ignoring IndexedDB error during garbage collection: ",n):await Wo(n)}await this.mr(3e5)})}}class xj{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(Od.le);const r=new wj(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Cw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cw):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,s,o,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),Rs()<=_e.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function Ej(t,e){return new xj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(){this.changes=new ws(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&$a(r.mutation,i,sn.empty(),ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){const i=Qi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ba();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Qi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Tr();const o=Ua(),a=function(){return Ua()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Di)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),$a(d.mutation,c,d.mutation.getFieldMask(),ut.now())):o.set(c.key,sn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var p;return a.set(c,new Sj(d,(p=o.get(c))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ua();let i=new Ke((o,a)=>o-a),s=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||sn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const p=(i.get(a.batchId)||ye()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,p=LS();d.forEach(h=>{if(!s.has(h)){const w=HS(n.get(h),r.get(h));w!==null&&p.set(h,w),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(Qi());let a=pl,u=s;return o.next(c=>F.forEach(c,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{u=u.insert(d,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ye())).next(d=>({batchId:a,changes:jS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=ba();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ba();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,u=>{const c=function(p,h){return new jd(h,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((p,h)=>{o=o.insert(p,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,kt.newInvalidDocument(d)))});let a=ba();return o.forEach((u,c)=>{const d=s.get(u);d!==void 0&&$a(d.mutation,c,sn.empty(),ut.now()),Fd(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return F.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jn(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:mj(i.bundledQuery),readTime:Jn(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(){this.overlays=new Ke(ie.comparator),this.Qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qi();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.bt(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=Qi(),s=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ke((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Qi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Qi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return F.resolve(a)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new KM(n,r));let s=this.Qr.get(n);s===void 0&&(s=ye(),this.Qr.set(n,s)),this.Qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(){this.$r=new ct(dt.Ur),this.Kr=new ct(dt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new dt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new dt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ie(new $e([])),r=new dt(n,e),i=new dt(n,e+1),s=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ie(new $e([])),r=new dt(n,e),i=new dt(n,e+1);let s=ye();return this.Kr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new dt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ie.comparator(e.key,n.key)||he(e.Zr,n.Zr)}static Wr(e,n){return he(e.Zr,n.Zr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new ct(dt.Ur)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new WM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Xr=this.Xr.add(new dt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?mg:this.nr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dt(n,0),i=new dt(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],o=>{const a=this.ei(o.Zr);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(he);return n.forEach(i=>{const s=new dt(i,0),o=new dt(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],a=>{r=r.add(a.Zr)})}),F.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ie.isDocumentKey(s)||(s=s.child(""));const o=new dt(new ie(s),0);let a=new ct(he);return this.Xr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.Zr)),!0)},o),F.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return F.forEach(n.mutations,i=>{const s=new dt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new dt(n,0),i=this.Xr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e){this.ii=e,this.docs=function(){return new Ke(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():kt.newInvalidDocument(n))}getEntries(e,n){let r=Tr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():kt.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Tr();const o=n.path,a=new ie(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||oM(sM(d),r)<=0||(i.has(d.key)||Fd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se(9500)}si(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Nj(this)}getSize(e){return F.resolve(this.size)}}class Nj extends Tj{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.persistence=e,this.oi=new ws(n=>vg(n),wg),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this._i=0,this.ai=new Cg,this.targetCount=0,this.ui=Po.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),F.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Po(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Tr(n),F.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n){this.ci={},this.overlays={},this.li=new Od(0),this.hi=!1,this.hi=!0,this.Pi=new Ij,this.referenceDelegate=e(this),this.Ti=new kj(this),this.indexManager=new gj,this.remoteDocumentCache=function(i){return new Pj(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new pj(n),this.Ei=new bj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Aj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new Rj(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new Dj(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,n){return F.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class Dj extends lM{constructor(e){super(),this.currentSequenceNumber=e}}class bg{constructor(e){this.persistence=e,this.Vi=new Cg,this.mi=null}static fi(e){return new bg(e)}get gi(){if(this.mi)return this.mi;throw se(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.gi,r=>{const i=ie.fromPath(r);return this.pi(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return F.or([()=>F.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Xc{constructor(e,n){this.persistence=e,this.yi=new ws(r=>dM(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Ej(this,n)}static fi(e,n){return new Xc(e,n)}di(){}Ai(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return F.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ae.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=tc(e.data.value)),n}Dr(e,n,r){return F.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=ye(),i=ye();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ag(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return RO()?8:uM(AO())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ws(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Oj;return this.bs(e,n,o).next(a=>{if(s.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>s.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Rs()<=_e.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Ps(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),F.resolve()):(Rs()<=_e.DEBUG&&G("QueryEngine","Query:",Ps(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Rs()<=_e.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Ps(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(n))):F.resolve())}ws(e,n){if(mw(n))return F.resolve(null);let r=Xn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Mp(n,null,"F"),r=Xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ye(...s);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.vs(n,a);return this.Cs(n,c,o,u.readTime)?this.ws(e,Mp(n,null,"F")):this.Fs(e,c,n,u)}))})))}Ss(e,n,r,i){return mw(n)||i.isEqual(ae.min())?F.resolve(null):this.ys.getDocuments(e,r).next(s=>{const o=this.vs(n,s);return this.Cs(n,o,r,i)?F.resolve(null):(Rs()<=_e.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ps(n)),this.Fs(e,o,n,iM(i,pl)).next(a=>a))})}vs(e,n){let r=new ct(VS(e));return n.forEach((i,s)=>{Fd(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}bs(e,n,r){return Rs()<=_e.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Ps(n)),this.ys.getDocumentsMatchingQuery(e,n,_i.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="LocalStore",Mj=3e8;class jj{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Ke(he),this.Os=new ws(s=>vg(s),wg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cj(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function Lj(t,e,n,r){return new jj(t,e,n,r)}async function iC(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ye();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({ks:c,removedBatchIds:o,addedBatchIds:a}))})})}function Fj(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const p=c.batch,h=p.keys();let w=F.resolve();return h.forEach(x=>{w=w.next(()=>d.getEntry(u,x)).next(g=>{const S=c.docVersions.get(x);Ae(S!==null,48541),g.version.compareTo(S)<0&&(p.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),d.addEntry(g)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ye();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function sC(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function zj(t,e){const n=le(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];e.targetChanges.forEach((d,p)=>{const h=i.get(p);if(!h)return;a.push(n.Ti.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(s,d.addedDocuments,p)));let w=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(xt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):d.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(d.resumeToken,r)),i=i.insert(p,w),function(g,S,E){return g.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=Mj?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(h,w,d)&&a.push(n.Ti.updateTargetData(s,w))});let u=Tr(),c=ye();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(Uj(s,o,e.documentUpdates).next(d=>{u=d.qs,c=d.Qs})),!r.isEqual(ae.min())){const d=n.Ti.getLastRemoteSnapshotVersion(s).next(p=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.xs=i,s))}function Uj(t,e,n){let r=ye(),i=ye();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Tr();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):G(Ig,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{qs:o,Qs:i}})}function $j(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=mg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Bj(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Ti.allocateTargetId(r).next(o=>(i=new Yr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Up(t,e,n){const r=le(t),i=r.xs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ko(o))throw o;G(Ig,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function Iw(t,e,n){const r=le(t);let i=ae.min(),s=ye();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const p=le(u),h=p.Os.get(d);return h!==void 0?F.resolve(p.xs.get(h)):p.Ti.getTargetData(c,d)}(r,o,Xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?i:ae.min(),n?s:ye())).next(a=>(Hj(r,PM(e),a),{documents:a,$s:s})))}function Hj(t,e,n){let r=t.Ns.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ns.set(e,r)}class Rw{constructor(){this.activeTargetIds=MM()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wj{constructor(){this.xo=new Rw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Rw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="ConnectivityMonitor";class Nw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){G(Pw,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){G(Pw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou=null;function $p(){return Ou===null?Ou=function(){return 268435456+Math.round(2147483648*Math.random())}():Ou++,"0x"+Ou.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="RestConnection",qj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gj{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Hc?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,s){const o=$p(),a=this.jo(e,n.toUriEncodedString());G(lf,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,s);const{host:c}=new URL(a),d=hg(c);return this.Jo(e,a,u,r,d).then(p=>(G(lf,`Received RPC '${e}' ${o}: `,p),p),p=>{throw bo(lf,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,n,r,i,s,o){return this.zo(e,n,r,i,s)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ho}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,n){const r=qj[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It="WebChannelConnection";class Yj extends Gj{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=$p();return new Promise((a,u)=>{const c=new aS;c.setWithCredentials(!0),c.listenOnce(lS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ec.NO_ERROR:const p=c.getResponseJson();G(It,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case ec.TIMEOUT:G(It,`RPC '${e}' ${o} timed out`),u(new te(U.DEADLINE_EXCEEDED,"Request time out"));break;case ec.HTTP_ERROR:const h=c.getStatus();if(G(It,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let w=c.getResponseJson();Array.isArray(w)&&(w=w[0]);const x=w==null?void 0:w.error;if(x&&x.status&&x.message){const g=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(_)>=0?_:U.UNKNOWN}(x.status);u(new te(g,x.message))}else u(new te(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new te(U.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{G(It,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);G(It,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",d,r,15)})}T_(e,n,r){const i=$p(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dS(),a=cS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");G(It,`Creating RPC '${e}' stream ${i}: ${d}`,u);const p=o.createWebChannel(d,u);let h=!1,w=!1;const x=new Qj({Zo:S=>{w?G(It,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(h||(G(It,`Opening RPC '${e}' stream ${i} transport.`),p.open(),h=!0),G(It,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Xo:()=>p.close()}),g=(S,E,_)=>{S.listen(E,C=>{try{_(C)}catch(N){setTimeout(()=>{throw N},0)}})};return g(p,Ca.EventType.OPEN,()=>{w||(G(It,`RPC '${e}' stream ${i} transport opened.`),x.__())}),g(p,Ca.EventType.CLOSE,()=>{w||(w=!0,G(It,`RPC '${e}' stream ${i} transport closed`),x.u_())}),g(p,Ca.EventType.ERROR,S=>{w||(w=!0,bo(It,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),x.u_(new te(U.UNAVAILABLE,"The operation could not be completed")))}),g(p,Ca.EventType.MESSAGE,S=>{var E;if(!w){const _=S.data[0];Ae(!!_,16349);const C=_,N=(C==null?void 0:C.error)||((E=C[0])===null||E===void 0?void 0:E.error);if(N){G(It,`RPC '${e}' stream ${i} received error:`,N);const O=N.status;let V=function(A){const R=tt[A];if(R!==void 0)return KS(R)}(O),T=N.message;V===void 0&&(V=U.INTERNAL,T="Unknown error status: "+O+" with message "+N.message),w=!0,x.u_(new te(V,T)),p.close()}else G(It,`RPC '${e}' stream ${i} received:`,_),x.c_(_)}}),g(a,uS.STAT_EVENT,S=>{S.stat===Pp.PROXY?G(It,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Pp.NOPROXY&&G(It,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}}function uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t){return new ej(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=i,this.d_=s,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="PersistentStream";class aC{constructor(e,n,r,i,s,o,a,u){this.xi=e,this.y_=r,this.w_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new oC(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Er(n.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===n&&this.K_(r,i)},r=>{e(()=>{const i=new te(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return G(kw,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(G(kw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Xj extends aC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=rj(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?Jn(o.readTime):ae.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=zp(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Vp(u)?{documents:oj(s,u)}:{query:aj(s,u).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=QS(s,o.resumeToken);const c=jp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=Yc(s,o.snapshotVersion.toTimestamp());const c=jp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=uj(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=zp(this.serializer),n.removeTarget=e,this.L_(n)}}class Jj extends aC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=sj(e.writeResults,e.commitTime),r=Jn(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=zp(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ij(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{}class eL extends Zj{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new te(U.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,Lp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(U.UNKNOWN,s.toString())})}Yo(e,n,r,i,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,Lp(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(U.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class tL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Er(n),this.oa=!1):G("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="RemoteStore";class nL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=s,this.Ea.No(o=>{r.enqueueAndForget(async()=>{_s(this)&&(G(ds,"Restarting streams for network reachability change."),await async function(u){const c=le(u);c.Ta.add(4),await Ml(c),c.da.set("Unknown"),c.Ta.delete(4),await Hd(c)}(this))})}),this.da=new tL(r,i)}}async function Hd(t){if(_s(t))for(const e of t.Ia)await e(!0)}async function Ml(t){for(const e of t.Ia)await e(!1)}function lC(t,e){const n=le(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),kg(n)?Ng(n):qo(n).M_()&&Pg(n,e))}function Rg(t,e){const n=le(t),r=qo(n);n.Pa.delete(e),r.M_()&&uC(n,e),n.Pa.size===0&&(r.M_()?r.N_():_s(n)&&n.da.set("Unknown"))}function Pg(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qo(t).H_(e)}function uC(t,e){t.Aa.Ke(e),qo(t).J_(e)}function Ng(t){t.Aa=new YM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),qo(t).start(),t.da._a()}function kg(t){return _s(t)&&!qo(t).F_()&&t.Pa.size>0}function _s(t){return le(t).Ta.size===0}function cC(t){t.Aa=void 0}async function rL(t){t.da.set("Online")}async function iL(t){t.Pa.forEach((e,n)=>{Pg(t,e)})}async function sL(t,e){cC(t),kg(t)?(t.da.ca(e),Ng(t)):t.da.set("Unknown")}async function oL(t,e,n){if(t.da.set("Online"),e instanceof GS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Pa.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Pa.delete(a),i.Aa.removeTarget(a))}(t,e)}catch(r){G(ds,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jc(t,r)}else if(e instanceof ic?t.Aa.Xe(e):e instanceof qS?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(ae.min()))try{const r=await sC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Aa.It(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Pa.get(c);d&&s.Pa.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=s.Pa.get(u);if(!d)return;s.Pa.set(u,d.withResumeToken(xt.EMPTY_BYTE_STRING,d.snapshotVersion)),uC(s,u);const p=new Yr(d.target,u,c,d.sequenceNumber);Pg(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(ds,"Failed to raise snapshot:",r),await Jc(t,r)}}async function Jc(t,e,n){if(!Ko(e))throw e;t.Ta.add(1),await Ml(t),t.da.set("Offline"),n||(n=()=>sC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(ds,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await Hd(t)})}function dC(t,e){return e().catch(n=>Jc(t,n,e))}async function Wd(t){const e=le(t),n=Si(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:mg;for(;aL(e);)try{const i=await $j(e.localStore,r);if(i===null){e.ha.length===0&&n.N_();break}r=i.batchId,lL(e,i)}catch(i){await Jc(e,i)}hC(e)&&fC(e)}function aL(t){return _s(t)&&t.ha.length<10}function lL(t,e){t.ha.push(e);const n=Si(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function hC(t){return _s(t)&&!Si(t).F_()&&t.ha.length>0}function fC(t){Si(t).start()}async function uL(t){Si(t).ta()}async function cL(t){const e=Si(t);for(const n of t.ha)e.Z_(n.mutations)}async function dL(t,e,n){const r=t.ha.shift(),i=Eg.from(r,e,n);await dC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Wd(t)}async function hL(t,e){e&&Si(t).Y_&&await async function(r,i){if(function(o){return GM(o)&&o!==U.ABORTED}(i.code)){const s=r.ha.shift();Si(r).O_(),await dC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Wd(r)}}(t,e),hC(t)&&fC(t)}async function Dw(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),G(ds,"RemoteStore received new credentials");const r=_s(n);n.Ta.add(3),await Ml(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await Hd(n)}async function fL(t,e){const n=le(t);e?(n.Ta.delete(2),await Hd(n)):e||(n.Ta.add(2),await Ml(n),n.da.set("Unknown"))}function qo(t){return t.Ra||(t.Ra=function(n,r,i){const s=le(n);return s.ra(),new Xj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:rL.bind(null,t),n_:iL.bind(null,t),i_:sL.bind(null,t),j_:oL.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),kg(t)?Ng(t):t.da.set("Unknown")):(await t.Ra.stop(),cC(t))})),t.Ra}function Si(t){return t.Va||(t.Va=function(n,r,i){const s=le(n);return s.ra(),new Jj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:uL.bind(null,t),i_:hL.bind(null,t),X_:cL.bind(null,t),ea:dL.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await Wd(t)):(await t.Va.stop(),t.ha.length>0&&(G(ds,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Dg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Og(t,e){if(Er("AsyncQueue",`${e}: ${t}`),Ko(t))return new te(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=ba(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new so;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.ma=new Ke(ie.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):se(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class No{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new No(e,n,so.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ld(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class mL{constructor(){this.queries=Vw(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const i=le(n),s=i.queries;i.queries=Vw(),s.forEach((o,a)=>{for(const u of a.ya)u.onError(r)})})(this,new te(U.ABORTED,"Firestore shutting down"))}}function Vw(){return new ws(t=>OS(t),Ld)}async function gL(t,e){const n=le(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.wa()&&e.Sa()&&(r=2):(s=new pL,r=e.Sa()?0:1);try{switch(r){case 0:s.pa=await n.onListen(i,!0);break;case 1:s.pa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Og(o,`Initialization of query '${Ps(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ya.push(e),e.Da(n.onlineState),s.pa&&e.va(s.pa)&&Vg(n)}async function yL(t,e){const n=le(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ya.indexOf(e);o>=0&&(s.ya.splice(o,1),s.ya.length===0?i=e.Sa()?0:1:!s.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vL(t,e){const n=le(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ya)a.va(i)&&(r=!0);o.pa=i}}r&&Vg(n)}function wL(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const s of i.ya)s.onError(n);r.queries.delete(e)}function Vg(t){t.ba.forEach(e=>{e.next()})}var Bp,Mw;(Mw=Bp||(Bp={})).Ca="default",Mw.Cache="cache";class _L{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new No(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Bp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.key=e}}class mC{constructor(e){this.key=e}}class xL{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=ye(),this.mutatedKeys=ye(),this.Ha=VS(e),this.Ja=new so(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new Ow,i=n?n.Ja:this.Ja;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const h=i.get(d),w=Fd(this.query,p)?p:null,x=!!h&&this.mutatedKeys.has(h.key),g=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let S=!1;h&&w?h.data.isEqual(w.data)?x!==g&&(r.track({type:3,doc:w}),S=!0):this.eu(h,w)||(r.track({type:2,doc:w}),S=!0,(u&&this.Ha(w,u)>0||c&&this.Ha(w,c)<0)&&(a=!0)):!h&&w?(r.track({type:0,doc:w}),S=!0):h&&!w&&(r.track({type:1,doc:h}),S=!0,(u||c)&&(a=!0)),S&&(w?(o=o.add(w),s=g?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ja:o,Xa:r,Cs:a,mutatedKeys:s}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((d,p)=>function(w,x){const g=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Vt:S})}};return g(w)-g(x)}(d.type,p.type)||this.Ha(d.doc,p.doc)),this.tu(r),i=i!=null&&i;const a=n&&!i?this.nu():[],u=this.ja.size===0&&this.current&&!i?1:0,c=u!==this.za;return this.za=u,o.length!==0||c?{snapshot:new No(this.query,e.Ja,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Ow,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=ye(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new mC(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new pC(r))}),n}su(e){this.Ga=e.$s,this.ja=ye();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return No.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Mg="SyncEngine";class EL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class TL{constructor(e){this.key=e,this._u=!1}}class SL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new ws(a=>OS(a),Ld),this.cu=new Map,this.lu=new Set,this.hu=new Ke(ie.comparator),this.Pu=new Map,this.Tu=new Cg,this.Iu={},this.Eu=new Map,this.du=Po.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function CL(t,e,n=!0){const r=xC(t);let i;const s=r.uu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ou()):i=await gC(r,e,n,!0),i}async function bL(t,e){const n=xC(t);await gC(n,e,!0,!1)}async function gC(t,e,n,r){const i=await Bj(t.localStore,Xn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await AL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&lC(t.remoteStore,i),a}async function AL(t,e,n,r,i){t.Ru=(p,h,w)=>async function(g,S,E,_){let C=S.view.Za(E);C.Cs&&(C=await Iw(g.localStore,S.query,!1).then(({documents:T})=>S.view.Za(T,C)));const N=_&&_.targetChanges.get(S.targetId),O=_&&_.targetMismatches.get(S.targetId)!=null,V=S.view.applyChanges(C,g.isPrimaryClient,N,O);return Lw(g,S.targetId,V.ru),V.snapshot}(t,p,h,w);const s=await Iw(t.localStore,e,!0),o=new xL(e,s.$s),a=o.Za(s.documents),u=Vl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);Lw(t,n,c.ru);const d=new EL(e,n,o);return t.uu.set(e,d),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),c.snapshot}async function IL(t,e,n){const r=le(t),i=r.uu.get(e),s=r.cu.get(i.targetId);if(s.length>1)return r.cu.set(i.targetId,s.filter(o=>!Ld(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Up(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Rg(r.remoteStore,i.targetId),Hp(r,i.targetId)}).catch(Wo)):(Hp(r,i.targetId),await Up(r.localStore,i.targetId,!0))}async function RL(t,e){const n=le(t),r=n.uu.get(e),i=n.cu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Rg(n.remoteStore,r.targetId))}async function PL(t,e,n){const r=jL(t);try{const i=await function(o,a){const u=le(o),c=ut.now(),d=a.reduce((w,x)=>w.add(x.key),ye());let p,h;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let x=Tr(),g=ye();return u.Bs.getEntries(w,d).next(S=>{x=S,x.forEach((E,_)=>{_.isValidDocument()||(g=g.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,x)).next(S=>{p=S;const E=[];for(const _ of a){const C=BM(_,p.get(_.key).overlayedDocument);C!=null&&E.push(new Di(_.key,C,bS(C.value.mapValue),kn.exists(!0)))}return u.mutationQueue.addMutationBatch(w,c,E,a)}).next(S=>{h=S;const E=S.applyToLocalDocumentSet(p,g);return u.documentOverlayCache.saveOverlays(w,S.batchId,E)})}).then(()=>({batchId:h.batchId,changes:jS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Iu[o.currentUser.toKey()];c||(c=new Ke(he)),c=c.insert(a,u),o.Iu[o.currentUser.toKey()]=c}(r,i.batchId,n),await jl(r,i.changes),await Wd(r.remoteStore)}catch(i){const s=Og(i,"Failed to persist write");n.reject(s)}}async function yC(t,e){const n=le(t);try{const r=await zj(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Pu.get(s);o&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o._u=!0:i.modifiedDocuments.size>0?Ae(o._u,14607):i.removedDocuments.size>0&&(Ae(o._u,42227),o._u=!1))}),await jl(n,r,e)}catch(r){await Wo(r)}}function jw(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.uu.forEach((s,o)=>{const a=o.view.Da(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=le(o);u.onlineState=a;let c=!1;u.queries.forEach((d,p)=>{for(const h of p.ya)h.Da(a)&&(c=!0)}),c&&Vg(u)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function NL(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Pu.get(e),s=i&&i.key;if(s){let o=new Ke(ie.comparator);o=o.insert(s,kt.newNoDocument(s,ae.min()));const a=ye().add(s),u=new $d(ae.min(),new Map,new Ke(he),o,a);await yC(r,u),r.hu=r.hu.remove(s),r.Pu.delete(e),jg(r)}else await Up(r.localStore,e,!1).then(()=>Hp(r,e,n)).catch(Wo)}async function kL(t,e){const n=le(t),r=e.batch.batchId;try{const i=await Fj(n.localStore,e);wC(n,r,null),vC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jl(n,i)}catch(i){await Wo(i)}}async function DL(t,e,n){const r=le(t);try{const i=await function(o,a){const u=le(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(p=>(Ae(p!==null,37113),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);wC(r,e,n),vC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jl(r,i)}catch(i){await Wo(i)}}function vC(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function wC(t,e,n){const r=le(t);let i=r.Iu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function Hp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||_C(t,r)})}function _C(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(Rg(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),jg(t))}function Lw(t,e,n){for(const r of n)r instanceof pC?(t.Tu.addReference(r.key,e),OL(t,r)):r instanceof mC?(G(Mg,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||_C(t,r.key)):se(19791,{mu:r})}function OL(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(G(Mg,"New document in limbo: "+n),t.lu.add(r),jg(t))}function jg(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new ie($e.fromString(e)),r=t.du.next();t.Pu.set(r,new TL(n)),t.hu=t.hu.insert(n,r),lC(t.remoteStore,new Yr(Xn(DS(n.path)),r,"TargetPurposeLimboResolution",Od.le))}}async function jl(t,e,n){const r=le(t),i=[],s=[],o=[];r.uu.isEmpty()||(r.uu.forEach((a,u)=>{o.push(r.Ru(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=Ag.Rs(u.targetId,c);s.push(p)}}))}),await Promise.all(o),r.au.j_(i),await async function(u,c){const d=le(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(c,h=>F.forEach(h.ds,w=>d.persistence.referenceDelegate.addReference(p,h.targetId,w)).next(()=>F.forEach(h.As,w=>d.persistence.referenceDelegate.removeReference(p,h.targetId,w)))))}catch(p){if(!Ko(p))throw p;G(Ig,"Failed to update sequence numbers: "+p)}for(const p of c){const h=p.targetId;if(!p.fromCache){const w=d.xs.get(h),x=w.snapshotVersion,g=w.withLastLimboFreeSnapshotVersion(x);d.xs=d.xs.insert(h,g)}}}(r.localStore,s))}async function VL(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){G(Mg,"User change. New user:",e.toKey());const r=await iC(n.localStore,e);n.currentUser=e,function(s,o){s.Eu.forEach(a=>{a.forEach(u=>{u.reject(new te(U.CANCELLED,o))})}),s.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jl(n,r.ks)}}function ML(t,e){const n=le(t),r=n.Pu.get(e);if(r&&r._u)return ye().add(r.key);{let i=ye();const s=n.cu.get(e);if(!s)return i;for(const o of s){const a=n.uu.get(o);i=i.unionWith(a.view.Ya)}return i}}function xC(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ML.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NL.bind(null,e),e.au.j_=vL.bind(null,e.eventManager),e.au.Vu=wL.bind(null,e.eventManager),e}function jL(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DL.bind(null,e),e}class Zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bd(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return Lj(this.persistence,new Vj,e.initialUser,this.serializer)}yu(e){return new rC(bg.fi,this.serializer)}pu(e){return new Wj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zc.provider={build:()=>new Zc};class LL extends Zc{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Ae(this.persistence.referenceDelegate instanceof Xc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _j(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?Ht.withCacheSize(this.cacheSizeBytes):Ht.DEFAULT;return new rC(r=>Xc.fi(r,n),this.serializer)}}class Wp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VL.bind(null,this.syncEngine),await fL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mL}()}createDatastore(e){const n=Bd(e.databaseInfo.databaseId),r=function(s){return new Yj(s)}(e.databaseInfo);return function(s,o,a,u){return new eL(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new nL(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>jw(this.syncEngine,n,0),function(){return Nw.C()?new Nw:new Kj}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,d){const p=new SL(i,s,o,a,u,c);return d&&(p.Au=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=le(i);G(ds,"RemoteStore shutting down."),s.Ta.add(5),await Ml(s),s.Ea.shutdown(),s.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Wp.provider={build:()=>new Wp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="FirestoreClient";class zL{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=mS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{G(Ci,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(Ci,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Og(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cf(t,e){t.asyncQueue.verifyOperationInProgress(),G(Ci,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await iC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Fw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await UL(t);G(Ci,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Dw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Dw(e.remoteStore,i)),t._onlineComponents=e}async function UL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(Ci,"Using user provided OfflineComponentProvider");try{await cf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await cf(t,new Zc)}}else G(Ci,"Using default OfflineComponentProvider"),await cf(t,new LL(void 0));return t._offlineComponents}async function EC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(Ci,"Using user provided OnlineComponentProvider"),await Fw(t,t._uninitializedComponentsProvider._online)):(G(Ci,"Using default OnlineComponentProvider"),await Fw(t,new Wp))),t._onlineComponents}function $L(t){return EC(t).then(e=>e.syncEngine)}async function BL(t){const e=await EC(t),n=e.eventManager;return n.onListen=CL.bind(null,e.syncEngine),n.onUnlisten=IL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RL.bind(null,e.syncEngine),n}function HL(t,e,n={}){const r=new ui;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const d=new FL({next:h=>{d.Cu(),o.enqueueAndForget(()=>yL(s,p)),h.fromCache&&u.source==="server"?c.reject(new te(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),p=new _L(a,d,{includeMetadataChanges:!0,La:!0});return gL(s,p)}(await BL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t,e,n){if(!n)throw new te(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function WL(t,e,n,r){if(e===!0&&r===!0)throw new te(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Uw(t){if(!ie.isDocumentKey(t))throw new te(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $w(t){if(ie.isDocumentKey(t))throw new te(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se(12329,{type:typeof t})}function hs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lg(t);throw new te(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="firestore.googleapis.com",Bw=!0;class Hw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CC,this.ssl=Bw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Bw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vj)throw new te(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new QV;switch(r.type){case"firstParty":return new ZV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=zw.get(n);r&&(G("ComponentProvider","Removing Datastore"),zw.delete(n),r.terminate())}(this),Promise.resolve()}}function KL(t,e,n,r={}){var i;t=hs(t,Kd);const s=hg(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;s&&(EO(`https://${u}`),bO("Firestore",!0)),o.host!==CC&&o.host!==u&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:u,ssl:s,emulatorOptions:r});if(!zc(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=Pt.MOCK_USER;else{d=TO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new te(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Pt(h)}t._authCredentials=new YV(new fS(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qd(this.firestore,e,this._query)}}class wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class ci extends qd{constructor(e,n,r){super(e,n,DS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new ie(e))}withConverter(e){return new ci(this.firestore,e,this._path)}}function Gd(t,e,...n){if(t=wi(t),SC("collection","path",e),t instanceof Kd){const r=$e.fromString(e,...n);return $w(r),new ci(t,null,r)}{if(!(t instanceof wn||t instanceof ci))throw new te(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return $w(r),new ci(t.firestore,null,r)}}function Ll(t,e,...n){if(t=wi(t),arguments.length===1&&(e=mS.newId()),SC("doc","path",e),t instanceof Kd){const r=$e.fromString(e,...n);return Uw(r),new wn(t,null,new ie(r))}{if(!(t instanceof wn||t instanceof ci))throw new te(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return Uw(r),new wn(t.firestore,t instanceof ci?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="AsyncQueue";class Kw{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new oC(this,"async_queue_retry"),this.ec=()=>{const r=uf();r&&G(Ww,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=uf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=uf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new ui;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Ko(e))throw e;G(Ww,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Er("INTERNAL UNHANDLED ERROR: ",qw(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const i=Dg.createAndSchedule(this,e,n,r,s=>this.oc(s));return this.Hu.push(i),i}nc(){this.Ju&&se(47125,{_c:qw(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function qw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Fl extends Kd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Kw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Kw(e),this._firestoreClient=void 0,await e}}}function qL(t,e){const n=typeof t=="object"?t:MV(),r=typeof t=="string"?t:Hc,i=NV(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=_O("firestore");s&&KL(i,...s)}return i}function bC(t){if(t._terminated)throw new te(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||GL(t),t._firestoreClient}function GL(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,d){return new pM(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,TC(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new zL(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ko(xt.fromBase64String(e))}catch(n){throw new te(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ko(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=/^__.*__$/;class YL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Di(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ol(e,this.data,n,this.fieldTransforms)}}class AC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Di(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function IC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{hc:t})}}class $g{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new $g(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return ed(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(IC(this.hc)&&QL.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class XL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bd(e)}gc(e,n,r,i=!1){return new $g({hc:e,methodName:n,fc:r,path:vt.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function RC(t){const e=t._freezeSettings(),n=Bd(t._databaseId);return new XL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JL(t,e,n,r,i,s={}){const o=t.gc(s.merge||s.mergeFields?2:0,e,n,i);Bg("Data must be an object, but it was:",o,r);const a=PC(r,o);let u,c;if(s.merge)u=new sn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const h=Kp(e,p,n);if(!o.contains(h))throw new te(U.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);kC(d,h)||d.push(h)}u=new sn(d),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new YL(new Kt(a),u,c)}class Yd extends Fg{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yd}}function ZL(t,e,n,r){const i=t.gc(1,e,n);Bg("Data must be an object, but it was:",i,r);const s=[],o=Kt.empty();ki(r,(u,c)=>{const d=Hg(e,u,n);c=wi(c);const p=i.Ac(d);if(c instanceof Yd)s.push(d);else{const h=Xd(c,p);h!=null&&(s.push(d),o.set(d,h))}});const a=new sn(s);return new AC(o,a,i.fieldTransforms)}function e3(t,e,n,r,i,s){const o=t.gc(1,e,n),a=[Kp(e,r,n)],u=[i];if(s.length%2!=0)throw new te(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Kp(e,s[h])),u.push(s[h+1]);const c=[],d=Kt.empty();for(let h=a.length-1;h>=0;--h)if(!kC(c,a[h])){const w=a[h];let x=u[h];x=wi(x);const g=o.Ac(w);if(x instanceof Yd)c.push(w);else{const S=Xd(x,g);S!=null&&(c.push(w),d.set(w,S))}}const p=new sn(c);return new AC(d,p,o.fieldTransforms)}function Xd(t,e){if(NC(t=wi(t)))return Bg("Unsupported field value:",e,t),PC(t,e);if(t instanceof Fg)return function(r,i){if(!IC(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Xd(a,i.Rc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=wi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ut.fromDate(r);return{timestampValue:Yc(i.serializer,s)}}if(r instanceof ut){const s=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yc(i.serializer,s)}}if(r instanceof zg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ko)return{bytesValue:QS(i.serializer,r._byteString)};if(r instanceof wn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Sg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ug)return function(o,a){return{mapValue:{fields:{[TS]:{stringValue:CS},[Wc]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Vc("VectorValues must only contain numeric values.");return _g(a.serializer,c)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${Lg(r)}`)}(t,e)}function PC(t,e){const n={};return yS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ki(t,(r,i)=>{const s=Xd(i,e.Ic(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function NC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof zg||t instanceof ko||t instanceof wn||t instanceof Fg||t instanceof Ug)}function Bg(t,e,n){if(!NC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Lg(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function Kp(t,e,n){if((e=wi(e))instanceof Qd)return e._internalPath;if(typeof e=="string")return Hg(t,e);throw ed("Field path arguments must be of type string or ",t,!1,void 0,n)}const t3=new RegExp("[~\\*/\\[\\]]");function Hg(t,e,n){if(e.search(t3)>=0)throw ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qd(...e.split("."))._internalPath}catch{throw ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ed(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new te(U.INVALID_ARGUMENT,a+t+u)}function kC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new n3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(OC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class n3 extends DC{data(){return super.data()}}function OC(t,e){return typeof e=="string"?Hg(t,e):e instanceof Qd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i3{convertValue(e,n="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ki(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Wc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Xe(o.doubleValue));return new Ug(s)}convertGeoPoint(e){return new zg(Xe(e.latitude),Xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Md(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ml(e));default:return null}}convertTimestamp(e){const n=xi(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);Ae(tC(r),9688,{name:e});const i=new gl(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(n)||Er(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class o3 extends DC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(OC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class sc extends o3{data(e={}){return super.data(e)}}class a3{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new sc(this._firestore,this._userDataWriter,r.key,r,new Vu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new sc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new sc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:l3(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function l3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:t})}}class u3 extends i3{constructor(e){super(),this.firestore=e}convertBytes(e){return new ko(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}function VC(t){t=hs(t,qd);const e=hs(t.firestore,Fl),n=bC(e),r=new u3(e);return r3(t._query),HL(n,t._query).then(i=>new a3(e,r,t,i))}function MC(t,e,n,...r){t=hs(t,wn);const i=hs(t.firestore,Fl),s=RC(i);let o;return o=typeof(e=wi(e))=="string"||e instanceof Qd?e3(s,"updateDoc",t._key,e,n,r):ZL(s,"updateDoc",t._key,e),Wg(i,[o.toMutation(t._key,kn.exists(!0))])}function jC(t){return Wg(hs(t.firestore,Fl),[new xg(t._key,kn.none())])}function LC(t,e){const n=hs(t.firestore,Fl),r=Ll(t),i=s3(t.converter,e);return Wg(n,[JL(RC(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,kn.exists(!1))]).then(()=>r)}function Wg(t,e){return function(r,i){const s=new ui;return r.asyncQueue.enqueueAndForget(async()=>PL(await $L(r),i,s)),s.promise}(bC(t),e)}(function(e,n=!0){(function(i){Ho=i})(VV),$c(new hl("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Fl(new XV(r.getProvider("auth-internal")),new eM(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new te(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gl(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),io(J0,Z0,e),io(J0,Z0,"esm2017")})();const c3={apiKey:"AIzaSyDEtKuDYbkUSBnOBn0VZg4KzypFGnvDKEs",authDomain:"hsccollege-adbd0.firebaseapp.com",projectId:"hsccollege-adbd0",storageBucket:"hsccollege-adbd0.firebasestorage.app",messagingSenderId:"425466241242",appId:"1:425466241242:web:0a7a93cf6828a53a0b85e3",measurementId:"G-RCTXJT6L12"},d3=rS(c3),Oi=qL(d3),h3=async t=>{try{return{id:(await LC(Gd(Oi,"courses"),t)).id,...t}}catch(e){throw console.error("Error adding course:",e),e}},f3=async(t,e)=>{try{const n=Ll(Oi,"courses",t);return await MC(n,e),{id:t,...e}}catch(n){throw console.error("Error updating course:",n),n}},p3=async t=>{try{const e=Ll(Oi,"courses",t);await jC(e)}catch(e){throw console.error("Error deleting course:",e),e}},qs=async()=>{try{return(await VC(Gd(Oi,"courses"))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error getting courses:",t),t}},m3=async t=>{try{return{id:(await LC(Gd(Oi,"subjects"),t)).id,...t}}catch(e){throw console.error("Error adding subject:",e),e}},Mu=async(t,e)=>{try{const n=Ll(Oi,"subjects",t);return await MC(n,e),{id:t,...e}}catch(n){throw console.error("Error updating subject:",n),n}},g3=async t=>{try{const e=Ll(Oi,"subjects",t);await jC(e)}catch(e){throw console.error("Error deleting subject:",e),e}},Jd=async()=>{try{return(await VC(Gd(Oi,"subjects"))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error getting subjects:",t),t}},y3="sadmansabirtkg@gmail.com",v3="admin25",w3=()=>{const t=vs(),[e,n]=v.useState([]),[r,i]=v.useState([]),[s,o]=v.useState(!0),[a,u]=v.useState("all"),[c,d]=v.useState("all"),{isAdmin:p}=Uo();v.useEffect(()=>{(async()=>{try{o(!0);const[g,S]=await Promise.all([qs(),Jd()]);n(g),i(S)}catch(g){console.error("Error loading data:",g)}finally{o(!1)}})()},[]);const h=e.filter(x=>!(!p&&x.private||a!=="all"&&x.subject!==a||c!=="all"&&x.chapter!==c)),w=r.find(x=>x.id===a);return s?m.jsxs("div",{className:"min-h-screen flex flex-col bg-black font-sans",children:[m.jsx(yi,{}),m.jsx("main",{className:"flex-1 w-full flex items-center justify-center",children:m.jsx("div",{className:"text-white text-xl",children:"Loading..."})}),m.jsx(vi,{})]}):m.jsxs("div",{className:"min-h-screen flex flex-col bg-black font-sans",children:[m.jsx(yi,{}),m.jsxs("main",{className:"flex-1 w-full",children:[m.jsxs("section",{className:"w-full cursor-pointer py-20 px-4 text-center bg-gradient-to-br from-black via-zinc-900 to-zinc-900 animate-fade-in",children:[m.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold text-white mb-4 animate-enter",children:["Unlock ",m.jsx("span",{className:"underline decoration-white decoration-4 decoration-wavy underline-offset-4",children:"Knowledge"})," with ",m.jsx("span",{className:"text-white",children:"HSC College"})]}),m.jsx("p",{className:"max-w-xl mx-auto text-lg md:text-2xl text-gray-300 mb-8",children:"Learn at your pace with hands-on, high-impact courses for every subject. Filter and explore!"}),m.jsx(nt,{onClick:()=>t("/add-course"),className:"bg-white text-black hover:bg-gray-200 px-8 py-6 text-lg",children:"Add New Course"})]}),m.jsx("div",{className:"bg-zinc-900 border-b border-zinc-800",children:m.jsx("div",{className:"max-w-5xl mx-auto p-4",children:m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[m.jsx("div",{className:"flex-1",children:m.jsxs(Ws,{value:a,onValueChange:x=>{u(x),d("all")},children:[m.jsx(qi,{className:"bg-zinc-900 border-zinc-800 text-white",children:m.jsx(Ks,{placeholder:"Select a subject"})}),m.jsxs(Gi,{className:"bg-zinc-900 border-zinc-800",children:[m.jsx(pn,{value:"all",className:"text-white hover:bg-zinc-800",children:"All Subjects"}),r.map(x=>m.jsx(pn,{value:x.id,className:"text-white hover:bg-zinc-800",children:x.name},x.id))]})]})}),m.jsx("div",{className:"flex-1",children:m.jsxs(Ws,{value:c,onValueChange:d,disabled:!a||a==="all",children:[m.jsx(qi,{className:"bg-zinc-900 border-zinc-800 text-white",children:m.jsx(Ks,{placeholder:"Select a chapter"})}),m.jsxs(Gi,{className:"bg-zinc-900 border-zinc-800",children:[m.jsx(pn,{value:"all",className:"text-white hover:bg-zinc-800",children:"All Chapters"}),w==null?void 0:w.chapters.map(x=>m.jsx(pn,{value:x.id,className:"text-white hover:bg-zinc-800",children:x.name},x.id))]})]})})]})})}),m.jsx("section",{className:"max-w-5xl mx-auto py-12 px-4",children:h.length===0?m.jsx("div",{className:"text-gray-400 text-lg flex items-center justify-center min-h-[200px]",children:"No courses found for the selected filters."}):m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:h.map((x,g)=>m.jsx(zD,{course:x,subjects:r,idx:g},x.id))})})]}),m.jsx(vi,{})]})},_3=()=>{const t=kl();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),m.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),m.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},nn=v.forwardRef(({className:t,type:e,...n},r)=>m.jsx("input",{type:e,className:Oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));nn.displayName="Input";var x3="Label",FC=v.forwardRef((t,e)=>m.jsx(Te.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));FC.displayName=x3;var zC=FC;const E3=Km("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Un=v.forwardRef(({className:t,...e},n)=>m.jsx(zC,{ref:n,className:Oe(E3(),t),...e}));Un.displayName=zC.displayName;var Kg="Dialog",[UC,$C]=Al(Kg),[T3,jn]=UC(Kg),BC=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=v.useRef(null),u=v.useRef(null),[c=!1,d]=Pc({prop:r,defaultProp:i,onChange:s});return m.jsx(T3,{scope:e,triggerRef:a,contentRef:u,contentId:to(),titleId:to(),descriptionId:to(),open:c,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(p=>!p),[d]),modal:o,children:n})};BC.displayName=Kg;var HC="DialogTrigger",WC=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=jn(HC,n),s=ke(e,i.triggerRef);return m.jsx(Te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Qg(i.open),...r,ref:s,onClick:ue(t.onClick,i.onOpenToggle)})});WC.displayName=HC;var qg="DialogPortal",[S3,KC]=UC(qg,{forceMount:void 0}),qC=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=jn(qg,e);return m.jsx(S3,{scope:e,forceMount:n,children:v.Children.map(r,o=>m.jsx(Mo,{present:n||s.open,children:m.jsx(vd,{asChild:!0,container:i,children:o})}))})};qC.displayName=qg;var td="DialogOverlay",GC=v.forwardRef((t,e)=>{const n=KC(td,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=jn(td,t.__scopeDialog);return s.modal?m.jsx(Mo,{present:r||s.open,children:m.jsx(C3,{...i,ref:e})}):null});GC.displayName=td;var C3=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=jn(td,n);return m.jsx(ug,{as,allowPinchZoom:!0,shards:[i.contentRef],children:m.jsx(Te.div,{"data-state":Qg(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),fs="DialogContent",QC=v.forwardRef((t,e)=>{const n=KC(fs,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=jn(fs,t.__scopeDialog);return m.jsx(Mo,{present:r||s.open,children:s.modal?m.jsx(b3,{...i,ref:e}):m.jsx(A3,{...i,ref:e})})});QC.displayName=fs;var b3=v.forwardRef((t,e)=>{const n=jn(fs,t.__scopeDialog),r=v.useRef(null),i=ke(e,n.contentRef,r);return v.useEffect(()=>{const s=r.current;if(s)return sT(s)},[]),m.jsx(YC,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ue(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:ue(t.onFocusOutside,s=>s.preventDefault())})}),A3=v.forwardRef((t,e)=>{const n=jn(fs,t.__scopeDialog),r=v.useRef(!1),i=v.useRef(!1);return m.jsx(YC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var u,c;(u=t.onInteractOutside)==null||u.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),YC=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=jn(fs,n),u=v.useRef(null),c=ke(e,u);return nT(),m.jsxs(m.Fragment,{children:[m.jsx(lg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:m.jsx(Il,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Qg(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(R3,{titleId:a.titleId}),m.jsx(N3,{contentRef:u,descriptionId:a.descriptionId})]})]})}),Gg="DialogTitle",XC=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=jn(Gg,n);return m.jsx(Te.h2,{id:i.titleId,...r,ref:e})});XC.displayName=Gg;var JC="DialogDescription",ZC=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=jn(JC,n);return m.jsx(Te.p,{id:i.descriptionId,...r,ref:e})});ZC.displayName=JC;var eb="DialogClose",tb=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=jn(eb,n);return m.jsx(Te.button,{type:"button",...r,ref:e,onClick:ue(t.onClick,()=>i.onOpenChange(!1))})});tb.displayName=eb;function Qg(t){return t?"open":"closed"}var nb="DialogTitleWarning",[I3,rb]=LR(nb,{contentName:fs,titleName:Gg,docsSlug:"dialog"}),R3=({titleId:t})=>{const e=rb(nb),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},P3="DialogDescriptionWarning",N3=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${rb(P3).contentName}}.`;return v.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},k3=BC,D3=WC,O3=qC,V3=GC,M3=QC,j3=XC,L3=ZC,ib=tb,sb="AlertDialog",[F3,gF]=Al(sb,[$C]),Cr=$C(),ob=t=>{const{__scopeAlertDialog:e,...n}=t,r=Cr(e);return m.jsx(k3,{...r,...n,modal:!0})};ob.displayName=sb;var z3="AlertDialogTrigger",ab=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Cr(n);return m.jsx(D3,{...i,...r,ref:e})});ab.displayName=z3;var U3="AlertDialogPortal",lb=t=>{const{__scopeAlertDialog:e,...n}=t,r=Cr(e);return m.jsx(O3,{...r,...n})};lb.displayName=U3;var $3="AlertDialogOverlay",ub=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Cr(n);return m.jsx(V3,{...i,...r,ref:e})});ub.displayName=$3;var oo="AlertDialogContent",[B3,H3]=F3(oo),cb=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=Cr(n),o=v.useRef(null),a=ke(e,o),u=v.useRef(null);return m.jsx(I3,{contentName:oo,titleName:db,docsSlug:"alert-dialog",children:m.jsx(B3,{scope:n,cancelRef:u,children:m.jsxs(M3,{role:"alertdialog",...s,...i,ref:a,onOpenAutoFocus:ue(i.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=u.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[m.jsx($m,{children:r}),m.jsx(K3,{contentRef:o})]})})})});cb.displayName=oo;var db="AlertDialogTitle",hb=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Cr(n);return m.jsx(j3,{...i,...r,ref:e})});hb.displayName=db;var fb="AlertDialogDescription",pb=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Cr(n);return m.jsx(L3,{...i,...r,ref:e})});pb.displayName=fb;var W3="AlertDialogAction",mb=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Cr(n);return m.jsx(ib,{...i,...r,ref:e})});mb.displayName=W3;var gb="AlertDialogCancel",yb=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=H3(gb,n),s=Cr(n),o=ke(e,i);return m.jsx(ib,{...s,...r,ref:o})});yb.displayName=gb;var K3=({contentRef:t})=>{const e=`\`${oo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${oo}\` by passing a \`${fb}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${oo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},q3=ob,G3=ab,Q3=lb,vb=ub,wb=cb,_b=mb,xb=yb,Eb=hb,Tb=pb;const Y3=q3,X3=G3,J3=Q3,Sb=v.forwardRef(({className:t,...e},n)=>m.jsx(vb,{className:Oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));Sb.displayName=vb.displayName;const Cb=v.forwardRef(({className:t,...e},n)=>m.jsxs(J3,{children:[m.jsx(Sb,{}),m.jsx(wb,{ref:n,className:Oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Cb.displayName=wb.displayName;const bb=({className:t,...e})=>m.jsx("div",{className:Oe("flex flex-col space-y-2 text-center sm:text-left",t),...e});bb.displayName="AlertDialogHeader";const Ab=({className:t,...e})=>m.jsx("div",{className:Oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ab.displayName="AlertDialogFooter";const Ib=v.forwardRef(({className:t,...e},n)=>m.jsx(Eb,{ref:n,className:Oe("text-lg font-semibold",t),...e}));Ib.displayName=Eb.displayName;const Rb=v.forwardRef(({className:t,...e},n)=>m.jsx(Tb,{ref:n,className:Oe("text-sm text-muted-foreground",t),...e}));Rb.displayName=Tb.displayName;const Pb=v.forwardRef(({className:t,...e},n)=>m.jsx(_b,{ref:n,className:Oe(ag(),t),...e}));Pb.displayName=_b.displayName;const Nb=v.forwardRef(({className:t,...e},n)=>m.jsx(xb,{ref:n,className:Oe(ag({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Nb.displayName=xb.displayName;const Z3=({course:t,onEdit:e,onDelete:n,idx:r})=>m.jsxs("div",{className:"bg-zinc-900 rounded-lg overflow-hidden shadow-lg transform transition-all duration-300 hover:scale-105 animate-enter",style:{animationDelay:`${r*100}ms`},children:[m.jsx("div",{className:"relative aspect-video",children:m.jsx("img",{src:t.thumbnailUrl,alt:t.title,className:"w-full h-full object-cover"})}),m.jsxs("div",{className:"p-4 flex flex-col h-[180px]",children:[m.jsx("h3",{className:"text-xl font-semibold text-white mb-2 line-clamp-2",children:t.title}),m.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[m.jsx("span",{className:"px-2 py-1 bg-zinc-800 text-gray-300 rounded text-sm",children:t.subject}),m.jsx("span",{className:"px-2 py-1 bg-zinc-800 text-gray-300 rounded text-sm",children:t.chapter})]}),m.jsxs("div",{className:"mt-auto flex gap-2",children:[m.jsxs(nt,{variant:"outline",size:"sm",onClick:()=>e(t.id),className:"flex-1 bg-zinc-800 hover:bg-zinc-700 hover:text-white text-white border-zinc-700",children:[m.jsx(RP,{className:"w-4 h-4 mr-2"}),"Edit"]}),m.jsxs(Y3,{children:[m.jsx(X3,{asChild:!0,children:m.jsxs(nt,{variant:"outline",size:"sm",className:"flex-1 bg-zinc-800 hover:bg-red-900/20 text-red-500 border-zinc-700 hover:text-red-500",children:[m.jsx(Qx,{className:"w-4 h-4 mr-2"}),"Delete"]})}),m.jsxs(Cb,{className:"bg-zinc-900 border-zinc-800",children:[m.jsxs(bb,{children:[m.jsx(Ib,{className:"text-white",children:"Are you sure?"}),m.jsx(Rb,{className:"text-gray-400",children:"This action cannot be undone. This will permanently delete the course."})]}),m.jsxs(Ab,{children:[m.jsx(Nb,{className:"bg-zinc-800 text-white border-zinc-700 hover:bg-zinc-700",children:"Cancel"}),m.jsx(Pb,{onClick:()=>n(t.id),className:"bg-red-600 text-white hover:bg-red-700",children:"Delete"})]})]})]})]})]})]}),Gw=()=>{const t=vs(),{id:e}=XE(),{toast:n}=Um(),[r,i]=v.useState([]),[s,o]=v.useState([]),[a,u]=v.useState(!0),[c,d]=v.useState({title:"",subject:"all",chapter:"all",thumbnailUrl:"",customThumbnailUrl:"",courseType:"video",videoUrl:"",resources:[]}),[p,h]=v.useState({title:"",url:"",type:"pdf"}),w=!!e,{isAdmin:x}=Uo();v.useEffect(()=>{(async()=>{try{u(!0);const T=await Jd();i(T);const b=await qs();if(o(b),w&&e){const A=b.find(R=>R.id===e);A?d({title:A.title,subject:A.subject,chapter:A.chapter,thumbnailUrl:A.thumbnailUrl,customThumbnailUrl:A.customThumbnailUrl,courseType:A.courseType,videoUrl:A.videoUrl,resources:A.resources||[]}):(n({title:"Error",description:"Course not found. Redirecting to course list.",variant:"destructive"}),t("/"))}}catch(T){console.error("Error loading data:",T),n({title:"Error",description:"Failed to load data. Please try again.",variant:"destructive"}),t("/")}finally{u(!1)}})()},[e,w,n,t]);const g=async V=>{V.preventDefault();try{if(w&&e){await f3(e,c);const T=await qs();o(T),n({title:"Course updated successfully!",description:"Your course has been updated."})}else{await h3(c);const T=await qs();o(T),n({title:"Course added successfully!",description:"Your course has been added to the platform."})}w||d({title:"",subject:"all",chapter:"all",thumbnailUrl:"",customThumbnailUrl:"",courseType:"video",videoUrl:"",resources:[]})}catch(T){console.error("Error saving course:",T),n({title:"Error",description:"Failed to save course. Please try again.",variant:"destructive"})}},S=async V=>{try{await p3(V);const T=await qs();o(T),n({title:"Course deleted successfully!",description:"The course has been removed from the platform."})}catch(T){console.error("Error deleting course:",T),n({title:"Error",description:"Failed to delete course. Please try again.",variant:"destructive"})}},E=V=>{const{name:T,value:b}=V.target;d(A=>({...A,[T]:b}))},_=(V,T)=>{d(b=>({...b,[V]:T,...V==="subject"?{chapter:"all"}:{}}))},C=r.find(V=>V.id===c.subject),N=()=>{p.title&&p.url&&(d(V=>({...V,resources:[...V.resources,p]})),h({title:"",url:"",type:"pdf"}))},O=V=>{d(T=>({...T,resources:T.resources.filter((b,A)=>A!==V)}))};return a?m.jsxs("div",{className:"min-h-screen flex flex-col bg-black font-sans",children:[m.jsx(yi,{}),m.jsx("main",{className:"flex-1 w-full flex items-center justify-center",children:m.jsx("div",{className:"text-white text-xl",children:"Loading..."})}),m.jsx(vi,{})]}):m.jsxs("div",{className:"min-h-screen flex flex-col bg-black font-sans",children:[m.jsx(yi,{}),m.jsx("main",{className:"flex-1 w-full",children:m.jsx("section",{className:"w-full py-12 px-4",children:m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:w?"Edit Course":"Add New Course"}),m.jsxs("form",{onSubmit:g,className:"space-y-6 bg-zinc-900 p-6 rounded-lg mb-12",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Un,{htmlFor:"title",className:"text-white",children:"Course Title"}),m.jsx(nn,{id:"title",name:"title",value:c.title,onChange:E,placeholder:"Enter course title",required:!0,className:"bg-zinc-800 border-zinc-700 text-white"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Un,{htmlFor:"subject",className:"text-white",children:"Subject"}),m.jsxs(Ws,{value:c.subject,onValueChange:V=>_("subject",V),children:[m.jsx(qi,{className:"bg-zinc-800 border-zinc-700 text-white",children:m.jsx(Ks,{placeholder:"Select a subject"})}),m.jsx(Gi,{className:"bg-zinc-900 border-zinc-800",children:r.map(V=>m.jsx(pn,{value:V.id,className:"text-white hover:bg-zinc-800",children:V.name},V.id))})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Un,{htmlFor:"chapter",className:"text-white",children:"Chapter"}),m.jsxs(Ws,{value:c.chapter,onValueChange:V=>_("chapter",V),disabled:!c.subject,children:[m.jsx(qi,{className:"bg-zinc-800 border-zinc-700 text-white",children:m.jsx(Ks,{placeholder:"Select a chapter"})}),m.jsx(Gi,{className:"bg-zinc-900 border-zinc-800",children:C==null?void 0:C.chapters.map(V=>m.jsx(pn,{value:V.id,className:"text-white hover:bg-zinc-800",children:V.name},V.id))})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Un,{htmlFor:"courseType",className:"text-white",children:"Course Type"}),m.jsxs(Ws,{value:c.courseType,onValueChange:V=>_("courseType",V),children:[m.jsx(qi,{className:"bg-zinc-800 border-zinc-700 text-white",children:m.jsx(Ks,{placeholder:"Select course type"})}),m.jsxs(Gi,{className:"bg-zinc-900 border-zinc-800",children:[m.jsx(pn,{value:"video",className:"text-white hover:bg-zinc-800",children:"Video Course"}),m.jsx(pn,{value:"books",className:"text-white hover:bg-zinc-800",children:"Book Collection"})]})]})]}),c.courseType==="video"&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(Un,{htmlFor:"videoUrl",className:"text-white",children:"Video URL"}),m.jsx(nn,{id:"videoUrl",name:"videoUrl",value:c.videoUrl,onChange:E,placeholder:"Enter video URL",required:!0,className:"bg-zinc-800 border-zinc-700 text-white"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Un,{htmlFor:"thumbnailUrl",className:"text-white",children:"Default Thumbnail URL"}),m.jsx(nn,{id:"thumbnailUrl",name:"thumbnailUrl",value:c.thumbnailUrl,onChange:E,placeholder:"Enter default thumbnail image URL",required:!0,className:"bg-zinc-800 border-zinc-700 text-white"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Un,{htmlFor:"customThumbnailUrl",className:"text-white",children:"Custom Thumbnail URL (optional)"}),m.jsx(nn,{id:"customThumbnailUrl",name:"customThumbnailUrl",value:c.customThumbnailUrl,onChange:E,placeholder:"Enter custom thumbnail image URL (optional)",className:"bg-zinc-800 border-zinc-700 text-white"})]}),x&&m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx("input",{type:"checkbox",id:"private",checked:c.private||!1,onChange:V=>d(T=>({...T,private:V.target.checked})),className:"accent-white h-4 w-4"}),m.jsx(Un,{htmlFor:"private",className:"text-white",children:"Private (only visible to admin)"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(Un,{className:"text-white",children:"Additional Resources"}),m.jsx("div",{className:"space-y-4",children:c.resources.map((V,T)=>m.jsxs("div",{className:"flex items-center gap-4 bg-zinc-800 p-4 rounded-lg",children:[m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-white font-medium truncate",children:V.title}),m.jsx("p",{className:"text-gray-400 text-sm truncate",title:V.url,children:V.url})]}),m.jsx(nt,{type:"button",variant:"ghost",onClick:()=>O(T),className:"text-red-500 hover:text-red-600 shrink-0",children:m.jsx(Qx,{className:"h-4 w-4"})})]},T))}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"flex-1 space-y-2",children:[m.jsx(nn,{value:p.title,onChange:V=>h(T=>({...T,title:V.target.value})),placeholder:"Resource Title",className:"bg-zinc-800 border-zinc-700 text-white"}),m.jsx(nn,{value:p.url,onChange:V=>h(T=>({...T,url:V.target.value})),placeholder:"Resource URL",className:"bg-zinc-800 border-zinc-700 text-white"}),m.jsxs(Ws,{value:p.type,onValueChange:V=>h(T=>({...T,type:V})),children:[m.jsx(qi,{className:"bg-zinc-800 border-zinc-700 text-white",children:m.jsx(Ks,{placeholder:"Select resource type"})}),m.jsxs(Gi,{className:"bg-zinc-900 border-zinc-800",children:[m.jsx(pn,{value:"pdf",className:"text-white hover:bg-zinc-800",children:"PDF"}),m.jsx(pn,{value:"link",className:"text-white hover:bg-zinc-800",children:"Link"}),m.jsx(pn,{value:"other",className:"text-white hover:bg-zinc-800",children:"Other"})]})]})]}),m.jsx(nt,{type:"button",onClick:N,className:"bg-white text-black hover:bg-gray-200 self-end shrink-0",children:"Add Resource"})]})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx(nt,{type:"submit",className:"bg-white text-black hover:bg-gray-200",children:w?"Update Course":"Add Course"}),m.jsx(nt,{type:"button",variant:"outline",onClick:()=>t("/"),className:"border-zinc-800 text-black bg-white hover:bg-white/90",children:"Cancel"})]})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map((V,T)=>m.jsx(Z3,{course:V,idx:T,onEdit:b=>t(`/edit-course/${b}`),onDelete:S},V.id))})]})})}),m.jsx(vi,{})]})},eF=()=>{const{id:t}=XE(),e=vs(),[n,r]=v.useState(null),[i,s]=v.useState([]),[o,a]=v.useState(!0),[u,c]=v.useState(!0),{isAdmin:d}=Uo();v.useEffect(()=>{(async()=>{try{a(!0);const[g,S]=await Promise.all([qs(),Jd()]),E=g.find(_=>_.id===t);if(E){if(E.private&&!d){e("/");return}r(E),s(S)}else e("/")}catch(g){console.error("Error loading data:",g),e("/")}finally{a(!1)}})()},[t,e,d]);const p=x=>{const g=i.find(S=>S.id===x);return(g==null?void 0:g.name)||x},h=(x,g)=>{const S=i.find(_=>_.id===x),E=S==null?void 0:S.chapters.find(_=>_.id===g);return(E==null?void 0:E.name)||g},w=x=>x.includes("youtube.com")||x.includes("youtu.be")?`https://www.youtube.com/embed/${x.includes("youtube.com/watch?v=")?x.split("watch?v=")[1].split("&")[0]:x.split("youtu.be/")[1].split("?")[0]}`:x.includes("vimeo.com")?`https://player.vimeo.com/video/${x.split("vimeo.com/")[1].split("?")[0]}`:x;return o?m.jsxs("div",{className:"min-h-screen flex flex-col bg-black font-sans",children:[m.jsx(yi,{}),m.jsx("main",{className:"flex-1 w-full flex items-center justify-center",children:m.jsx("div",{className:"text-white text-xl",children:"Loading..."})}),m.jsx(vi,{})]}):n?m.jsxs("div",{className:"min-h-screen flex flex-col bg-black font-sans",children:[m.jsx(yi,{}),m.jsx("main",{className:"flex-1 w-full",children:m.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[m.jsx(nt,{variant:"ghost",onClick:()=>e("/"),className:"text-white hover:bg-white/90 mb-6",children:" Back to Courses"}),m.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[m.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white",children:n.title}),d&&n.private&&m.jsxs("span",{className:"flex items-center gap-1 bg-red-600 text-white text-xs px-2 py-1 rounded",children:[m.jsx(Gx,{className:"h-3 w-3"})," Private"]})]}),n.courseType==="video"&&n.videoUrl?m.jsxs("div",{className:"aspect-video w-full bg-zinc-900 rounded-lg overflow-hidden mb-8 relative",children:[u&&m.jsx("div",{className:"absolute inset-0 bg-zinc-800 animate-pulse flex items-center justify-center",children:m.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin"})}),m.jsx("iframe",{src:w(n.videoUrl),className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:n.title,onLoad:()=>c(!1)})]}):m.jsxs("div",{className:"w-full bg-zinc-900 rounded-lg overflow-hidden mb-8 p-6",children:[m.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Book Collection"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.resources.map((x,g)=>m.jsx("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:"bg-zinc-800 p-4 rounded-lg hover:bg-zinc-700 transition-colors",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(AP,{className:"h-6 w-6 text-blue-400"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-white font-medium",children:x.title}),m.jsx("p",{className:"text-gray-400 text-sm truncate",children:x.url})]})]})},g))})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Course Details"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-xl font-semibold text-white",children:"Additional Resources"}),m.jsx("div",{className:"space-y-4",children:n.resources.map((x,g)=>m.jsx("div",{className:"flex items-center gap-4 bg-zinc-800 p-4 rounded-lg",children:m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-white font-medium truncate",children:x.title}),m.jsx("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-sm truncate block",title:x.url,children:x.url})]})},g))})]})]}),m.jsxs("div",{className:"bg-zinc-900 p-6 rounded-lg",children:[m.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Course Information"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400",children:"Subject"}),m.jsx("p",{className:"text-white capitalize",children:p(n.subject)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400",children:"Chapter"}),m.jsx("p",{className:"text-white capitalize",children:h(n.subject,n.chapter)})]})]})]})]})]})}),m.jsx(vi,{})]}):null},tF=()=>{var V;const{toast:t}=Um(),[e,n]=v.useState([]),[r,i]=v.useState(""),[s,o]=v.useState(""),[a,u]=v.useState(null),[c,d]=v.useState(null),[p,h]=v.useState(null),[w,x]=v.useState(!1);v.useEffect(()=>{g()},[]);const g=async()=>{try{x(!0);const T=await Jd();n(T)}catch(T){console.error("Error loading subjects:",T),t({title:"Error",description:"Failed to load subjects. Please try again.",variant:"destructive"})}finally{x(!1)}},S=async()=>{if(r.trim())try{x(!0),await m3({name:r,chapters:[]}),await g(),i(""),t({title:"Subject added successfully!",description:`Added ${r} to subjects.`})}catch(T){console.error("Error adding subject:",T),t({title:"Error",description:"Failed to add subject. Please try again.",variant:"destructive"})}finally{x(!1)}},E=async()=>{if(!(!a||!s.trim()))try{x(!0);const T=e.find(A=>A.id===a);if(!T)return;const b={...T,chapters:[...T.chapters,{id:s.toLowerCase().replace(/\s+/g,"-"),name:s}]};await Mu(a,b),await g(),o(""),t({title:"Chapter added successfully!",description:`Added ${s} to ${T.name}.`})}catch(T){console.error("Error adding chapter:",T),t({title:"Error",description:"Failed to add chapter. Please try again.",variant:"destructive"})}finally{x(!1)}},_=async T=>{try{x(!0),await g3(T),await g(),a===T&&u(null),t({title:"Subject deleted successfully!",description:"The subject has been removed."})}catch(b){console.error("Error deleting subject:",b),t({title:"Error",description:"Failed to delete subject. Please try again.",variant:"destructive"})}finally{x(!1)}},C=async(T,b)=>{try{x(!0);const A=e.find(k=>k.id===T);if(!A)return;const R={...A,chapters:A.chapters.filter(k=>k.id!==b)};await Mu(T,R),await g(),t({title:"Chapter deleted successfully!",description:"The chapter has been removed."})}catch(A){console.error("Error deleting chapter:",A),t({title:"Error",description:"Failed to delete chapter. Please try again.",variant:"destructive"})}finally{x(!1)}},N=async(T,b)=>{if(b.trim())try{x(!0);const A=e.find(k=>k.id===T);if(!A)return;const R={...A,name:b};await Mu(T,R),await g(),d(null),t({title:"Subject updated successfully!",description:"The subject name has been updated."})}catch(A){console.error("Error updating subject:",A),t({title:"Error",description:"Failed to update subject. Please try again.",variant:"destructive"})}finally{x(!1)}},O=async(T,b,A)=>{if(A.trim())try{x(!0);const R=e.find(D=>D.id===T);if(!R)return;const k={...R,chapters:R.chapters.map(D=>D.id===b?{...D,name:A}:D)};await Mu(T,k),await g(),h(null),t({title:"Chapter updated successfully!",description:"The chapter name has been updated."})}catch(R){console.error("Error updating chapter:",R),t({title:"Error",description:"Failed to update chapter. Please try again.",variant:"destructive"})}finally{x(!1)}};return m.jsxs("div",{className:"min-h-screen flex flex-col bg-black font-sans",children:[m.jsx(yi,{}),m.jsx("main",{className:"flex-1 w-full",children:m.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Course Management"}),m.jsxs("div",{className:"bg-zinc-900 p-6 rounded-lg mb-8",children:[m.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Add New Subject"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:"flex-1",children:m.jsx(nn,{value:r,onChange:T=>i(T.target.value),placeholder:"Enter subject name",className:"bg-zinc-800 border-zinc-700 text-white",disabled:w})}),m.jsx(nt,{onClick:S,className:"bg-white text-black hover:bg-gray-200",disabled:w,children:w?"Adding...":"Add Subject"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"bg-zinc-900 p-6 rounded-lg",children:[m.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Subjects"}),m.jsx("div",{className:"space-y-4",children:e.map(T=>m.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-800 rounded-lg",children:[c===T.id?m.jsx(nn,{defaultValue:T.name,onBlur:b=>N(T.id,b.target.value),onKeyDown:b=>{b.key==="Enter"&&N(T.id,b.currentTarget.value)},className:"bg-zinc-700 border-zinc-600 text-white",autoFocus:!0,disabled:w}):m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("span",{className:"text-white cursor-pointer",onClick:()=>u(T.id),children:T.name}),m.jsxs("span",{className:"text-gray-400",children:["(",T.chapters.length," chapters)"]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(nt,{variant:"ghost",onClick:()=>d(T.id),className:"text-white hover:bg-zinc-700",disabled:w,children:"Edit"}),m.jsx(nt,{variant:"ghost",onClick:()=>_(T.id),className:"text-red-400 hover:bg-zinc-700",disabled:w,children:"Delete"})]})]},T.id))})]}),m.jsxs("div",{className:"bg-zinc-900 p-6 rounded-lg",children:[m.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Chapters"}),a?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex gap-4 mb-4",children:[m.jsx("div",{className:"flex-1",children:m.jsx(nn,{value:s,onChange:T=>o(T.target.value),placeholder:"Enter chapter name",className:"bg-zinc-800 border-zinc-700 text-white",disabled:w})}),m.jsx(nt,{onClick:E,className:"bg-white text-black hover:bg-gray-200",disabled:w,children:w?"Adding...":"Add Chapter"})]}),m.jsx("div",{className:"space-y-4",children:(V=e.find(T=>T.id===a))==null?void 0:V.chapters.map(T=>m.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-800 rounded-lg",children:[p===T.id?m.jsx(nn,{defaultValue:T.name,onBlur:b=>O(a,T.id,b.target.value),onKeyDown:b=>{b.key==="Enter"&&O(a,T.id,b.currentTarget.value)},className:"bg-zinc-700 border-zinc-600 text-white",autoFocus:!0,disabled:w}):m.jsx("span",{className:"text-white",children:T.name}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(nt,{variant:"ghost",onClick:()=>h(T.id),className:"text-white hover:bg-zinc-700",disabled:w,children:"Edit"}),m.jsx(nt,{variant:"ghost",onClick:()=>C(a,T.id),className:"text-red-400 hover:bg-zinc-700",disabled:w,children:"Delete"})]})]},T.id))})]}):m.jsx("p",{className:"text-gray-400",children:"Select a subject to manage its chapters"})]})]})]})}),m.jsx(vi,{})]})},nF=()=>{const[t,e]=v.useState(""),[n,r]=v.useState(""),[i,s]=v.useState(""),{login:o}=Uo(),a=vs(),u=c=>{c.preventDefault(),t===y3&&n===v3?(o(t),a("/")):s("Invalid credentials")};return m.jsxs("div",{className:"min-h-screen flex flex-col bg-black font-sans",children:[m.jsx(yi,{}),m.jsx("main",{className:"flex-1 w-full flex items-center justify-center",children:m.jsxs("form",{onSubmit:u,className:"bg-zinc-900 p-8 rounded-lg shadow-lg w-full max-w-md",children:[m.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Admin Login"}),i&&m.jsx("div",{className:"text-red-500 mb-4",children:i}),m.jsx("div",{className:"mb-4",children:m.jsx(nn,{type:"email",placeholder:"Email",value:t,onChange:c=>e(c.target.value),className:"bg-zinc-800 border-zinc-700 text-white",required:!0})}),m.jsx("div",{className:"mb-6",children:m.jsx(nn,{type:"password",placeholder:"Password",value:n,onChange:c=>r(c.target.value),className:"bg-zinc-800 border-zinc-700 text-white",required:!0})}),m.jsx(nt,{type:"submit",className:"w-full bg-white text-black hover:bg-gray-200",children:"Login"})]})}),m.jsx(vi,{})]})},rF=new Lk,iF=()=>m.jsx(zk,{client:rF,children:m.jsxs(mk,{children:[m.jsx(hN,{}),m.jsx(UN,{}),m.jsx(FD,{children:m.jsx(VD,{children:m.jsxs(ID,{children:[m.jsx(Mr,{path:"/",element:m.jsx(w3,{})}),m.jsx(Mr,{path:"/add-course",element:m.jsx(Gw,{})}),m.jsx(Mr,{path:"/edit-course/:id",element:m.jsx(Gw,{})}),m.jsx(Mr,{path:"/course/:id",element:m.jsx(eF,{})}),m.jsx(Mr,{path:"/course",element:m.jsx(tF,{})}),m.jsx(Mr,{path:"/login",element:m.jsx(nF,{})}),m.jsx(Mr,{path:"*",element:m.jsx(_3,{})})]})})})]})});vx(document.getElementById("root")).render(m.jsx(iF,{}));
